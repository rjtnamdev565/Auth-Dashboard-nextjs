"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/mongodb-connection-string-url";
exports.ids = ["vendor-chunks/mongodb-connection-string-url"];
exports.modules = {

/***/ "(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/mongodb-connection-string-url/lib/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.CommaAndColonSeparatedRecord = exports.ConnectionString = exports.redactConnectionString = void 0;\nconst whatwg_url_1 = __webpack_require__(/*! whatwg-url */ \"(ssr)/./node_modules/whatwg-url/index.js\");\nconst redact_1 = __webpack_require__(/*! ./redact */ \"(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js\");\nObject.defineProperty(exports, \"redactConnectionString\", ({\n    enumerable: true,\n    get: function() {\n        return redact_1.redactConnectionString;\n    }\n}));\nconst DUMMY_HOSTNAME = \"__this_is_a_placeholder__\";\nfunction connectionStringHasValidScheme(connectionString) {\n    return connectionString.startsWith(\"mongodb://\") || connectionString.startsWith(\"mongodb+srv://\");\n}\nconst HOSTS_REGEX = /^(?<protocol>[^/]+):\\/\\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;\nclass CaseInsensitiveMap extends Map {\n    delete(name) {\n        return super.delete(this._normalizeKey(name));\n    }\n    get(name) {\n        return super.get(this._normalizeKey(name));\n    }\n    has(name) {\n        return super.has(this._normalizeKey(name));\n    }\n    set(name, value) {\n        return super.set(this._normalizeKey(name), value);\n    }\n    _normalizeKey(name) {\n        name = `${name}`;\n        for (const key of this.keys()){\n            if (key.toLowerCase() === name.toLowerCase()) {\n                name = key;\n                break;\n            }\n        }\n        return name;\n    }\n}\nfunction caseInsenstiveURLSearchParams(Ctor) {\n    return class CaseInsenstiveURLSearchParams extends Ctor {\n        append(name, value) {\n            return super.append(this._normalizeKey(name), value);\n        }\n        delete(name) {\n            return super.delete(this._normalizeKey(name));\n        }\n        get(name) {\n            return super.get(this._normalizeKey(name));\n        }\n        getAll(name) {\n            return super.getAll(this._normalizeKey(name));\n        }\n        has(name) {\n            return super.has(this._normalizeKey(name));\n        }\n        set(name, value) {\n            return super.set(this._normalizeKey(name), value);\n        }\n        keys() {\n            return super.keys();\n        }\n        values() {\n            return super.values();\n        }\n        entries() {\n            return super.entries();\n        }\n        [Symbol.iterator]() {\n            return super[Symbol.iterator]();\n        }\n        _normalizeKey(name) {\n            return CaseInsensitiveMap.prototype._normalizeKey.call(this, name);\n        }\n    };\n}\nclass URLWithoutHost extends whatwg_url_1.URL {\n}\nclass MongoParseError extends Error {\n    get name() {\n        return \"MongoParseError\";\n    }\n}\nclass ConnectionString extends URLWithoutHost {\n    constructor(uri, options = {}){\n        var _a;\n        const { looseValidation } = options;\n        if (!looseValidation && !connectionStringHasValidScheme(uri)) {\n            throw new MongoParseError('Invalid scheme, expected connection string to start with \"mongodb://\" or \"mongodb+srv://\"');\n        }\n        const match = uri.match(HOSTS_REGEX);\n        if (!match) {\n            throw new MongoParseError(`Invalid connection string \"${uri}\"`);\n        }\n        const { protocol, username, password, hosts, rest } = (_a = match.groups) !== null && _a !== void 0 ? _a : {};\n        if (!looseValidation) {\n            if (!protocol || !hosts) {\n                throw new MongoParseError(`Protocol and host list are required in \"${uri}\"`);\n            }\n            try {\n                decodeURIComponent(username !== null && username !== void 0 ? username : \"\");\n                decodeURIComponent(password !== null && password !== void 0 ? password : \"\");\n            } catch (err) {\n                throw new MongoParseError(err.message);\n            }\n            const illegalCharacters = /[:/?#[\\]@]/gi;\n            if (username === null || username === void 0 ? void 0 : username.match(illegalCharacters)) {\n                throw new MongoParseError(`Username contains unescaped characters ${username}`);\n            }\n            if (!username || !password) {\n                const uriWithoutProtocol = uri.replace(`${protocol}://`, \"\");\n                if (uriWithoutProtocol.startsWith(\"@\") || uriWithoutProtocol.startsWith(\":\")) {\n                    throw new MongoParseError(\"URI contained empty userinfo section\");\n                }\n            }\n            if (password === null || password === void 0 ? void 0 : password.match(illegalCharacters)) {\n                throw new MongoParseError(\"Password contains unescaped characters\");\n            }\n        }\n        let authString = \"\";\n        if (typeof username === \"string\") authString += username;\n        if (typeof password === \"string\") authString += `:${password}`;\n        if (authString) authString += \"@\";\n        try {\n            super(`${protocol.toLowerCase()}://${authString}${DUMMY_HOSTNAME}${rest}`);\n        } catch (err) {\n            if (looseValidation) {\n                new ConnectionString(uri, {\n                    ...options,\n                    looseValidation: false\n                });\n            }\n            if (typeof err.message === \"string\") {\n                err.message = err.message.replace(DUMMY_HOSTNAME, hosts);\n            }\n            throw err;\n        }\n        this._hosts = hosts.split(\",\");\n        if (!looseValidation) {\n            if (this.isSRV && this.hosts.length !== 1) {\n                throw new MongoParseError(\"mongodb+srv URI cannot have multiple service names\");\n            }\n            if (this.isSRV && this.hosts.some((host)=>host.includes(\":\"))) {\n                throw new MongoParseError(\"mongodb+srv URI cannot have port number\");\n            }\n        }\n        if (!this.pathname) {\n            this.pathname = \"/\";\n        }\n        Object.setPrototypeOf(this.searchParams, caseInsenstiveURLSearchParams(this.searchParams.constructor).prototype);\n    }\n    get host() {\n        return DUMMY_HOSTNAME;\n    }\n    set host(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get hostname() {\n        return DUMMY_HOSTNAME;\n    }\n    set hostname(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get port() {\n        return \"\";\n    }\n    set port(_ignored) {\n        throw new Error(\"No single host for connection string\");\n    }\n    get href() {\n        return this.toString();\n    }\n    set href(_ignored) {\n        throw new Error(\"Cannot set href for connection strings\");\n    }\n    get isSRV() {\n        return this.protocol.includes(\"srv\");\n    }\n    get hosts() {\n        return this._hosts;\n    }\n    set hosts(list) {\n        this._hosts = list;\n    }\n    toString() {\n        return super.toString().replace(DUMMY_HOSTNAME, this.hosts.join(\",\"));\n    }\n    clone() {\n        return new ConnectionString(this.toString(), {\n            looseValidation: true\n        });\n    }\n    redact(options) {\n        return (0, redact_1.redactValidConnectionString)(this, options);\n    }\n    typedSearchParams() {\n        const sametype =  false && 0;\n        return this.searchParams;\n    }\n    [Symbol.for(\"nodejs.util.inspect.custom\")]() {\n        const { href, origin, protocol, username, password, hosts, pathname, search, searchParams, hash } = this;\n        return {\n            href,\n            origin,\n            protocol,\n            username,\n            password,\n            hosts,\n            pathname,\n            search,\n            searchParams,\n            hash\n        };\n    }\n}\nexports.ConnectionString = ConnectionString;\nclass CommaAndColonSeparatedRecord extends CaseInsensitiveMap {\n    constructor(from){\n        super();\n        for (const entry of (from !== null && from !== void 0 ? from : \"\").split(\",\")){\n            if (!entry) continue;\n            const colonIndex = entry.indexOf(\":\");\n            if (colonIndex === -1) {\n                this.set(entry, \"\");\n            } else {\n                this.set(entry.slice(0, colonIndex), entry.slice(colonIndex + 1));\n            }\n        }\n    }\n    toString() {\n        return [\n            ...this\n        ].map((entry)=>entry.join(\":\")).join(\",\");\n    }\n}\nexports.CommaAndColonSeparatedRecord = CommaAndColonSeparatedRecord;\nexports[\"default\"] = ConnectionString; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmwvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdERCxvQ0FBb0MsR0FBR0Esd0JBQXdCLEdBQUdBLDhCQUE4QixHQUFHLEtBQUs7QUFDeEcsTUFBTUssZUFBZUMsbUJBQU9BLENBQUMsNERBQVk7QUFDekMsTUFBTUMsV0FBV0QsbUJBQU9BLENBQUMsa0ZBQVU7QUFDbkNSLDBEQUF5RDtJQUFFVSxZQUFZO0lBQU1DLEtBQUs7UUFBYyxPQUFPRixTQUFTSCxzQkFBc0I7SUFBRTtBQUFFLENBQUMsRUFBQztBQUM1SSxNQUFNTSxpQkFBaUI7QUFDdkIsU0FBU0MsK0JBQStCQyxnQkFBZ0I7SUFDcEQsT0FBUUEsaUJBQWlCQyxVQUFVLENBQUMsaUJBQ2hDRCxpQkFBaUJDLFVBQVUsQ0FBQztBQUNwQztBQUNBLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsMkJBQTJCQztJQUM3QkMsT0FBT0MsSUFBSSxFQUFFO1FBQ1QsT0FBTyxLQUFLLENBQUNELE9BQU8sSUFBSSxDQUFDRSxhQUFhLENBQUNEO0lBQzNDO0lBQ0FULElBQUlTLElBQUksRUFBRTtRQUNOLE9BQU8sS0FBSyxDQUFDVCxJQUFJLElBQUksQ0FBQ1UsYUFBYSxDQUFDRDtJQUN4QztJQUNBRSxJQUFJRixJQUFJLEVBQUU7UUFDTixPQUFPLEtBQUssQ0FBQ0UsSUFBSSxJQUFJLENBQUNELGFBQWEsQ0FBQ0Q7SUFDeEM7SUFDQUcsSUFBSUgsSUFBSSxFQUFFakIsS0FBSyxFQUFFO1FBQ2IsT0FBTyxLQUFLLENBQUNvQixJQUFJLElBQUksQ0FBQ0YsYUFBYSxDQUFDRCxPQUFPakI7SUFDL0M7SUFDQWtCLGNBQWNELElBQUksRUFBRTtRQUNoQkEsT0FBTyxDQUFDLEVBQUVBLEtBQUssQ0FBQztRQUNoQixLQUFLLE1BQU1JLE9BQU8sSUFBSSxDQUFDQyxJQUFJLEdBQUk7WUFDM0IsSUFBSUQsSUFBSUUsV0FBVyxPQUFPTixLQUFLTSxXQUFXLElBQUk7Z0JBQzFDTixPQUFPSTtnQkFDUDtZQUNKO1FBQ0o7UUFDQSxPQUFPSjtJQUNYO0FBQ0o7QUFDQSxTQUFTTyw4QkFBOEJDLElBQUk7SUFDdkMsT0FBTyxNQUFNQyxzQ0FBc0NEO1FBQy9DRSxPQUFPVixJQUFJLEVBQUVqQixLQUFLLEVBQUU7WUFDaEIsT0FBTyxLQUFLLENBQUMyQixPQUFPLElBQUksQ0FBQ1QsYUFBYSxDQUFDRCxPQUFPakI7UUFDbEQ7UUFDQWdCLE9BQU9DLElBQUksRUFBRTtZQUNULE9BQU8sS0FBSyxDQUFDRCxPQUFPLElBQUksQ0FBQ0UsYUFBYSxDQUFDRDtRQUMzQztRQUNBVCxJQUFJUyxJQUFJLEVBQUU7WUFDTixPQUFPLEtBQUssQ0FBQ1QsSUFBSSxJQUFJLENBQUNVLGFBQWEsQ0FBQ0Q7UUFDeEM7UUFDQVcsT0FBT1gsSUFBSSxFQUFFO1lBQ1QsT0FBTyxLQUFLLENBQUNXLE9BQU8sSUFBSSxDQUFDVixhQUFhLENBQUNEO1FBQzNDO1FBQ0FFLElBQUlGLElBQUksRUFBRTtZQUNOLE9BQU8sS0FBSyxDQUFDRSxJQUFJLElBQUksQ0FBQ0QsYUFBYSxDQUFDRDtRQUN4QztRQUNBRyxJQUFJSCxJQUFJLEVBQUVqQixLQUFLLEVBQUU7WUFDYixPQUFPLEtBQUssQ0FBQ29CLElBQUksSUFBSSxDQUFDRixhQUFhLENBQUNELE9BQU9qQjtRQUMvQztRQUNBc0IsT0FBTztZQUNILE9BQU8sS0FBSyxDQUFDQTtRQUNqQjtRQUNBTyxTQUFTO1lBQ0wsT0FBTyxLQUFLLENBQUNBO1FBQ2pCO1FBQ0FDLFVBQVU7WUFDTixPQUFPLEtBQUssQ0FBQ0E7UUFDakI7UUFDQSxDQUFDQyxPQUFPQyxRQUFRLENBQUMsR0FBRztZQUNoQixPQUFPLEtBQUssQ0FBQ0QsT0FBT0MsUUFBUSxDQUFDO1FBQ2pDO1FBQ0FkLGNBQWNELElBQUksRUFBRTtZQUNoQixPQUFPSCxtQkFBbUJtQixTQUFTLENBQUNmLGFBQWEsQ0FBQ2dCLElBQUksQ0FBQyxJQUFJLEVBQUVqQjtRQUNqRTtJQUNKO0FBQ0o7QUFDQSxNQUFNa0IsdUJBQXVCL0IsYUFBYWdDLEdBQUc7QUFDN0M7QUFDQSxNQUFNQyx3QkFBd0JDO0lBQzFCLElBQUlyQixPQUFPO1FBQ1AsT0FBTztJQUNYO0FBQ0o7QUFDQSxNQUFNZix5QkFBeUJpQztJQUMzQkksWUFBWUMsR0FBRyxFQUFFQyxVQUFVLENBQUMsQ0FBQyxDQUFFO1FBQzNCLElBQUlDO1FBQ0osTUFBTSxFQUFFQyxlQUFlLEVBQUUsR0FBR0Y7UUFDNUIsSUFBSSxDQUFDRSxtQkFBbUIsQ0FBQ2pDLCtCQUErQjhCLE1BQU07WUFDMUQsTUFBTSxJQUFJSCxnQkFBZ0I7UUFDOUI7UUFDQSxNQUFNTyxRQUFRSixJQUFJSSxLQUFLLENBQUMvQjtRQUN4QixJQUFJLENBQUMrQixPQUFPO1lBQ1IsTUFBTSxJQUFJUCxnQkFBZ0IsQ0FBQywyQkFBMkIsRUFBRUcsSUFBSSxDQUFDLENBQUM7UUFDbEU7UUFDQSxNQUFNLEVBQUVLLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFLEdBQUcsQ0FBQ1AsS0FBS0UsTUFBTU0sTUFBTSxNQUFNLFFBQVFSLE9BQU8sS0FBSyxJQUFJQSxLQUFLLENBQUM7UUFDNUcsSUFBSSxDQUFDQyxpQkFBaUI7WUFDbEIsSUFBSSxDQUFDRSxZQUFZLENBQUNHLE9BQU87Z0JBQ3JCLE1BQU0sSUFBSVgsZ0JBQWdCLENBQUMsd0NBQXdDLEVBQUVHLElBQUksQ0FBQyxDQUFDO1lBQy9FO1lBQ0EsSUFBSTtnQkFDQVcsbUJBQW1CTCxhQUFhLFFBQVFBLGFBQWEsS0FBSyxJQUFJQSxXQUFXO2dCQUN6RUssbUJBQW1CSixhQUFhLFFBQVFBLGFBQWEsS0FBSyxJQUFJQSxXQUFXO1lBQzdFLEVBQ0EsT0FBT0ssS0FBSztnQkFDUixNQUFNLElBQUlmLGdCQUFnQmUsSUFBSUMsT0FBTztZQUN6QztZQUNBLE1BQU1DLG9CQUFvQjtZQUMxQixJQUFJUixhQUFhLFFBQVFBLGFBQWEsS0FBSyxJQUFJLEtBQUssSUFBSUEsU0FBU0YsS0FBSyxDQUFDVSxvQkFBb0I7Z0JBQ3ZGLE1BQU0sSUFBSWpCLGdCQUFnQixDQUFDLHVDQUF1QyxFQUFFUyxTQUFTLENBQUM7WUFDbEY7WUFDQSxJQUFJLENBQUNBLFlBQVksQ0FBQ0MsVUFBVTtnQkFDeEIsTUFBTVEscUJBQXFCZixJQUFJZ0IsT0FBTyxDQUFDLENBQUMsRUFBRVgsU0FBUyxHQUFHLENBQUMsRUFBRTtnQkFDekQsSUFBSVUsbUJBQW1CM0MsVUFBVSxDQUFDLFFBQVEyQyxtQkFBbUIzQyxVQUFVLENBQUMsTUFBTTtvQkFDMUUsTUFBTSxJQUFJeUIsZ0JBQWdCO2dCQUM5QjtZQUNKO1lBQ0EsSUFBSVUsYUFBYSxRQUFRQSxhQUFhLEtBQUssSUFBSSxLQUFLLElBQUlBLFNBQVNILEtBQUssQ0FBQ1Usb0JBQW9CO2dCQUN2RixNQUFNLElBQUlqQixnQkFBZ0I7WUFDOUI7UUFDSjtRQUNBLElBQUlvQixhQUFhO1FBQ2pCLElBQUksT0FBT1gsYUFBYSxVQUNwQlcsY0FBY1g7UUFDbEIsSUFBSSxPQUFPQyxhQUFhLFVBQ3BCVSxjQUFjLENBQUMsQ0FBQyxFQUFFVixTQUFTLENBQUM7UUFDaEMsSUFBSVUsWUFDQUEsY0FBYztRQUNsQixJQUFJO1lBQ0EsS0FBSyxDQUFDLENBQUMsRUFBRVosU0FBU3RCLFdBQVcsR0FBRyxHQUFHLEVBQUVrQyxXQUFXLEVBQUVoRCxlQUFlLEVBQUV3QyxLQUFLLENBQUM7UUFDN0UsRUFDQSxPQUFPRyxLQUFLO1lBQ1IsSUFBSVQsaUJBQWlCO2dCQUNqQixJQUFJekMsaUJBQWlCc0MsS0FBSztvQkFDdEIsR0FBR0MsT0FBTztvQkFDVkUsaUJBQWlCO2dCQUNyQjtZQUNKO1lBQ0EsSUFBSSxPQUFPUyxJQUFJQyxPQUFPLEtBQUssVUFBVTtnQkFDakNELElBQUlDLE9BQU8sR0FBR0QsSUFBSUMsT0FBTyxDQUFDRyxPQUFPLENBQUMvQyxnQkFBZ0J1QztZQUN0RDtZQUNBLE1BQU1JO1FBQ1Y7UUFDQSxJQUFJLENBQUNNLE1BQU0sR0FBR1YsTUFBTVcsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQ2hCLGlCQUFpQjtZQUNsQixJQUFJLElBQUksQ0FBQ2lCLEtBQUssSUFBSSxJQUFJLENBQUNaLEtBQUssQ0FBQ2EsTUFBTSxLQUFLLEdBQUc7Z0JBQ3ZDLE1BQU0sSUFBSXhCLGdCQUFnQjtZQUM5QjtZQUNBLElBQUksSUFBSSxDQUFDdUIsS0FBSyxJQUFJLElBQUksQ0FBQ1osS0FBSyxDQUFDYyxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFFBQVEsQ0FBQyxPQUFPO2dCQUMzRCxNQUFNLElBQUkzQixnQkFBZ0I7WUFDOUI7UUFDSjtRQUNBLElBQUksQ0FBQyxJQUFJLENBQUM0QixRQUFRLEVBQUU7WUFDaEIsSUFBSSxDQUFDQSxRQUFRLEdBQUc7UUFDcEI7UUFDQXBFLE9BQU9xRSxjQUFjLENBQUMsSUFBSSxDQUFDQyxZQUFZLEVBQUUzQyw4QkFBOEIsSUFBSSxDQUFDMkMsWUFBWSxDQUFDNUIsV0FBVyxFQUFFTixTQUFTO0lBQ25IO0lBQ0EsSUFBSThCLE9BQU87UUFBRSxPQUFPdEQ7SUFBZ0I7SUFDcEMsSUFBSXNELEtBQUtLLFFBQVEsRUFBRTtRQUFFLE1BQU0sSUFBSTlCLE1BQU07SUFBeUM7SUFDOUUsSUFBSStCLFdBQVc7UUFBRSxPQUFPNUQ7SUFBZ0I7SUFDeEMsSUFBSTRELFNBQVNELFFBQVEsRUFBRTtRQUFFLE1BQU0sSUFBSTlCLE1BQU07SUFBeUM7SUFDbEYsSUFBSWdDLE9BQU87UUFBRSxPQUFPO0lBQUk7SUFDeEIsSUFBSUEsS0FBS0YsUUFBUSxFQUFFO1FBQUUsTUFBTSxJQUFJOUIsTUFBTTtJQUF5QztJQUM5RSxJQUFJaUMsT0FBTztRQUFFLE9BQU8sSUFBSSxDQUFDQyxRQUFRO0lBQUk7SUFDckMsSUFBSUQsS0FBS0gsUUFBUSxFQUFFO1FBQUUsTUFBTSxJQUFJOUIsTUFBTTtJQUEyQztJQUNoRixJQUFJc0IsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDZixRQUFRLENBQUNtQixRQUFRLENBQUM7SUFDbEM7SUFDQSxJQUFJaEIsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDVSxNQUFNO0lBQ3RCO0lBQ0EsSUFBSVYsTUFBTXlCLElBQUksRUFBRTtRQUNaLElBQUksQ0FBQ2YsTUFBTSxHQUFHZTtJQUNsQjtJQUNBRCxXQUFXO1FBQ1AsT0FBTyxLQUFLLENBQUNBLFdBQVdoQixPQUFPLENBQUMvQyxnQkFBZ0IsSUFBSSxDQUFDdUMsS0FBSyxDQUFDMEIsSUFBSSxDQUFDO0lBQ3BFO0lBQ0FDLFFBQVE7UUFDSixPQUFPLElBQUl6RSxpQkFBaUIsSUFBSSxDQUFDc0UsUUFBUSxJQUFJO1lBQ3pDN0IsaUJBQWlCO1FBQ3JCO0lBQ0o7SUFDQWlDLE9BQU9uQyxPQUFPLEVBQUU7UUFDWixPQUFPLENBQUMsR0FBR25DLFNBQVN1RSwyQkFBMkIsRUFBRSxJQUFJLEVBQUVwQztJQUMzRDtJQUNBcUMsb0JBQW9CO1FBQ2hCLE1BQU1DLFdBQVcsTUFBSyxJQUFJLENBQStEO1FBQ3pGLE9BQU8sSUFBSSxDQUFDWixZQUFZO0lBQzVCO0lBQ0EsQ0FBQ3BDLE9BQU9rRCxHQUFHLENBQUMsOEJBQThCLEdBQUc7UUFDekMsTUFBTSxFQUFFVixJQUFJLEVBQUVXLE1BQU0sRUFBRXJDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLEtBQUssRUFBRWlCLFFBQVEsRUFBRWtCLE1BQU0sRUFBRWhCLFlBQVksRUFBRWlCLElBQUksRUFBRSxHQUFHLElBQUk7UUFDeEcsT0FBTztZQUFFYjtZQUFNVztZQUFRckM7WUFBVUM7WUFBVUM7WUFBVUM7WUFBT2lCO1lBQVVrQjtZQUFRaEI7WUFBY2lCO1FBQUs7SUFDckc7QUFDSjtBQUNBckYsd0JBQXdCLEdBQUdHO0FBQzNCLE1BQU1ELHFDQUFxQ2E7SUFDdkN5QixZQUFZOEMsSUFBSSxDQUFFO1FBQ2QsS0FBSztRQUNMLEtBQUssTUFBTUMsU0FBUyxDQUFDRCxTQUFTLFFBQVFBLFNBQVMsS0FBSyxJQUFJQSxPQUFPLEVBQUMsRUFBRzFCLEtBQUssQ0FBQyxLQUFNO1lBQzNFLElBQUksQ0FBQzJCLE9BQ0Q7WUFDSixNQUFNQyxhQUFhRCxNQUFNRSxPQUFPLENBQUM7WUFDakMsSUFBSUQsZUFBZSxDQUFDLEdBQUc7Z0JBQ25CLElBQUksQ0FBQ25FLEdBQUcsQ0FBQ2tFLE9BQU87WUFDcEIsT0FDSztnQkFDRCxJQUFJLENBQUNsRSxHQUFHLENBQUNrRSxNQUFNRyxLQUFLLENBQUMsR0FBR0YsYUFBYUQsTUFBTUcsS0FBSyxDQUFDRixhQUFhO1lBQ2xFO1FBQ0o7SUFDSjtJQUNBZixXQUFXO1FBQ1AsT0FBTztlQUFJLElBQUk7U0FBQyxDQUFDa0IsR0FBRyxDQUFDSixDQUFBQSxRQUFTQSxNQUFNWixJQUFJLENBQUMsTUFBTUEsSUFBSSxDQUFDO0lBQ3hEO0FBQ0o7QUFDQTNFLG9DQUFvQyxHQUFHRTtBQUN2Q0Ysa0JBQWUsR0FBR0csa0JBQ2xCLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYXV0aC1yZWdpc3Rlci8uL25vZGVfbW9kdWxlcy9tb25nb2RiLWNvbm5lY3Rpb24tc3RyaW5nLXVybC9saWIvaW5kZXguanM/MTE4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCA9IGV4cG9ydHMuQ29ubmVjdGlvblN0cmluZyA9IGV4cG9ydHMucmVkYWN0Q29ubmVjdGlvblN0cmluZyA9IHZvaWQgMDtcbmNvbnN0IHdoYXR3Z191cmxfMSA9IHJlcXVpcmUoXCJ3aGF0d2ctdXJsXCIpO1xuY29uc3QgcmVkYWN0XzEgPSByZXF1aXJlKFwiLi9yZWRhY3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZWRhY3RDb25uZWN0aW9uU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWRhY3RfMS5yZWRhY3RDb25uZWN0aW9uU3RyaW5nOyB9IH0pO1xuY29uc3QgRFVNTVlfSE9TVE5BTUUgPSAnX190aGlzX2lzX2FfcGxhY2Vob2xkZXJfXyc7XG5mdW5jdGlvbiBjb25uZWN0aW9uU3RyaW5nSGFzVmFsaWRTY2hlbWUoY29ubmVjdGlvblN0cmluZykge1xuICAgIHJldHVybiAoY29ubmVjdGlvblN0cmluZy5zdGFydHNXaXRoKCdtb25nb2RiOi8vJykgfHxcbiAgICAgICAgY29ubmVjdGlvblN0cmluZy5zdGFydHNXaXRoKCdtb25nb2RiK3NydjovLycpKTtcbn1cbmNvbnN0IEhPU1RTX1JFR0VYID0gL14oPzxwcm90b2NvbD5bXi9dKyk6XFwvXFwvKD86KD88dXNlcm5hbWU+W146QF0qKSg/OjooPzxwYXNzd29yZD5bXkBdKikpP0ApPyg/PGhvc3RzPig/ITopW14vP0BdKikoPzxyZXN0Pi4qKS87XG5jbGFzcyBDYXNlSW5zZW5zaXRpdmVNYXAgZXh0ZW5kcyBNYXAge1xuICAgIGRlbGV0ZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5kZWxldGUodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICB9XG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuaGFzKHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgfVxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuc2V0KHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSwgdmFsdWUpO1xuICAgIH1cbiAgICBfbm9ybWFsaXplS2V5KG5hbWUpIHtcbiAgICAgICAgbmFtZSA9IGAke25hbWV9YDtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdGhpcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGtleTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyhDdG9yKSB7XG4gICAgcmV0dXJuIGNsYXNzIENhc2VJbnNlbnN0aXZlVVJMU2VhcmNoUGFyYW1zIGV4dGVuZHMgQ3RvciB7XG4gICAgICAgIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmFwcGVuZCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmRlbGV0ZSh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGdldChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KHRoaXMuX25vcm1hbGl6ZUtleShuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0QWxsKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5nZXRBbGwodGhpcy5fbm9ybWFsaXplS2V5KG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBoYXMobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmhhcyh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnNldCh0aGlzLl9ub3JtYWxpemVLZXkobmFtZSksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBrZXlzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLmtleXMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudmFsdWVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5lbnRyaWVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXJbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICB9XG4gICAgICAgIF9ub3JtYWxpemVLZXkobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIENhc2VJbnNlbnNpdGl2ZU1hcC5wcm90b3R5cGUuX25vcm1hbGl6ZUtleS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmNsYXNzIFVSTFdpdGhvdXRIb3N0IGV4dGVuZHMgd2hhdHdnX3VybF8xLlVSTCB7XG59XG5jbGFzcyBNb25nb1BhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnTW9uZ29QYXJzZUVycm9yJztcbiAgICB9XG59XG5jbGFzcyBDb25uZWN0aW9uU3RyaW5nIGV4dGVuZHMgVVJMV2l0aG91dEhvc3Qge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBsb29zZVZhbGlkYXRpb24gfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghbG9vc2VWYWxpZGF0aW9uICYmICFjb25uZWN0aW9uU3RyaW5nSGFzVmFsaWRTY2hlbWUodXJpKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1vbmdvUGFyc2VFcnJvcignSW52YWxpZCBzY2hlbWUsIGV4cGVjdGVkIGNvbm5lY3Rpb24gc3RyaW5nIHRvIHN0YXJ0IHdpdGggXCJtb25nb2RiOi8vXCIgb3IgXCJtb25nb2RiK3NydjovL1wiJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2ggPSB1cmkubWF0Y2goSE9TVFNfUkVHRVgpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKGBJbnZhbGlkIGNvbm5lY3Rpb24gc3RyaW5nIFwiJHt1cml9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHByb3RvY29sLCB1c2VybmFtZSwgcGFzc3dvcmQsIGhvc3RzLCByZXN0IH0gPSAoX2EgPSBtYXRjaC5ncm91cHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgICAgICBpZiAoIWxvb3NlVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgaWYgKCFwcm90b2NvbCB8fCAhaG9zdHMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKGBQcm90b2NvbCBhbmQgaG9zdCBsaXN0IGFyZSByZXF1aXJlZCBpbiBcIiR7dXJpfVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudCh1c2VybmFtZSAhPT0gbnVsbCAmJiB1c2VybmFtZSAhPT0gdm9pZCAwID8gdXNlcm5hbWUgOiAnJyk7XG4gICAgICAgICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KHBhc3N3b3JkICE9PSBudWxsICYmIHBhc3N3b3JkICE9PSB2b2lkIDAgPyBwYXNzd29yZCA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlsbGVnYWxDaGFyYWN0ZXJzID0gL1s6Lz8jW1xcXUBdL2dpO1xuICAgICAgICAgICAgaWYgKHVzZXJuYW1lID09PSBudWxsIHx8IHVzZXJuYW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1c2VybmFtZS5tYXRjaChpbGxlZ2FsQ2hhcmFjdGVycykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKGBVc2VybmFtZSBjb250YWlucyB1bmVzY2FwZWQgY2hhcmFjdGVycyAke3VzZXJuYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmlXaXRob3V0UHJvdG9jb2wgPSB1cmkucmVwbGFjZShgJHtwcm90b2NvbH06Ly9gLCAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKHVyaVdpdGhvdXRQcm90b2NvbC5zdGFydHNXaXRoKCdAJykgfHwgdXJpV2l0aG91dFByb3RvY29sLnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdVUkkgY29udGFpbmVkIGVtcHR5IHVzZXJpbmZvIHNlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFzc3dvcmQgPT09IG51bGwgfHwgcGFzc3dvcmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhc3N3b3JkLm1hdGNoKGlsbGVnYWxDaGFyYWN0ZXJzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb25nb1BhcnNlRXJyb3IoJ1Bhc3N3b3JkIGNvbnRhaW5zIHVuZXNjYXBlZCBjaGFyYWN0ZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF1dGhTdHJpbmcgPSAnJztcbiAgICAgICAgaWYgKHR5cGVvZiB1c2VybmFtZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBhdXRoU3RyaW5nICs9IHVzZXJuYW1lO1xuICAgICAgICBpZiAodHlwZW9mIHBhc3N3b3JkID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIGF1dGhTdHJpbmcgKz0gYDoke3Bhc3N3b3JkfWA7XG4gICAgICAgIGlmIChhdXRoU3RyaW5nKVxuICAgICAgICAgICAgYXV0aFN0cmluZyArPSAnQCc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdXBlcihgJHtwcm90b2NvbC50b0xvd2VyQ2FzZSgpfTovLyR7YXV0aFN0cmluZ30ke0RVTU1ZX0hPU1ROQU1FfSR7cmVzdH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAobG9vc2VWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgbmV3IENvbm5lY3Rpb25TdHJpbmcodXJpLCB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGxvb3NlVmFsaWRhdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXJyLm1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZS5yZXBsYWNlKERVTU1ZX0hPU1ROQU1FLCBob3N0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faG9zdHMgPSBob3N0cy5zcGxpdCgnLCcpO1xuICAgICAgICBpZiAoIWxvb3NlVmFsaWRhdGlvbikge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTUlYgJiYgdGhpcy5ob3N0cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTW9uZ29QYXJzZUVycm9yKCdtb25nb2RiK3NydiBVUkkgY2Fubm90IGhhdmUgbXVsdGlwbGUgc2VydmljZSBuYW1lcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNTUlYgJiYgdGhpcy5ob3N0cy5zb21lKGhvc3QgPT4gaG9zdC5pbmNsdWRlcygnOicpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNb25nb1BhcnNlRXJyb3IoJ21vbmdvZGIrc3J2IFVSSSBjYW5ub3QgaGF2ZSBwb3J0IG51bWJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5wYXRobmFtZSkge1xuICAgICAgICAgICAgdGhpcy5wYXRobmFtZSA9ICcvJztcbiAgICAgICAgfVxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcy5zZWFyY2hQYXJhbXMsIGNhc2VJbnNlbnN0aXZlVVJMU2VhcmNoUGFyYW1zKHRoaXMuc2VhcmNoUGFyYW1zLmNvbnN0cnVjdG9yKS5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBnZXQgaG9zdCgpIHsgcmV0dXJuIERVTU1ZX0hPU1ROQU1FOyB9XG4gICAgc2V0IGhvc3QoX2lnbm9yZWQpIHsgdGhyb3cgbmV3IEVycm9yKCdObyBzaW5nbGUgaG9zdCBmb3IgY29ubmVjdGlvbiBzdHJpbmcnKTsgfVxuICAgIGdldCBob3N0bmFtZSgpIHsgcmV0dXJuIERVTU1ZX0hPU1ROQU1FOyB9XG4gICAgc2V0IGhvc3RuYW1lKF9pZ25vcmVkKSB7IHRocm93IG5ldyBFcnJvcignTm8gc2luZ2xlIGhvc3QgZm9yIGNvbm5lY3Rpb24gc3RyaW5nJyk7IH1cbiAgICBnZXQgcG9ydCgpIHsgcmV0dXJuICcnOyB9XG4gICAgc2V0IHBvcnQoX2lnbm9yZWQpIHsgdGhyb3cgbmV3IEVycm9yKCdObyBzaW5nbGUgaG9zdCBmb3IgY29ubmVjdGlvbiBzdHJpbmcnKTsgfVxuICAgIGdldCBocmVmKCkgeyByZXR1cm4gdGhpcy50b1N0cmluZygpOyB9XG4gICAgc2V0IGhyZWYoX2lnbm9yZWQpIHsgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgc2V0IGhyZWYgZm9yIGNvbm5lY3Rpb24gc3RyaW5ncycpOyB9XG4gICAgZ2V0IGlzU1JWKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm90b2NvbC5pbmNsdWRlcygnc3J2Jyk7XG4gICAgfVxuICAgIGdldCBob3N0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvc3RzO1xuICAgIH1cbiAgICBzZXQgaG9zdHMobGlzdCkge1xuICAgICAgICB0aGlzLl9ob3N0cyA9IGxpc3Q7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIudG9TdHJpbmcoKS5yZXBsYWNlKERVTU1ZX0hPU1ROQU1FLCB0aGlzLmhvc3RzLmpvaW4oJywnKSk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbm5lY3Rpb25TdHJpbmcodGhpcy50b1N0cmluZygpLCB7XG4gICAgICAgICAgICBsb29zZVZhbGlkYXRpb246IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZGFjdChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAoMCwgcmVkYWN0XzEucmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nKSh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG4gICAgdHlwZWRTZWFyY2hQYXJhbXMoKSB7XG4gICAgICAgIGNvbnN0IHNhbWV0eXBlID0gZmFsc2UgJiYgbmV3IChjYXNlSW5zZW5zdGl2ZVVSTFNlYXJjaFBhcmFtcyh3aGF0d2dfdXJsXzEuVVJMU2VhcmNoUGFyYW1zKSkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcmNoUGFyYW1zO1xuICAgIH1cbiAgICBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0oKSB7XG4gICAgICAgIGNvbnN0IHsgaHJlZiwgb3JpZ2luLCBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0cywgcGF0aG5hbWUsIHNlYXJjaCwgc2VhcmNoUGFyYW1zLCBoYXNoIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4geyBocmVmLCBvcmlnaW4sIHByb3RvY29sLCB1c2VybmFtZSwgcGFzc3dvcmQsIGhvc3RzLCBwYXRobmFtZSwgc2VhcmNoLCBzZWFyY2hQYXJhbXMsIGhhc2ggfTtcbiAgICB9XG59XG5leHBvcnRzLkNvbm5lY3Rpb25TdHJpbmcgPSBDb25uZWN0aW9uU3RyaW5nO1xuY2xhc3MgQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCBleHRlbmRzIENhc2VJbnNlbnNpdGl2ZU1hcCB7XG4gICAgY29uc3RydWN0b3IoZnJvbSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIChmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiAnJykuc3BsaXQoJywnKSkge1xuICAgICAgICAgICAgaWYgKCFlbnRyeSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9uSW5kZXggPSBlbnRyeS5pbmRleE9mKCc6Jyk7XG4gICAgICAgICAgICBpZiAoY29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlbnRyeSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZW50cnkuc2xpY2UoMCwgY29sb25JbmRleCksIGVudHJ5LnNsaWNlKGNvbG9uSW5kZXggKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBbLi4udGhpc10ubWFwKGVudHJ5ID0+IGVudHJ5LmpvaW4oJzonKSkuam9pbignLCcpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCA9IENvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQ7XG5leHBvcnRzLmRlZmF1bHQgPSBDb25uZWN0aW9uU3RyaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCIsIkNvbm5lY3Rpb25TdHJpbmciLCJyZWRhY3RDb25uZWN0aW9uU3RyaW5nIiwid2hhdHdnX3VybF8xIiwicmVxdWlyZSIsInJlZGFjdF8xIiwiZW51bWVyYWJsZSIsImdldCIsIkRVTU1ZX0hPU1ROQU1FIiwiY29ubmVjdGlvblN0cmluZ0hhc1ZhbGlkU2NoZW1lIiwiY29ubmVjdGlvblN0cmluZyIsInN0YXJ0c1dpdGgiLCJIT1NUU19SRUdFWCIsIkNhc2VJbnNlbnNpdGl2ZU1hcCIsIk1hcCIsImRlbGV0ZSIsIm5hbWUiLCJfbm9ybWFsaXplS2V5IiwiaGFzIiwic2V0Iiwia2V5Iiwia2V5cyIsInRvTG93ZXJDYXNlIiwiY2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMiLCJDdG9yIiwiQ2FzZUluc2Vuc3RpdmVVUkxTZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJnZXRBbGwiLCJ2YWx1ZXMiLCJlbnRyaWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJwcm90b3R5cGUiLCJjYWxsIiwiVVJMV2l0aG91dEhvc3QiLCJVUkwiLCJNb25nb1BhcnNlRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwidXJpIiwib3B0aW9ucyIsIl9hIiwibG9vc2VWYWxpZGF0aW9uIiwibWF0Y2giLCJwcm90b2NvbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0cyIsInJlc3QiLCJncm91cHMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlcnIiLCJtZXNzYWdlIiwiaWxsZWdhbENoYXJhY3RlcnMiLCJ1cmlXaXRob3V0UHJvdG9jb2wiLCJyZXBsYWNlIiwiYXV0aFN0cmluZyIsIl9ob3N0cyIsInNwbGl0IiwiaXNTUlYiLCJsZW5ndGgiLCJzb21lIiwiaG9zdCIsImluY2x1ZGVzIiwicGF0aG5hbWUiLCJzZXRQcm90b3R5cGVPZiIsInNlYXJjaFBhcmFtcyIsIl9pZ25vcmVkIiwiaG9zdG5hbWUiLCJwb3J0IiwiaHJlZiIsInRvU3RyaW5nIiwibGlzdCIsImpvaW4iLCJjbG9uZSIsInJlZGFjdCIsInJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZyIsInR5cGVkU2VhcmNoUGFyYW1zIiwic2FtZXR5cGUiLCJVUkxTZWFyY2hQYXJhbXMiLCJmb3IiLCJvcmlnaW4iLCJzZWFyY2giLCJoYXNoIiwiZnJvbSIsImVudHJ5IiwiY29sb25JbmRleCIsImluZGV4T2YiLCJzbGljZSIsIm1hcCIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js":
/*!******************************************************************!*\
  !*** ./node_modules/mongodb-connection-string-url/lib/redact.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.redactConnectionString = exports.redactValidConnectionString = void 0;\nconst index_1 = __importStar(__webpack_require__(/*! ./index */ \"(ssr)/./node_modules/mongodb-connection-string-url/lib/index.js\"));\nfunction redactValidConnectionString(inputUrl, options) {\n    var _a, _b;\n    const url = inputUrl.clone();\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : \"_credentials_\";\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    if ((url.username || url.password) && redactUsernames) {\n        url.username = replacementString;\n        url.password = \"\";\n    } else if (url.password) {\n        url.password = replacementString;\n    }\n    if (url.searchParams.has(\"authMechanismProperties\")) {\n        const props = new index_1.CommaAndColonSeparatedRecord(url.searchParams.get(\"authMechanismProperties\"));\n        if (props.get(\"AWS_SESSION_TOKEN\")) {\n            props.set(\"AWS_SESSION_TOKEN\", replacementString);\n            url.searchParams.set(\"authMechanismProperties\", props.toString());\n        }\n    }\n    if (url.searchParams.has(\"tlsCertificateKeyFilePassword\")) {\n        url.searchParams.set(\"tlsCertificateKeyFilePassword\", replacementString);\n    }\n    if (url.searchParams.has(\"proxyUsername\") && redactUsernames) {\n        url.searchParams.set(\"proxyUsername\", replacementString);\n    }\n    if (url.searchParams.has(\"proxyPassword\")) {\n        url.searchParams.set(\"proxyPassword\", replacementString);\n    }\n    return url;\n}\nexports.redactValidConnectionString = redactValidConnectionString;\nfunction redactConnectionString(uri, options) {\n    var _a, _b;\n    const replacementString = (_a = options === null || options === void 0 ? void 0 : options.replacementString) !== null && _a !== void 0 ? _a : \"<credentials>\";\n    const redactUsernames = (_b = options === null || options === void 0 ? void 0 : options.redactUsernames) !== null && _b !== void 0 ? _b : true;\n    let parsed;\n    try {\n        parsed = new index_1.default(uri);\n    } catch (_c) {}\n    if (parsed) {\n        options = {\n            ...options,\n            replacementString: \"___credentials___\"\n        };\n        return parsed.redact(options).toString().replace(/___credentials___/g, replacementString);\n    }\n    const R = replacementString;\n    const replacements = [\n        (uri)=>uri.replace(redactUsernames ? /(\\/\\/)(.*)(@)/g : /(\\/\\/[^@]*:)(.*)(@)/g, `$1${R}$3`),\n        (uri)=>uri.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi, `$1${R}`),\n        (uri)=>uri.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi, `$1${R}`),\n        (uri)=>redactUsernames ? uri.replace(/(proxyUsername=)([^&]+)/gi, `$1${R}`) : uri,\n        (uri)=>uri.replace(/(proxyPassword=)([^&]+)/gi, `$1${R}`)\n    ];\n    for (const replacer of replacements){\n        uri = replacer(uri);\n    }\n    return uri;\n}\nexports.redactConnectionString = redactConnectionString; //# sourceMappingURL=redact.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbW9uZ29kYi1jb25uZWN0aW9uLXN0cmluZy11cmwvbGliL3JlZGFjdC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLGtCQUFrQixJQUFLLElBQUksSUFBSSxDQUFDQSxlQUFlLElBQU1DLENBQUFBLE9BQU9DLE1BQU0sR0FBSSxTQUFTQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQzFGLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCLElBQUlHLE9BQU9QLE9BQU9RLHdCQUF3QixDQUFDTCxHQUFHQztJQUM5QyxJQUFJLENBQUNHLFFBQVMsVUFBU0EsT0FBTyxDQUFDSixFQUFFTSxVQUFVLEdBQUdGLEtBQUtHLFFBQVEsSUFBSUgsS0FBS0ksWUFBWSxHQUFHO1FBQ2pGSixPQUFPO1lBQUVLLFlBQVk7WUFBTUMsS0FBSztnQkFBYSxPQUFPVixDQUFDLENBQUNDLEVBQUU7WUFBRTtRQUFFO0lBQzlEO0lBQ0FKLE9BQU9jLGNBQWMsQ0FBQ1osR0FBR0csSUFBSUU7QUFDakMsSUFBTSxTQUFTTCxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQ3RCLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCRixDQUFDLENBQUNHLEdBQUcsR0FBR0YsQ0FBQyxDQUFDQyxFQUFFO0FBQ2hCLENBQUM7QUFDRCxJQUFJVyxxQkFBcUIsSUFBSyxJQUFJLElBQUksQ0FBQ0Esa0JBQWtCLElBQU1mLENBQUFBLE9BQU9DLE1BQU0sR0FBSSxTQUFTQyxDQUFDLEVBQUVjLENBQUM7SUFDekZoQixPQUFPYyxjQUFjLENBQUNaLEdBQUcsV0FBVztRQUFFVSxZQUFZO1FBQU1LLE9BQU9EO0lBQUU7QUFDckUsSUFBSyxTQUFTZCxDQUFDLEVBQUVjLENBQUM7SUFDZGQsQ0FBQyxDQUFDLFVBQVUsR0FBR2M7QUFDbkI7QUFDQSxJQUFJRSxlQUFlLElBQUssSUFBSSxJQUFJLENBQUNBLFlB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QUFRO1FBQ1JoQixVQUFVO1lBQUUsR0FBR0EsT0FBTztZQUFFSyxtQkFBbUI7UUFBb0I7UUFDL0QsT0FBT1csT0FBT0csTUFBTSxDQUFDbkIsU0FBU2MsUUFBUSxHQUFHTSxPQUFPLENBQUMsc0JBQXNCZjtJQUMzRTtJQUNBLE1BQU1nQixJQUFJaEI7SUFDVixNQUFNaUIsZUFBZTtRQUNqQlAsQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDZCxrQkFBa0IsbUJBQW1CLHdCQUF3QixDQUFDLEVBQUUsRUFBRWUsRUFBRSxFQUFFLENBQUM7UUFDMUZOLENBQUFBLE1BQU9BLElBQUlLLE9BQU8sQ0FBQyx3Q0FBd0MsQ0FBQyxFQUFFLEVBQUVDLEVBQUUsQ0FBQztRQUNuRU4sQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDLDZDQUE2QyxDQUFDLEVBQUUsRUFBRUMsRUFBRSxDQUFDO1FBQ3hFTixDQUFBQSxNQUFPVCxrQkFBa0JTLElBQUlLLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxFQUFFLEVBQUVDLEVBQUUsQ0FBQyxJQUFJTjtRQUM5RUEsQ0FBQUEsTUFBT0EsSUFBSUssT0FBTyxDQUFDLDZCQUE2QixDQUFDLEVBQUUsRUFBRUMsRUFBRSxDQUFDO0tBQzNEO0lBQ0QsS0FBSyxNQUFNRSxZQUFZRCxhQUFjO1FBQ2pDUCxNQUFNUSxTQUFTUjtJQUNuQjtJQUNBLE9BQU9BO0FBQ1g7QUFDQXJCLDhCQUE4QixHQUFHQyx3QkFDakMsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1hdXRoLXJlZ2lzdGVyLy4vbm9kZV9tb2R1bGVzL21vbmdvZGItY29ubmVjdGlvbi1zdHJpbmctdXJsL2xpYi9yZWRhY3QuanM/ZGRlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZWRhY3RDb25uZWN0aW9uU3RyaW5nID0gZXhwb3J0cy5yZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmcgPSB2b2lkIDA7XG5jb25zdCBpbmRleF8xID0gX19pbXBvcnRTdGFyKHJlcXVpcmUoXCIuL2luZGV4XCIpKTtcbmZ1bmN0aW9uIHJlZGFjdFZhbGlkQ29ubmVjdGlvblN0cmluZyhpbnB1dFVybCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgdXJsID0gaW5wdXRVcmwuY2xvbmUoKTtcbiAgICBjb25zdCByZXBsYWNlbWVudFN0cmluZyA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZXBsYWNlbWVudFN0cmluZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ19jcmVkZW50aWFsc18nO1xuICAgIGNvbnN0IHJlZGFjdFVzZXJuYW1lcyA9IChfYiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRhY3RVc2VybmFtZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgaWYgKCh1cmwudXNlcm5hbWUgfHwgdXJsLnBhc3N3b3JkKSAmJiByZWRhY3RVc2VybmFtZXMpIHtcbiAgICAgICAgdXJsLnVzZXJuYW1lID0gcmVwbGFjZW1lbnRTdHJpbmc7XG4gICAgICAgIHVybC5wYXNzd29yZCA9ICcnO1xuICAgIH1cbiAgICBlbHNlIGlmICh1cmwucGFzc3dvcmQpIHtcbiAgICAgICAgdXJsLnBhc3N3b3JkID0gcmVwbGFjZW1lbnRTdHJpbmc7XG4gICAgfVxuICAgIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcygnYXV0aE1lY2hhbmlzbVByb3BlcnRpZXMnKSkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IG5ldyBpbmRleF8xLkNvbW1hQW5kQ29sb25TZXBhcmF0ZWRSZWNvcmQodXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2F1dGhNZWNoYW5pc21Qcm9wZXJ0aWVzJykpO1xuICAgICAgICBpZiAocHJvcHMuZ2V0KCdBV1NfU0VTU0lPTl9UT0tFTicpKSB7XG4gICAgICAgICAgICBwcm9wcy5zZXQoJ0FXU19TRVNTSU9OX1RPS0VOJywgcmVwbGFjZW1lbnRTdHJpbmcpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2F1dGhNZWNoYW5pc21Qcm9wZXJ0aWVzJywgcHJvcHMudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKCd0bHNDZXJ0aWZpY2F0ZUtleUZpbGVQYXNzd29yZCcpKSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCd0bHNDZXJ0aWZpY2F0ZUtleUZpbGVQYXNzd29yZCcsIHJlcGxhY2VtZW50U3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKCdwcm94eVVzZXJuYW1lJykgJiYgcmVkYWN0VXNlcm5hbWVzKSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdwcm94eVVzZXJuYW1lJywgcmVwbGFjZW1lbnRTdHJpbmcpO1xuICAgIH1cbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3Byb3h5UGFzc3dvcmQnKSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncHJveHlQYXNzd29yZCcsIHJlcGxhY2VtZW50U3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn1cbmV4cG9ydHMucmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nID0gcmVkYWN0VmFsaWRDb25uZWN0aW9uU3RyaW5nO1xuZnVuY3Rpb24gcmVkYWN0Q29ubmVjdGlvblN0cmluZyh1cmksIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHJlcGxhY2VtZW50U3RyaW5nID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlcGxhY2VtZW50U3RyaW5nKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnPGNyZWRlbnRpYWxzPic7XG4gICAgY29uc3QgcmVkYWN0VXNlcm5hbWVzID0gKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlZGFjdFVzZXJuYW1lcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICBsZXQgcGFyc2VkO1xuICAgIHRyeSB7XG4gICAgICAgIHBhcnNlZCA9IG5ldyBpbmRleF8xLmRlZmF1bHQodXJpKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9jKSB7IH1cbiAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIHJlcGxhY2VtZW50U3RyaW5nOiAnX19fY3JlZGVudGlhbHNfX18nIH07XG4gICAgICAgIHJldHVybiBwYXJzZWQucmVkYWN0KG9wdGlvbnMpLnRvU3RyaW5nKCkucmVwbGFjZSgvX19fY3JlZGVudGlhbHNfX18vZywgcmVwbGFjZW1lbnRTdHJpbmcpO1xuICAgIH1cbiAgICBjb25zdCBSID0gcmVwbGFjZW1lbnRTdHJpbmc7XG4gICAgY29uc3QgcmVwbGFjZW1lbnRzID0gW1xuICAgICAgICB1cmkgPT4gdXJpLnJlcGxhY2UocmVkYWN0VXNlcm5hbWVzID8gLyhcXC9cXC8pKC4qKShAKS9nIDogLyhcXC9cXC9bXkBdKjopKC4qKShAKS9nLCBgJDEke1J9JDNgKSxcbiAgICAgICAgdXJpID0+IHVyaS5yZXBsYWNlKC8oQVdTX1NFU1NJT05fVE9LRU4oOnwlM0EpKShbXiwmXSspL2dpLCBgJDEke1J9YCksXG4gICAgICAgIHVyaSA9PiB1cmkucmVwbGFjZSgvKHRsc0NlcnRpZmljYXRlS2V5RmlsZVBhc3N3b3JkPSkoW14mXSspL2dpLCBgJDEke1J9YCksXG4gICAgICAgIHVyaSA9PiByZWRhY3RVc2VybmFtZXMgPyB1cmkucmVwbGFjZSgvKHByb3h5VXNlcm5hbWU9KShbXiZdKykvZ2ksIGAkMSR7Un1gKSA6IHVyaSxcbiAgICAgICAgdXJpID0+IHVyaS5yZXBsYWNlKC8ocHJveHlQYXNzd29yZD0pKFteJl0rKS9naSwgYCQxJHtSfWApXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHJlcGxhY2VyIG9mIHJlcGxhY2VtZW50cykge1xuICAgICAgICB1cmkgPSByZXBsYWNlcih1cmkpO1xuICAgIH1cbiAgICByZXR1cm4gdXJpO1xufVxuZXhwb3J0cy5yZWRhY3RDb25uZWN0aW9uU3RyaW5nID0gcmVkYWN0Q29ubmVjdGlvblN0cmluZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZGFjdC5qcy5tYXAiXSwibmFtZXMiOlsiX19jcmVhdGVCaW5kaW5nIiwiT2JqZWN0IiwiY3JlYXRlIiwibyIsIm0iLCJrIiwiazIiLCJ1bmRlZmluZWQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX19lc01vZHVsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsImRlZmluZVByb3BlcnR5IiwiX19zZXRNb2R1bGVEZWZhdWx0IiwidiIsInZhbHVlIiwiX19pbXBvcnRTdGFyIiwibW9kIiwicmVzdWx0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZXhwb3J0cyIsInJlZGFjdENvbm5lY3Rpb25TdHJpbmciLCJyZWRhY3RWYWxpZENvbm5lY3Rpb25TdHJpbmciLCJpbmRleF8xIiwicmVxdWlyZSIsImlucHV0VXJsIiwib3B0aW9ucyIsIl9hIiwiX2IiLCJ1cmwiLCJjbG9uZSIsInJlcGxhY2VtZW50U3RyaW5nIiwicmVkYWN0VXNlcm5hbWVzIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInNlYXJjaFBhcmFtcyIsImhhcyIsInByb3BzIiwiQ29tbWFBbmRDb2xvblNlcGFyYXRlZFJlY29yZCIsInNldCIsInRvU3RyaW5nIiwidXJpIiwicGFyc2VkIiwiZGVmYXVsdCIsIl9jIiwicmVkYWN0IiwicmVwbGFjZSIsIlIiLCJyZXBsYWNlbWVudHMiLCJyZXBsYWNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/mongodb-connection-string-url/lib/redact.js\n");

/***/ })

};
;