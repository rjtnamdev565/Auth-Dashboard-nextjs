"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/socks";
exports.ids = ["vendor-chunks/socks"];
exports.modules = {

/***/ "(ssr)/./node_modules/socks/build/client/socksclient.js":
/*!********************************************************!*\
  !*** ./node_modules/socks/build/client/socksclient.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __awaiter = this && this.__awaiter || function(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P ? value : new P(function(resolve) {\n            resolve(value);\n        });\n    }\n    return new (P || (P = Promise))(function(resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.SocksClientError = exports.SocksClient = void 0;\nconst events_1 = __webpack_require__(/*! events */ \"events\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst ip = __webpack_require__(/*! ip */ \"(ssr)/./node_modules/ip/lib/ip.js\");\nconst smart_buffer_1 = __webpack_require__(/*! smart-buffer */ \"(ssr)/./node_modules/smart-buffer/build/smartbuffer.js\");\nconst constants_1 = __webpack_require__(/*! ../common/constants */ \"(ssr)/./node_modules/socks/build/common/constants.js\");\nconst helpers_1 = __webpack_require__(/*! ../common/helpers */ \"(ssr)/./node_modules/socks/build/common/helpers.js\");\nconst receivebuffer_1 = __webpack_require__(/*! ../common/receivebuffer */ \"(ssr)/./node_modules/socks/build/common/receivebuffer.js\");\nconst util_1 = __webpack_require__(/*! ../common/util */ \"(ssr)/./node_modules/socks/build/common/util.js\");\nObject.defineProperty(exports, \"SocksClientError\", ({\n    enumerable: true,\n    get: function() {\n        return util_1.SocksClientError;\n    }\n}));\nclass SocksClient extends events_1.EventEmitter {\n    constructor(options){\n        super();\n        this.options = Object.assign({}, options);\n        // Validate SocksClientOptions\n        (0, helpers_1.validateSocksClientOptions)(options);\n        // Default state\n        this.setState(constants_1.SocksClientState.Created);\n    }\n    /**\n     * Creates a new SOCKS connection.\n     *\n     * Note: Supports callbacks and promises. Only supports the connect command.\n     * @param options { SocksClientOptions } Options.\n     * @param callback { Function } An optional callback function.\n     * @returns { Promise }\n     */ static createConnection(options, callback) {\n        return new Promise((resolve, reject)=>{\n            // Validate SocksClientOptions\n            try {\n                (0, helpers_1.validateSocksClientOptions)(options, [\n                    \"connect\"\n                ]);\n            } catch (err) {\n                if (typeof callback === \"function\") {\n                    callback(err);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    return resolve(err); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    return reject(err);\n                }\n            }\n            const client = new SocksClient(options);\n            client.connect(options.existing_socket);\n            client.once(\"established\", (info)=>{\n                client.removeAllListeners();\n                if (typeof callback === \"function\") {\n                    callback(null, info);\n                    resolve(info); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    resolve(info);\n                }\n            });\n            // Error occurred, failed to establish connection.\n            client.once(\"error\", (err)=>{\n                client.removeAllListeners();\n                if (typeof callback === \"function\") {\n                    callback(err);\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    resolve(err); // Resolves pending promise (prevents memory leaks).\n                } else {\n                    reject(err);\n                }\n            });\n        });\n    }\n    /**\n     * Creates a new SOCKS connection chain to a destination host through 2 or more SOCKS proxies.\n     *\n     * Note: Supports callbacks and promises. Only supports the connect method.\n     * Note: Implemented via createConnection() factory function.\n     * @param options { SocksClientChainOptions } Options\n     * @param callback { Function } An optional callback function.\n     * @returns { Promise }\n     */ static createConnectionChain(options, callback) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise((resolve, reject)=>__awaiter(this, void 0, void 0, function*() {\n                // Validate SocksClientChainOptions\n                try {\n                    (0, helpers_1.validateSocksClientChainOptions)(options);\n                } catch (err) {\n                    if (typeof callback === \"function\") {\n                        callback(err);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        return resolve(err); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        return reject(err);\n                    }\n                }\n                // Shuffle proxies\n                if (options.randomizeChain) {\n                    (0, util_1.shuffleArray)(options.proxies);\n                }\n                try {\n                    let sock;\n                    for(let i = 0; i < options.proxies.length; i++){\n                        const nextProxy = options.proxies[i];\n                        // If we've reached the last proxy in the chain, the destination is the actual destination, otherwise it's the next proxy.\n                        const nextDestination = i === options.proxies.length - 1 ? options.destination : {\n                            host: options.proxies[i + 1].host || options.proxies[i + 1].ipaddress,\n                            port: options.proxies[i + 1].port\n                        };\n                        // Creates the next connection in the chain.\n                        const result = yield SocksClient.createConnection({\n                            command: \"connect\",\n                            proxy: nextProxy,\n                            destination: nextDestination,\n                            existing_socket: sock\n                        });\n                        // If sock is undefined, assign it here.\n                        sock = sock || result.socket;\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(null, {\n                            socket: sock\n                        });\n                        resolve({\n                            socket: sock\n                        }); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        resolve({\n                            socket: sock\n                        });\n                    }\n                } catch (err) {\n                    if (typeof callback === \"function\") {\n                        callback(err);\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        resolve(err); // Resolves pending promise (prevents memory leaks).\n                    } else {\n                        reject(err);\n                    }\n                }\n            }));\n    }\n    /**\n     * Creates a SOCKS UDP Frame.\n     * @param options\n     */ static createUDPFrame(options) {\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt16BE(0);\n        buff.writeUInt8(options.frameNumber || 0);\n        // IPv4/IPv6/Hostname\n        if (net.isIPv4(options.remoteHost.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv4);\n            buff.writeUInt32BE(ip.toLong(options.remoteHost.host));\n        } else if (net.isIPv6(options.remoteHost.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv6);\n            buff.writeBuffer(ip.toBuffer(options.remoteHost.host));\n        } else {\n            buff.writeUInt8(constants_1.Socks5HostType.Hostname);\n            buff.writeUInt8(Buffer.byteLength(options.remoteHost.host));\n            buff.writeString(options.remoteHost.host);\n        }\n        // Port\n        buff.writeUInt16BE(options.remoteHost.port);\n        // Data\n        buff.writeBuffer(options.data);\n        return buff.toBuffer();\n    }\n    /**\n     * Parses a SOCKS UDP frame.\n     * @param data\n     */ static parseUDPFrame(data) {\n        const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n        buff.readOffset = 2;\n        const frameNumber = buff.readUInt8();\n        const hostType = buff.readUInt8();\n        let remoteHost;\n        if (hostType === constants_1.Socks5HostType.IPv4) {\n            remoteHost = ip.fromLong(buff.readUInt32BE());\n        } else if (hostType === constants_1.Socks5HostType.IPv6) {\n            remoteHost = ip.toString(buff.readBuffer(16));\n        } else {\n            remoteHost = buff.readString(buff.readUInt8());\n        }\n        const remotePort = buff.readUInt16BE();\n        return {\n            frameNumber,\n            remoteHost: {\n                host: remoteHost,\n                port: remotePort\n            },\n            data: buff.readBuffer()\n        };\n    }\n    /**\n     * Internal state setter. If the SocksClient is in an error state, it cannot be changed to a non error state.\n     */ setState(newState) {\n        if (this.state !== constants_1.SocksClientState.Error) {\n            this.state = newState;\n        }\n    }\n    /**\n     * Starts the connection establishment to the proxy and destination.\n     * @param existingSocket Connected socket to use instead of creating a new one (internal use).\n     */ connect(existingSocket) {\n        this.onDataReceived = (data)=>this.onDataReceivedHandler(data);\n        this.onClose = ()=>this.onCloseHandler();\n        this.onError = (err)=>this.onErrorHandler(err);\n        this.onConnect = ()=>this.onConnectHandler();\n        // Start timeout timer (defaults to 30 seconds)\n        const timer = setTimeout(()=>this.onEstablishedTimeout(), this.options.timeout || constants_1.DEFAULT_TIMEOUT);\n        // check whether unref is available as it differs from browser to NodeJS (#33)\n        if (timer.unref && typeof timer.unref === \"function\") {\n            timer.unref();\n        }\n        // If an existing socket is provided, use it to negotiate SOCKS handshake. Otherwise create a new Socket.\n        if (existingSocket) {\n            this.socket = existingSocket;\n        } else {\n            this.socket = new net.Socket();\n        }\n        // Attach Socket error handlers.\n        this.socket.once(\"close\", this.onClose);\n        this.socket.once(\"error\", this.onError);\n        this.socket.once(\"connect\", this.onConnect);\n        this.socket.on(\"data\", this.onDataReceived);\n        this.setState(constants_1.SocksClientState.Connecting);\n        this.receiveBuffer = new receivebuffer_1.ReceiveBuffer();\n        if (existingSocket) {\n            this.socket.emit(\"connect\");\n        } else {\n            this.socket.connect(this.getSocketOptions());\n            if (this.options.set_tcp_nodelay !== undefined && this.options.set_tcp_nodelay !== null) {\n                this.socket.setNoDelay(!!this.options.set_tcp_nodelay);\n            }\n        }\n        // Listen for established event so we can re-emit any excess data received during handshakes.\n        this.prependOnceListener(\"established\", (info)=>{\n            setImmediate(()=>{\n                if (this.receiveBuffer.length > 0) {\n                    const excessData = this.receiveBuffer.get(this.receiveBuffer.length);\n                    info.socket.emit(\"data\", excessData);\n                }\n                info.socket.resume();\n            });\n        });\n    }\n    // Socket options (defaults host/port to options.proxy.host/options.proxy.port)\n    getSocketOptions() {\n        return Object.assign(Object.assign({}, this.options.socket_options), {\n            host: this.options.proxy.host || this.options.proxy.ipaddress,\n            port: this.options.proxy.port\n        });\n    }\n    /**\n     * Handles internal Socks timeout callback.\n     * Note: If the Socks client is not BoundWaitingForConnection or Established, the connection will be closed.\n     */ onEstablishedTimeout() {\n        if (this.state !== constants_1.SocksClientState.Established && this.state !== constants_1.SocksClientState.BoundWaitingForConnection) {\n            this.closeSocket(constants_1.ERRORS.ProxyConnectionTimedOut);\n        }\n    }\n    /**\n     * Handles Socket connect event.\n     */ onConnectHandler() {\n        this.setState(constants_1.SocksClientState.Connected);\n        // Send initial handshake.\n        if (this.options.proxy.type === 4) {\n            this.sendSocks4InitialHandshake();\n        } else {\n            this.sendSocks5InitialHandshake();\n        }\n        this.setState(constants_1.SocksClientState.SentInitialHandshake);\n    }\n    /**\n     * Handles Socket data event.\n     * @param data\n     */ onDataReceivedHandler(data) {\n        /*\n          All received data is appended to a ReceiveBuffer.\n          This makes sure that all the data we need is received before we attempt to process it.\n        */ this.receiveBuffer.append(data);\n        // Process data that we have.\n        this.processData();\n    }\n    /**\n     * Handles processing of the data we have received.\n     */ processData() {\n        // If we have enough data to process the next step in the SOCKS handshake, proceed.\n        while(this.state !== constants_1.SocksClientState.Established && this.state !== constants_1.SocksClientState.Error && this.receiveBuffer.length >= this.nextRequiredPacketBufferSize){\n            // Sent initial handshake, waiting for response.\n            if (this.state === constants_1.SocksClientState.SentInitialHandshake) {\n                if (this.options.proxy.type === 4) {\n                    // Socks v4 only has one handshake response.\n                    this.handleSocks4FinalHandshakeResponse();\n                } else {\n                    // Socks v5 has two handshakes, handle initial one here.\n                    this.handleInitialSocks5HandshakeResponse();\n                }\n            // Sent auth request for Socks v5, waiting for response.\n            } else if (this.state === constants_1.SocksClientState.SentAuthentication) {\n                this.handleInitialSocks5AuthenticationHandshakeResponse();\n            // Sent final Socks v5 handshake, waiting for final response.\n            } else if (this.state === constants_1.SocksClientState.SentFinalHandshake) {\n                this.handleSocks5FinalHandshakeResponse();\n            // Socks BIND established. Waiting for remote connection via proxy.\n            } else if (this.state === constants_1.SocksClientState.BoundWaitingForConnection) {\n                if (this.options.proxy.type === 4) {\n                    this.handleSocks4IncomingConnectionResponse();\n                } else {\n                    this.handleSocks5IncomingConnectionResponse();\n                }\n            } else {\n                this.closeSocket(constants_1.ERRORS.InternalError);\n                break;\n            }\n        }\n    }\n    /**\n     * Handles Socket close event.\n     * @param had_error\n     */ onCloseHandler() {\n        this.closeSocket(constants_1.ERRORS.SocketClosed);\n    }\n    /**\n     * Handles Socket error event.\n     * @param err\n     */ onErrorHandler(err) {\n        this.closeSocket(err.message);\n    }\n    /**\n     * Removes internal event listeners on the underlying Socket.\n     */ removeInternalSocketHandlers() {\n        // Pauses data flow of the socket (this is internally resumed after 'established' is emitted)\n        this.socket.pause();\n        this.socket.removeListener(\"data\", this.onDataReceived);\n        this.socket.removeListener(\"close\", this.onClose);\n        this.socket.removeListener(\"error\", this.onError);\n        this.socket.removeListener(\"connect\", this.onConnect);\n    }\n    /**\n     * Closes and destroys the underlying Socket. Emits an error event.\n     * @param err { String } An error string to include in error event.\n     */ closeSocket(err) {\n        // Make sure only one 'error' event is fired for the lifetime of this SocksClient instance.\n        if (this.state !== constants_1.SocksClientState.Error) {\n            // Set internal state to Error.\n            this.setState(constants_1.SocksClientState.Error);\n            // Destroy Socket\n            this.socket.destroy();\n            // Remove internal listeners\n            this.removeInternalSocketHandlers();\n            // Fire 'error' event.\n            this.emit(\"error\", new util_1.SocksClientError(err, this.options));\n        }\n    }\n    /**\n     * Sends initial Socks v4 handshake request.\n     */ sendSocks4InitialHandshake() {\n        const userId = this.options.proxy.userId || \"\";\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x04);\n        buff.writeUInt8(constants_1.SocksCommand[this.options.command]);\n        buff.writeUInt16BE(this.options.destination.port);\n        // Socks 4 (IPv4)\n        if (net.isIPv4(this.options.destination.host)) {\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n            buff.writeStringNT(userId);\n        // Socks 4a (hostname)\n        } else {\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x00);\n            buff.writeUInt8(0x01);\n            buff.writeStringNT(userId);\n            buff.writeStringNT(this.options.destination.host);\n        }\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks4Response;\n        this.socket.write(buff.toBuffer());\n    }\n    /**\n     * Handles Socks v4 handshake response.\n     * @param data\n     */ handleSocks4FinalHandshakeResponse() {\n        const data = this.receiveBuffer.get(8);\n        if (data[1] !== constants_1.Socks4Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks4ProxyRejectedConnection} - (${constants_1.Socks4Response[data[1]]})`);\n        } else {\n            // Bind response\n            if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.bind) {\n                const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n                buff.readOffset = 2;\n                const remoteHost = {\n                    port: buff.readUInt16BE(),\n                    host: ip.fromLong(buff.readUInt32BE())\n                };\n                // If host is 0.0.0.0, set to proxy host.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n                this.setState(constants_1.SocksClientState.BoundWaitingForConnection);\n                this.emit(\"bound\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            // Connect response\n            } else {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    socket: this.socket\n                });\n            }\n        }\n    }\n    /**\n     * Handles Socks v4 incoming connection request (BIND)\n     * @param data\n     */ handleSocks4IncomingConnectionResponse() {\n        const data = this.receiveBuffer.get(8);\n        if (data[1] !== constants_1.Socks4Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${constants_1.Socks4Response[data[1]]})`);\n        } else {\n            const buff = smart_buffer_1.SmartBuffer.fromBuffer(data);\n            buff.readOffset = 2;\n            const remoteHost = {\n                port: buff.readUInt16BE(),\n                host: ip.fromLong(buff.readUInt32BE())\n            };\n            this.setState(constants_1.SocksClientState.Established);\n            this.removeInternalSocketHandlers();\n            this.emit(\"established\", {\n                remoteHost,\n                socket: this.socket\n            });\n        }\n    }\n    /**\n     * Sends initial Socks v5 handshake request.\n     */ sendSocks5InitialHandshake() {\n        const buff = new smart_buffer_1.SmartBuffer();\n        // By default we always support no auth.\n        const supportedAuthMethods = [\n            constants_1.Socks5Auth.NoAuth\n        ];\n        // We should only tell the proxy we support user/pass auth if auth info is actually provided.\n        // Note: As of Tor v0.3.5.7+, if user/pass auth is an option from the client, by default it will always take priority.\n        if (this.options.proxy.userId || this.options.proxy.password) {\n            supportedAuthMethods.push(constants_1.Socks5Auth.UserPass);\n        }\n        // Custom auth method?\n        if (this.options.proxy.custom_auth_method !== undefined) {\n            supportedAuthMethods.push(this.options.proxy.custom_auth_method);\n        }\n        // Build handshake packet\n        buff.writeUInt8(0x05);\n        buff.writeUInt8(supportedAuthMethods.length);\n        for (const authMethod of supportedAuthMethods){\n            buff.writeUInt8(authMethod);\n        }\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentInitialHandshake);\n    }\n    /**\n     * Handles initial Socks v5 handshake response.\n     * @param data\n     */ handleInitialSocks5HandshakeResponse() {\n        const data = this.receiveBuffer.get(2);\n        if (data[0] !== 0x05) {\n            this.closeSocket(constants_1.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion);\n        } else if (data[1] === constants_1.SOCKS5_NO_ACCEPTABLE_AUTH) {\n            this.closeSocket(constants_1.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType);\n        } else {\n            // If selected Socks v5 auth method is no auth, send final handshake request.\n            if (data[1] === constants_1.Socks5Auth.NoAuth) {\n                this.socks5ChosenAuthType = constants_1.Socks5Auth.NoAuth;\n                this.sendSocks5CommandRequest();\n            // If selected Socks v5 auth method is user/password, send auth handshake.\n            } else if (data[1] === constants_1.Socks5Auth.UserPass) {\n                this.socks5ChosenAuthType = constants_1.Socks5Auth.UserPass;\n                this.sendSocks5UserPassAuthentication();\n            // If selected Socks v5 auth method is the custom_auth_method, send custom handshake.\n            } else if (data[1] === this.options.proxy.custom_auth_method) {\n                this.socks5ChosenAuthType = this.options.proxy.custom_auth_method;\n                this.sendSocks5CustomAuthentication();\n            } else {\n                this.closeSocket(constants_1.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType);\n            }\n        }\n    }\n    /**\n     * Sends Socks v5 user & password auth handshake.\n     *\n     * Note: No auth and user/pass are currently supported.\n     */ sendSocks5UserPassAuthentication() {\n        const userId = this.options.proxy.userId || \"\";\n        const password = this.options.proxy.password || \"\";\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x01);\n        buff.writeUInt8(Buffer.byteLength(userId));\n        buff.writeString(userId);\n        buff.writeUInt8(Buffer.byteLength(password));\n        buff.writeString(password);\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentAuthentication);\n    }\n    sendSocks5CustomAuthentication() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this.nextRequiredPacketBufferSize = this.options.proxy.custom_auth_response_size;\n            this.socket.write((yield this.options.proxy.custom_auth_request_handler()));\n            this.setState(constants_1.SocksClientState.SentAuthentication);\n        });\n    }\n    handleSocks5CustomAuthHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return yield this.options.proxy.custom_auth_response_handler(data);\n        });\n    }\n    handleSocks5AuthenticationNoAuthHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return data[1] === 0x00;\n        });\n    }\n    handleSocks5AuthenticationUserPassHandshakeResponse(data) {\n        return __awaiter(this, void 0, void 0, function*() {\n            return data[1] === 0x00;\n        });\n    }\n    /**\n     * Handles Socks v5 auth handshake response.\n     * @param data\n     */ handleInitialSocks5AuthenticationHandshakeResponse() {\n        return __awaiter(this, void 0, void 0, function*() {\n            this.setState(constants_1.SocksClientState.ReceivedAuthenticationResponse);\n            let authResult = false;\n            if (this.socks5ChosenAuthType === constants_1.Socks5Auth.NoAuth) {\n                authResult = yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2));\n            } else if (this.socks5ChosenAuthType === constants_1.Socks5Auth.UserPass) {\n                authResult = yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2));\n            } else if (this.socks5ChosenAuthType === this.options.proxy.custom_auth_method) {\n                authResult = yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size));\n            }\n            if (!authResult) {\n                this.closeSocket(constants_1.ERRORS.Socks5AuthenticationFailed);\n            } else {\n                this.sendSocks5CommandRequest();\n            }\n        });\n    }\n    /**\n     * Sends Socks v5 final handshake request.\n     */ sendSocks5CommandRequest() {\n        const buff = new smart_buffer_1.SmartBuffer();\n        buff.writeUInt8(0x05);\n        buff.writeUInt8(constants_1.SocksCommand[this.options.command]);\n        buff.writeUInt8(0x00);\n        // ipv4, ipv6, domain?\n        if (net.isIPv4(this.options.destination.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv4);\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n        } else if (net.isIPv6(this.options.destination.host)) {\n            buff.writeUInt8(constants_1.Socks5HostType.IPv6);\n            buff.writeBuffer(ip.toBuffer(this.options.destination.host));\n        } else {\n            buff.writeUInt8(constants_1.Socks5HostType.Hostname);\n            buff.writeUInt8(this.options.destination.host.length);\n            buff.writeString(this.options.destination.host);\n        }\n        buff.writeUInt16BE(this.options.destination.port);\n        this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader;\n        this.socket.write(buff.toBuffer());\n        this.setState(constants_1.SocksClientState.SentFinalHandshake);\n    }\n    /**\n     * Handles Socks v5 final handshake response.\n     * @param data\n     */ handleSocks5FinalHandshakeResponse() {\n        // Peek at available data (we need at least 5 bytes to get the hostname length)\n        const header = this.receiveBuffer.peek(5);\n        if (header[0] !== 0x05 || header[1] !== constants_1.Socks5Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${constants_1.Socks5Response[header[1]]}`);\n        } else {\n            // Read address type\n            const addressType = header[3];\n            let remoteHost;\n            let buff;\n            // IPv4\n            if (addressType === constants_1.Socks5HostType.IPv4) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.fromLong(buff.readUInt32BE()),\n                    port: buff.readUInt16BE()\n                };\n                // If given host is 0.0.0.0, assume remote proxy ip instead.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n            // Hostname\n            } else if (addressType === constants_1.Socks5HostType.Hostname) {\n                const hostLength = header[4];\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(hostLength); // header + host length + host + port\n                // Check if data is available.\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(5));\n                remoteHost = {\n                    host: buff.readString(hostLength),\n                    port: buff.readUInt16BE()\n                };\n            // IPv6\n            } else if (addressType === constants_1.Socks5HostType.IPv6) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.toString(buff.readBuffer(16)),\n                    port: buff.readUInt16BE()\n                };\n            }\n            // We have everything we need\n            this.setState(constants_1.SocksClientState.ReceivedFinalResponse);\n            // If using CONNECT, the client is now in the established state.\n            if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.connect) {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            } else if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.bind) {\n                /* If using BIND, the Socks client is now in BoundWaitingForConnection state.\n                   This means that the remote proxy server is waiting for a remote connection to the bound port. */ this.setState(constants_1.SocksClientState.BoundWaitingForConnection);\n                this.nextRequiredPacketBufferSize = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader;\n                this.emit(\"bound\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            /*\n                  If using Associate, the Socks client is now Established. And the proxy server is now accepting UDP packets at the\n                  given bound port. This initial Socks TCP connection must remain open for the UDP relay to continue to work.\n                */ } else if (constants_1.SocksCommand[this.options.command] === constants_1.SocksCommand.associate) {\n                this.setState(constants_1.SocksClientState.Established);\n                this.removeInternalSocketHandlers();\n                this.emit(\"established\", {\n                    remoteHost,\n                    socket: this.socket\n                });\n            }\n        }\n    }\n    /**\n     * Handles Socks v5 incoming connection request (BIND).\n     */ handleSocks5IncomingConnectionResponse() {\n        // Peek at available data (we need at least 5 bytes to get the hostname length)\n        const header = this.receiveBuffer.peek(5);\n        if (header[0] !== 0x05 || header[1] !== constants_1.Socks5Response.Granted) {\n            this.closeSocket(`${constants_1.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${constants_1.Socks5Response[header[1]]}`);\n        } else {\n            // Read address type\n            const addressType = header[3];\n            let remoteHost;\n            let buff;\n            // IPv4\n            if (addressType === constants_1.Socks5HostType.IPv4) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.fromLong(buff.readUInt32BE()),\n                    port: buff.readUInt16BE()\n                };\n                // If given host is 0.0.0.0, assume remote proxy ip instead.\n                if (remoteHost.host === \"0.0.0.0\") {\n                    remoteHost.host = this.options.proxy.ipaddress;\n                }\n            // Hostname\n            } else if (addressType === constants_1.Socks5HostType.Hostname) {\n                const hostLength = header[4];\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(hostLength); // header + host length + port\n                // Check if data is available.\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(5));\n                remoteHost = {\n                    host: buff.readString(hostLength),\n                    port: buff.readUInt16BE()\n                };\n            // IPv6\n            } else if (addressType === constants_1.Socks5HostType.IPv6) {\n                // Check if data is available.\n                const dataNeeded = constants_1.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;\n                if (this.receiveBuffer.length < dataNeeded) {\n                    this.nextRequiredPacketBufferSize = dataNeeded;\n                    return;\n                }\n                buff = smart_buffer_1.SmartBuffer.fromBuffer(this.receiveBuffer.get(dataNeeded).slice(4));\n                remoteHost = {\n                    host: ip.toString(buff.readBuffer(16)),\n                    port: buff.readUInt16BE()\n                };\n            }\n            this.setState(constants_1.SocksClientState.Established);\n            this.removeInternalSocketHandlers();\n            this.emit(\"established\", {\n                remoteHost,\n                socket: this.socket\n            });\n        }\n    }\n    get socksClientOptions() {\n        return Object.assign({}, this.options);\n    }\n}\nexports.SocksClient = SocksClient; //# sourceMappingURL=socksclient.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY2xpZW50L3NvY2tzY2xpZW50LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsSUFBSUEsWUFBWSxJQUFLLElBQUksSUFBSSxDQUFDQSxTQUFTLElBQUssU0FBVUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLENBQUMsRUFBRUMsU0FBUztJQUNuRixTQUFTQyxNQUFNQyxLQUFLO1FBQUksT0FBT0EsaUJBQWlCSCxJQUFJRyxRQUFRLElBQUlILEVBQUUsU0FBVUksT0FBTztZQUFJQSxRQUFRRDtRQUFRO0lBQUk7SUFDM0csT0FBTyxJQUFLSCxDQUFBQSxLQUFNQSxDQUFBQSxJQUFJSyxPQUFNLENBQUMsRUFBRyxTQUFVRCxPQUFPLEVBQUVFLE1BQU07UUFDckQsU0FBU0MsVUFBVUosS0FBSztZQUFJLElBQUk7Z0JBQUVLLEtBQUtQLFVBQVVRLElBQUksQ0FBQ047WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUMxRixTQUFTQyxTQUFTUixLQUFLO1lBQUksSUFBSTtnQkFBRUssS0FBS1AsU0FBUyxDQUFDLFFBQVEsQ0FBQ0U7WUFBUyxFQUFFLE9BQU9PLEdBQUc7Z0JBQUVKLE9BQU9JO1lBQUk7UUFBRTtRQUM3RixTQUFTRixLQUFLSSxNQUFNO1lBQUlBLE9BQU9DLElBQUksR0FBR1QsUUFBUVEsT0FBT1QsS0FBSyxJQUFJRCxNQUFNVSxPQUFPVCxLQUFLLEVBQUVXLElBQUksQ0FBQ1AsV0FBV0k7UUFBVztRQUM3R0gsS0FBSyxDQUFDUCxZQUFZQSxVQUFVYyxLQUFLLENBQUNqQixTQUFTQyxjQUFjLEVBQUUsR0FBR1UsSUFBSTtJQUN0RTtBQUNKO0FBQ0FPLDhDQUE2QztJQUFFYixPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdEZSx3QkFBd0IsR0FBR0EsbUJBQW1CLEdBQUcsS0FBSztBQUN0RCxNQUFNRyxXQUFXQyxtQkFBT0EsQ0FBQyxzQkFBUTtBQUNqQyxNQUFNQyxNQUFNRCxtQkFBT0EsQ0FBQyxnQkFBSztBQUN6QixNQUFNRSxLQUFLRixtQkFBT0EsQ0FBQyw2Q0FBSTtBQUN2QixNQUFNRyxpQkFBaUJILG1CQUFPQSxDQUFDLDRFQUFjO0FBQzdDLE1BQU1JLGNBQWNKLG1CQUFPQSxDQUFDLGlGQUFxQjtBQUNqRCxNQUFNSyxZQUFZTCxtQkFBT0EsQ0FBQyw2RUFBbUI7QUFDN0MsTUFBTU0sa0JBQWtCTixtQkFBT0EsQ0FBQyx5RkFBeUI7QUFDekQsTUFBTU8sU0FBU1AsbUJBQU9BLENBQUMsdUVBQWdCO0FBQ3ZDTixvREFBbUQ7SUFBRWMsWUFBWTtJQUFNQyxLQUFLO1FBQWMsT0FBT0YsT0FBT1YsZ0JBQWdCO0lBQUU7QUFBRSxDQUFDLEVBQUM7QUFDOUgsTUFBTUMsb0JBQW9CQyxTQUFTVyxZQUFZO0lBQzNDQyxZQUFZQyxPQUFPLENBQUU7UUFDakIsS0FBSztRQUNMLElBQUksQ0FBQ0EsT0FBTyxHQUFHbEIsT0FBT21CLE1BQU0sQ0FBQyxDQUFDLEdBQUdEO1FBQ2pDLDhCQUE4QjtRQUM3QixJQUFHUCxVQUFVUywwQkFBMEIsRUFBRUY7UUFDMUMsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0csUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQ0MsT0FBTztJQUN0RDtJQUNBOzs7Ozs7O0tBT0MsR0FDRCxPQUFPQyxpQkFBaUJOLE9BQU8sRUFBRU8sUUFBUSxFQUFFO1FBQ3ZDLE9BQU8sSUFBSXBDLFFBQVEsQ0FBQ0QsU0FBU0U7WUFDekIsOEJBQThCO1lBQzlCLElBQUk7Z0JBQ0MsSUFBR3FCLFVBQVVTLDBCQUEwQixFQUFFRixTQUFTO29CQUFDO2lCQUFVO1lBQ2xFLEVBQ0EsT0FBT1EsS0FBSztnQkFDUixJQUFJLE9BQU9ELGFBQWEsWUFBWTtvQkFDaENBLFNBQVNDO29CQUNULDhEQUE4RDtvQkFDOUQsT0FBT3RDLFFBQVFzQyxNQUFNLG9EQUFvRDtnQkFDN0UsT0FDSztvQkFDRCxPQUFPcEMsT0FBT29DO2dCQUNsQjtZQUNKO1lBQ0EsTUFBTUMsU0FBUyxJQUFJdkIsWUFBWWM7WUFDL0JTLE9BQU9DLE9BQU8sQ0FBQ1YsUUFBUVcsZUFBZTtZQUN0Q0YsT0FBT0csSUFBSSxDQUFDLGVBQWUsQ0FBQ0M7Z0JBQ3hCSixPQUFPSyxrQkFBa0I7Z0JBQ3pCLElBQUksT0FBT1AsYUFBYSxZQUFZO29CQUNoQ0EsU0FBUyxNQUFNTTtvQkFDZjNDLFFBQVEyQyxPQUFPLG9EQUFvRDtnQkFDdkUsT0FDSztvQkFDRDNDLFFBQVEyQztnQkFDWjtZQUNKO1lBQ0Esa0RBQWtEO1lBQ2xESixPQUFPRyxJQUFJLENBQUMsU0FBUyxDQUFDSjtnQkFDbEJDLE9BQU9LLGtCQUFrQjtnQkFDekIsSUFBSSxPQUFPUCxhQUFhLFlBQVk7b0JBQ2hDQSxTQUFTQztvQkFDVCw4REFBOEQ7b0JBQzlEdEMsUUFBUXNDLE1BQU0sb0RBQW9EO2dCQUN0RSxPQUNLO29CQUNEcEMsT0FBT29DO2dCQUNYO1lBQ0o7UUFDSjtJQUNKO0lBQ0E7Ozs7Ozs7O0tBUUMsR0FDRCxPQUFPTyxzQkFBc0JmLE9BQU8sRUFBRU8sUUFBUSxFQUFFO1FBQzVDLHFEQUFxRDtRQUNyRCxPQUFPLElBQUlwQyxRQUFRLENBQUNELFNBQVNFLFNBQVdULFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7Z0JBQ3BFLG1DQUFtQztnQkFDbkMsSUFBSTtvQkFDQyxJQUFHOEIsVUFBVXVCLCtCQUErQixFQUFFaEI7Z0JBQ25ELEVBQ0EsT0FBT1EsS0FBSztvQkFDUixJQUFJLE9BQU9ELGFBQWEsWUFBWTt3QkFDaENBLFNBQVNDO3dCQUNULDhEQUE4RDt3QkFDOUQsT0FBT3RDLFFBQVFzQyxNQUFNLG9EQUFvRDtvQkFDN0UsT0FDSzt3QkFDRCxPQUFPcEMsT0FBT29DO29CQUNsQjtnQkFDSjtnQkFDQSxrQkFBa0I7Z0JBQ2xCLElBQUlSLFFBQVFpQixjQUFjLEVBQUU7b0JBQ3ZCLElBQUd0QixPQUFPdUIsWUFBWSxFQUFFbEIsUUFBUW1CLE9BQU87Z0JBQzVDO2dCQUNBLElBQUk7b0JBQ0EsSUFBSUM7b0JBQ0osSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlyQixRQUFRbUIsT0FBTyxDQUFDRyxNQUFNLEVBQUVELElBQUs7d0JBQzdDLE1BQU1FLFlBQVl2QixRQUFRbUIsT0FBTyxDQUFDRSxFQUFFO3dCQUNwQywwSEFBMEg7d0JBQzFILE1BQU1HLGtCQUFrQkgsTUFBTXJCLFFBQVFtQixPQUFPLENBQUNHLE1BQU0sR0FBRyxJQUNqRHRCLFFBQVF5QixXQUFXLEdBQ25COzRCQUNFQyxNQUFNMUIsUUFBUW1CLE9BQU8sQ0FBQ0UsSUFBSSxFQUFFLENBQUNLLElBQUksSUFDN0IxQixRQUFRbUIsT0FBTyxDQUFDRSxJQUFJLEVBQUUsQ0FBQ00sU0FBUzs0QkFDcENDLE1BQU01QixRQUFRbUIsT0FBTyxDQUFDRSxJQUFJLEVBQUUsQ0FBQ08sSUFBSTt3QkFDckM7d0JBQ0osNENBQTRDO3dCQUM1QyxNQUFNbEQsU0FBUyxNQUFNUSxZQUFZb0IsZ0JBQWdCLENBQUM7NEJBQzlDdUIsU0FBUzs0QkFDVEMsT0FBT1A7NEJBQ1BFLGFBQWFEOzRCQUNiYixpQkFBaUJTO3dCQUNyQjt3QkFDQSx3Q0FBd0M7d0JBQ3hDQSxPQUFPQSxRQUFRMUMsT0FBT3FELE1BQU07b0JBQ2hDO29CQUNBLElBQUksT0FBT3hCLGFBQWEsWUFBWTt3QkFDaENBLFNBQVMsTUFBTTs0QkFBRXdCLFFBQVFYO3dCQUFLO3dCQUM5QmxELFFBQVE7NEJBQUU2RCxRQUFRWDt3QkFBSyxJQUFJLG9EQUFvRDtvQkFDbkYsT0FDSzt3QkFDRGxELFFBQVE7NEJBQUU2RCxRQUFRWDt3QkFBSztvQkFDM0I7Z0JBQ0osRUFDQSxPQUFPWixLQUFLO29CQUNSLElBQUksT0FBT0QsYUFBYSxZQUFZO3dCQUNoQ0EsU0FBU0M7d0JBQ1QsOERBQThEO3dCQUM5RHRDLFFBQVFzQyxNQUFNLG9EQUFvRDtvQkFDdEUsT0FDSzt3QkFDRHBDLE9BQU9vQztvQkFDWDtnQkFDSjtZQUNKO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRCxPQUFPd0IsZUFBZWhDLE9BQU8sRUFBRTtRQUMzQixNQUFNaUMsT0FBTyxJQUFJMUMsZUFBZTJDLFdBQVc7UUFDM0NELEtBQUtFLGFBQWEsQ0FBQztRQUNuQkYsS0FBS0csVUFBVSxDQUFDcEMsUUFBUXFDLFdBQVcsSUFBSTtRQUN2QyxxQkFBcUI7UUFDckIsSUFBSWhELElBQUlpRCxNQUFNLENBQUN0QyxRQUFRdUMsVUFBVSxDQUFDYixJQUFJLEdBQUc7WUFDckNPLEtBQUtHLFVBQVUsQ0FBQzVDLFlBQVlnRCxjQUFjLENBQUNDLElBQUk7WUFDL0NSLEtBQUtTLGFBQWEsQ0FBQ3BELEdBQUdxRCxNQUFNLENBQUMzQyxRQUFRdUMsVUFBVSxDQUFDYixJQUFJO1FBQ3hELE9BQ0ssSUFBSXJDLElBQUl1RCxNQUFNLENBQUM1QyxRQUFRdUMsVUFBVSxDQUFDYixJQUFJLEdBQUc7WUFDMUNPLEtBQUtHLFVBQVUsQ0FBQzVDLFlBQVlnRCxjQUFjLENBQUNLLElBQUk7WUFDL0NaLEtBQUthLFdBQVcsQ0FBQ3hELEdBQUd5RCxRQUFRLENBQUMvQyxRQUFRdUMsVUFBVSxDQUFDYixJQUFJO1FBQ3hELE9BQ0s7WUFDRE8sS0FBS0csVUFBVSxDQUFDNUMsWUFBWWdELGNBQWMsQ0FBQ1EsUUFBUTtZQUNuRGYsS0FBS0csVUFBVSxDQUFDYSxPQUFPQyxVQUFVLENBQUNsRCxRQUFRdUMsVUFBVSxDQUFDYixJQUFJO1lBQ3pETyxLQUFLa0IsV0FBVyxDQUFDbkQsUUFBUXVDLFVBQVUsQ0FBQ2IsSUFBSTtRQUM1QztRQUNBLE9BQU87UUFDUE8sS0FBS0UsYUFBYSxDQUFDbkMsUUFBUXVDLFVBQVUsQ0FBQ1gsSUFBSTtRQUMxQyxPQUFPO1FBQ1BLLEtBQUthLFdBQVcsQ0FBQzlDLFFBQVFvRCxJQUFJO1FBQzdCLE9BQU9uQixLQUFLYyxRQUFRO0lBQ3hCO0lBQ0E7OztLQUdDLEdBQ0QsT0FBT00sY0FBY0QsSUFBSSxFQUFFO1FBQ3ZCLE1BQU1uQixPQUFPMUMsZUFBZTJDLFdBQVcsQ0FBQ29CLFVBQVUsQ0FBQ0Y7UUFDbkRuQixLQUFLc0IsVUFBVSxHQUFHO1FBQ2xCLE1BQU1sQixjQUFjSixLQUFLdUIsU0FBUztRQUNsQyxNQUFNQyxXQUFXeEIsS0FBS3VCLFNBQVM7UUFDL0IsSUFBSWpCO1FBQ0osSUFBSWtCLGFBQWFqRSxZQUFZZ0QsY0FBYyxDQUFDQyxJQUFJLEVBQUU7WUFDOUNGLGFBQWFqRCxHQUFHb0UsUUFBUSxDQUFDekIsS0FBSzBCLFlBQVk7UUFDOUMsT0FDSyxJQUFJRixhQUFhakUsWUFBWWdELGNBQWMsQ0FBQ0ssSUFBSSxFQUFFO1lBQ25ETixhQUFhakQsR0FBR3NFLFFBQVEsQ0FBQzNCLEtBQUs0QixVQUFVLENBQUM7UUFDN0MsT0FDSztZQUNEdEIsYUFBYU4sS0FBSzZCLFVBQVUsQ0FBQzdCLEtBQUt1QixTQUFTO1FBQy9DO1FBQ0EsTUFBTU8sYUFBYTlCLEtBQUsrQixZQUFZO1FBQ3BDLE9BQU87WUFDSDNCO1lBQ0FFLFlBQVk7Z0JBQ1JiLE1BQU1hO2dCQUNOWCxNQUFNbUM7WUFDVjtZQUNBWCxNQUFNbkIsS0FBSzRCLFVBQVU7UUFDekI7SUFDSjtJQUNBOztLQUVDLEdBQ0QxRCxTQUFTOEQsUUFBUSxFQUFFO1FBQ2YsSUFBSSxJQUFJLENBQUNDLEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDK0QsS0FBSyxFQUFFO1lBQ25ELElBQUksQ0FBQ0QsS0FBSyxHQUFHRDtRQUNqQjtJQUNKO0lBQ0E7OztLQUdDLEdBQ0R2RCxRQUFRMEQsY0FBYyxFQUFFO1FBQ3BCLElBQUksQ0FBQ0MsY0FBYyxHQUFHLENBQUNqQixPQUFTLElBQUksQ0FBQ2tCLHFCQUFxQixDQUFDbEI7UUFDM0QsSUFBSSxDQUFDbUIsT0FBTyxHQUFHLElBQU0sSUFBSSxDQUFDQyxjQUFjO1FBQ3hDLElBQUksQ0FBQ0MsT0FBTyxHQUFHLENBQUNqRSxNQUFRLElBQUksQ0FBQ2tFLGNBQWMsQ0FBQ2xFO1FBQzVDLElBQUksQ0FBQ21FLFNBQVMsR0FBRyxJQUFNLElBQUksQ0FBQ0MsZ0JBQWdCO1FBQzVDLCtDQUErQztRQUMvQyxNQUFNQyxRQUFRQyxXQUFXLElBQU0sSUFBSSxDQUFDQyxvQkFBb0IsSUFBSSxJQUFJLENBQUMvRSxPQUFPLENBQUNnRixPQUFPLElBQUl4RixZQUFZeUYsZUFBZTtRQUMvRyw4RUFBOEU7UUFDOUUsSUFBSUosTUFBTUssS0FBSyxJQUFJLE9BQU9MLE1BQU1LLEtBQUssS0FBSyxZQUFZO1lBQ2xETCxNQUFNSyxLQUFLO1FBQ2Y7UUFDQSx5R0FBeUc7UUFDekcsSUFBSWQsZ0JBQWdCO1lBQ2hCLElBQUksQ0FBQ3JDLE1BQU0sR0FBR3FDO1FBQ2xCLE9BQ0s7WUFDRCxJQUFJLENBQUNyQyxNQUFNLEdBQUcsSUFBSTFDLElBQUk4RixNQUFNO1FBQ2hDO1FBQ0EsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQ3BELE1BQU0sQ0FBQ25CLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQzJELE9BQU87UUFDdEMsSUFBSSxDQUFDeEMsTUFBTSxDQUFDbkIsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDNkQsT0FBTztRQUN0QyxJQUFJLENBQUMxQyxNQUFNLENBQUNuQixJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMrRCxTQUFTO1FBQzFDLElBQUksQ0FBQzVDLE1BQU0sQ0FBQ3FELEVBQUUsQ0FBQyxRQUFRLElBQUksQ0FBQ2YsY0FBYztRQUMxQyxJQUFJLENBQUNsRSxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDaUYsVUFBVTtRQUNyRCxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJNUYsZ0JBQWdCNkYsYUFBYTtRQUN0RCxJQUFJbkIsZ0JBQWdCO1lBQ2hCLElBQUksQ0FBQ3JDLE1BQU0sQ0FBQ3lELElBQUksQ0FBQztRQUNyQixPQUNLO1lBQ0QsSUFBSSxDQUFDekQsTUFBTSxDQUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQytFLGdCQUFnQjtZQUN6QyxJQUFJLElBQUksQ0FBQ3pGLE9BQU8sQ0FBQzBGLGVBQWUsS0FBS0MsYUFDakMsSUFBSSxDQUFDM0YsT0FBTyxDQUFDMEYsZUFBZSxLQUFLLE1BQU07Z0JBQ3ZDLElBQUksQ0FBQzNELE1BQU0sQ0FBQzZELFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDNUYsT0FBTyxDQUFDMEYsZUFBZTtZQUN6RDtRQUNKO1FBQ0EsNkZBQTZGO1FBQzdGLElBQUksQ0FBQ0csbUJBQW1CLENBQUMsZUFBZSxDQUFDaEY7WUFDckNpRixhQUFhO2dCQUNULElBQUksSUFBSSxDQUFDUixhQUFhLENBQUNoRSxNQUFNLEdBQUcsR0FBRztvQkFDL0IsTUFBTXlFLGFBQWEsSUFBSSxDQUFDVCxhQUFhLENBQUN6RixHQUFHLENBQUMsSUFBSSxDQUFDeUYsYUFBYSxDQUFDaEUsTUFBTTtvQkFDbkVULEtBQUtrQixNQUFNLENBQUN5RCxJQUFJLENBQUMsUUFBUU87Z0JBQzdCO2dCQUNBbEYsS0FBS2tCLE1BQU0sQ0FBQ2lFLE1BQU07WUFDdEI7UUFDSjtJQUNKO0lBQ0EsK0VBQStFO0lBQy9FUCxtQkFBbUI7UUFDZixPQUFPM0csT0FBT21CLE1BQU0sQ0FBQ25CLE9BQU9tQixNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQ0QsT0FBTyxDQUFDaUcsY0FBYyxHQUFHO1lBQUV2RSxNQUFNLElBQUksQ0FBQzFCLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ0osSUFBSSxJQUFJLElBQUksQ0FBQzFCLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ0gsU0FBUztZQUFFQyxNQUFNLElBQUksQ0FBQzVCLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ0YsSUFBSTtRQUFDO0lBQ3hLO0lBQ0E7OztLQUdDLEdBQ0RtRCx1QkFBdUI7UUFDbkIsSUFBSSxJQUFJLENBQUNiLEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDOEYsV0FBVyxJQUN2RCxJQUFJLENBQUNoQyxLQUFLLEtBQUsxRSxZQUFZWSxnQkFBZ0IsQ0FBQytGLHlCQUF5QixFQUFFO1lBQ3ZFLElBQUksQ0FBQ0MsV0FBVyxDQUFDNUcsWUFBWTZHLE1BQU0sQ0FBQ0MsdUJBQXVCO1FBQy9EO0lBQ0o7SUFDQTs7S0FFQyxHQUNEMUIsbUJBQW1CO1FBQ2YsSUFBSSxDQUFDekUsUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQ21HLFNBQVM7UUFDcEQsMEJBQTBCO1FBQzFCLElBQUksSUFBSSxDQUFDdkcsT0FBTyxDQUFDOEIsS0FBSyxDQUFDMEUsSUFBSSxLQUFLLEdBQUc7WUFDL0IsSUFBSSxDQUFDQywwQkFBMEI7UUFDbkMsT0FDSztZQUNELElBQUksQ0FBQ0MsMEJBQTBCO1FBQ25DO1FBQ0EsSUFBSSxDQUFDdkcsUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQ3VHLG9CQUFvQjtJQUNuRTtJQUNBOzs7S0FHQyxHQUNEckMsc0JBQXNCbEIsSUFBSSxFQUFFO1FBQ3hCOzs7UUFHQSxHQUNBLElBQUksQ0FBQ2tDLGFBQWEsQ0FBQ3NCLE1BQU0sQ0FBQ3hEO1FBQzFCLDZCQUE2QjtRQUM3QixJQUFJLENBQUN5RCxXQUFXO0lBQ3BCO0lBQ0E7O0tBRUMsR0FDREEsY0FBYztRQUNWLG1GQUFtRjtRQUNuRixNQUFPLElBQUksQ0FBQzNDLEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDOEYsV0FBVyxJQUMxRCxJQUFJLENBQUNoQyxLQUFLLEtBQUsxRSxZQUFZWSxnQkFBZ0IsQ0FBQytELEtBQUssSUFDakQsSUFBSSxDQUFDbUIsYUFBYSxDQUFDaEUsTUFBTSxJQUFJLElBQUksQ0FBQ3dGLDRCQUE0QixDQUFFO1lBQ2hFLGdEQUFnRDtZQUNoRCxJQUFJLElBQUksQ0FBQzVDLEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDdUcsb0JBQW9CLEVBQUU7Z0JBQ2xFLElBQUksSUFBSSxDQUFDM0csT0FBTyxDQUFDOEIsS0FBSyxDQUFDMEUsSUFBSSxLQUFLLEdBQUc7b0JBQy9CLDRDQUE0QztvQkFDNUMsSUFBSSxDQUFDTyxrQ0FBa0M7Z0JBQzNDLE9BQ0s7b0JBQ0Qsd0RBQXdEO29CQUN4RCxJQUFJLENBQUNDLG9DQUFvQztnQkFDN0M7WUFDQSx3REFBd0Q7WUFDNUQsT0FDSyxJQUFJLElBQUksQ0FBQzlDLEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDNkcsa0JBQWtCLEVBQUU7Z0JBQ3JFLElBQUksQ0FBQ0Msa0RBQWtEO1lBQ3ZELDZEQUE2RDtZQUNqRSxPQUNLLElBQUksSUFBSSxDQUFDaEQsS0FBSyxLQUFLMUUsWUFBWVksZ0JBQWdCLENBQUMrRyxrQkFBa0IsRUFBRTtnQkFDckUsSUFBSSxDQUFDQyxrQ0FBa0M7WUFDdkMsbUVBQW1FO1lBQ3ZFLE9BQ0ssSUFBSSxJQUFJLENBQUNsRCxLQUFLLEtBQUsxRSxZQUFZWSxnQkFBZ0IsQ0FBQytGLHlCQUF5QixFQUFFO2dCQUM1RSxJQUFJLElBQUksQ0FBQ25HLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQzBFLElBQUksS0FBSyxHQUFHO29CQUMvQixJQUFJLENBQUNhLHNDQUFzQztnQkFDL0MsT0FDSztvQkFDRCxJQUFJLENBQUNDLHNDQUFzQztnQkFDL0M7WUFDSixPQUNLO2dCQUNELElBQUksQ0FBQ2xCLFdBQVcsQ0FBQzVHLFlBQVk2RyxNQUFNLENBQUNrQixhQUFhO2dCQUNqRDtZQUNKO1FBQ0o7SUFDSjtJQUNBOzs7S0FHQyxHQUNEL0MsaUJBQWlCO1FBQ2IsSUFBSSxDQUFDNEIsV0FBVyxDQUFDNUcsWUFBWTZHLE1BQU0sQ0FBQ21CLFlBQVk7SUFDcEQ7SUFDQTs7O0tBR0MsR0FDRDlDLGVBQWVsRSxHQUFHLEVBQUU7UUFDaEIsSUFBSSxDQUFDNEYsV0FBVyxDQUFDNUYsSUFBSWlILE9BQU87SUFDaEM7SUFDQTs7S0FFQyxHQUNEQywrQkFBK0I7UUFDM0IsNkZBQTZGO1FBQzdGLElBQUksQ0FBQzNGLE1BQU0sQ0FBQzRGLEtBQUs7UUFDakIsSUFBSSxDQUFDNUYsTUFBTSxDQUFDNkYsY0FBYyxDQUFDLFFBQVEsSUFBSSxDQUFDdkQsY0FBYztRQUN0RCxJQUFJLENBQUN0QyxNQUFNLENBQUM2RixjQUFjLENBQUMsU0FBUyxJQUFJLENBQUNyRCxPQUFPO1FBQ2hELElBQUksQ0FBQ3hDLE1BQU0sQ0FBQzZGLGNBQWMsQ0FBQyxTQUFTLElBQUksQ0FBQ25ELE9BQU87UUFDaEQsSUFBSSxDQUFDMUMsTUFBTSxDQUFDNkYsY0FBYyxDQUFDLFdBQVcsSUFBSSxDQUFDakQsU0FBUztJQUN4RDtJQUNBOzs7S0FHQyxHQUNEeUIsWUFBWTVGLEdBQUcsRUFBRTtRQUNiLDJGQUEyRjtRQUMzRixJQUFJLElBQUksQ0FBQzBELEtBQUssS0FBSzFFLFlBQVlZLGdCQUFnQixDQUFDK0QsS0FBSyxFQUFFO1lBQ25ELCtCQUErQjtZQUMvQixJQUFJLENBQUNoRSxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDK0QsS0FBSztZQUNoRCxpQkFBaUI7WUFDakIsSUFBSSxDQUFDcEMsTUFBTSxDQUFDOEYsT0FBTztZQUNuQiw0QkFBNEI7WUFDNUIsSUFBSSxDQUFDSCw0QkFBNEI7WUFDakMsc0JBQXNCO1lBQ3RCLElBQUksQ0FBQ2xDLElBQUksQ0FBQyxTQUFTLElBQUk3RixPQUFPVixnQkFBZ0IsQ0FBQ3VCLEtBQUssSUFBSSxDQUFDUixPQUFPO1FBQ3BFO0lBQ0o7SUFDQTs7S0FFQyxHQUNEeUcsNkJBQTZCO1FBQ3pCLE1BQU1xQixTQUFTLElBQUksQ0FBQzlILE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ2dHLE1BQU0sSUFBSTtRQUM1QyxNQUFNN0YsT0FBTyxJQUFJMUMsZUFBZTJDLFdBQVc7UUFDM0NELEtBQUtHLFVBQVUsQ0FBQztRQUNoQkgsS0FBS0csVUFBVSxDQUFDNUMsWUFBWXVJLFlBQVksQ0FBQyxJQUFJLENBQUMvSCxPQUFPLENBQUM2QixPQUFPLENBQUM7UUFDOURJLEtBQUtFLGFBQWEsQ0FBQyxJQUFJLENBQUNuQyxPQUFPLENBQUN5QixXQUFXLENBQUNHLElBQUk7UUFDaEQsaUJBQWlCO1FBQ2pCLElBQUl2QyxJQUFJaUQsTUFBTSxDQUFDLElBQUksQ0FBQ3RDLE9BQU8sQ0FBQ3lCLFdBQVcsQ0FBQ0MsSUFBSSxHQUFHO1lBQzNDTyxLQUFLYSxXQUFXLENBQUN4RCxHQUFHeUQsUUFBUSxDQUFDLElBQUksQ0FBQy9DLE9BQU8sQ0FBQ3lCLFdBQVcsQ0FBQ0MsSUFBSTtZQUMxRE8sS0FBSytGLGFBQWEsQ0FBQ0Y7UUFDbkIsc0JBQXNCO1FBQzFCLE9BQ0s7WUFDRDdGLEtBQUtHLFVBQVUsQ0FBQztZQUNoQkgsS0FBS0csVUFBVSxDQUFDO1lBQ2hCSCxLQUFLRyxVQUFVLENBQUM7WUFDaEJILEtBQUtHLFVBQVUsQ0FBQztZQUNoQkgsS0FBSytGLGFBQWEsQ0FBQ0Y7WUFDbkI3RixLQUFLK0YsYUFBYSxDQUFDLElBQUksQ0FBQ2hJLE9BQU8sQ0FBQ3lCLFdBQVcsQ0FBQ0MsSUFBSTtRQUNwRDtRQUNBLElBQUksQ0FBQ29GLDRCQUE0QixHQUM3QnRILFlBQVl5SSwyQkFBMkIsQ0FBQ0MsY0FBYztRQUMxRCxJQUFJLENBQUNuRyxNQUFNLENBQUNvRyxLQUFLLENBQUNsRyxLQUFLYyxRQUFRO0lBQ25DO0lBQ0E7OztLQUdDLEdBQ0RnRSxxQ0FBcUM7UUFDakMsTUFBTTNELE9BQU8sSUFBSSxDQUFDa0MsYUFBYSxDQUFDekYsR0FBRyxDQUFDO1FBQ3BDLElBQUl1RCxJQUFJLENBQUMsRUFBRSxLQUFLNUQsWUFBWTBJLGNBQWMsQ0FBQ0UsT0FBTyxFQUFFO1lBQ2hELElBQUksQ0FBQ2hDLFdBQVcsQ0FBQyxDQUFDLEVBQUU1RyxZQUFZNkcsTUFBTSxDQUFDZ0MsNkJBQTZCLENBQUMsSUFBSSxFQUFFN0ksWUFBWTBJLGNBQWMsQ0FBQzlFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckgsT0FDSztZQUNELGdCQUFnQjtZQUNoQixJQUFJNUQsWUFBWXVJLFlBQVksQ0FBQyxJQUFJLENBQUMvSCxPQUFPLENBQUM2QixPQUFPLENBQUMsS0FBS3JDLFlBQVl1SSxZQUFZLENBQUNPLElBQUksRUFBRTtnQkFDbEYsTUFBTXJHLE9BQU8xQyxlQUFlMkMsV0FBVyxDQUFDb0IsVUFBVSxDQUFDRjtnQkFDbkRuQixLQUFLc0IsVUFBVSxHQUFHO2dCQUNsQixNQUFNaEIsYUFBYTtvQkFDZlgsTUFBTUssS0FBSytCLFlBQVk7b0JBQ3ZCdEMsTUFBTXBDLEdBQUdvRSxRQUFRLENBQUN6QixLQUFLMEIsWUFBWTtnQkFDdkM7Z0JBQ0EseUNBQXlDO2dCQUN6QyxJQUFJcEIsV0FBV2IsSUFBSSxLQUFLLFdBQVc7b0JBQy9CYSxXQUFXYixJQUFJLEdBQUcsSUFBSSxDQUFDMUIsT0FBTyxDQUFDOEIsS0FBSyxDQUFDSCxTQUFTO2dCQUNsRDtnQkFDQSxJQUFJLENBQUN4QixRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDK0YseUJBQXlCO2dCQUNwRSxJQUFJLENBQUNYLElBQUksQ0FBQyxTQUFTO29CQUFFakQ7b0JBQVlSLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUFDO1lBQ3JELG1CQUFtQjtZQUN2QixPQUNLO2dCQUNELElBQUksQ0FBQzVCLFFBQVEsQ0FBQ1gsWUFBWVksZ0JBQWdCLENBQUM4RixXQUFXO2dCQUN0RCxJQUFJLENBQUN3Qiw0QkFBNEI7Z0JBQ2pDLElBQUksQ0FBQ2xDLElBQUksQ0FBQyxlQUFlO29CQUFFekQsUUFBUSxJQUFJLENBQUNBLE1BQU07Z0JBQUM7WUFDbkQ7UUFDSjtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RzRix5Q0FBeUM7UUFDckMsTUFBTWpFLE9BQU8sSUFBSSxDQUFDa0MsYUFBYSxDQUFDekYsR0FBRyxDQUFDO1FBQ3BDLElBQUl1RCxJQUFJLENBQUMsRUFBRSxLQUFLNUQsWUFBWTBJLGNBQWMsQ0FBQ0UsT0FBTyxFQUFFO1lBQ2hELElBQUksQ0FBQ2hDLFdBQVcsQ0FBQyxDQUFDLEVBQUU1RyxZQUFZNkcsTUFBTSxDQUFDa0MsMENBQTBDLENBQUMsSUFBSSxFQUFFL0ksWUFBWTBJLGNBQWMsQ0FBQzlFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEksT0FDSztZQUNELE1BQU1uQixPQUFPMUMsZUFBZTJDLFdBQVcsQ0FBQ29CLFVBQVUsQ0FBQ0Y7WUFDbkRuQixLQUFLc0IsVUFBVSxHQUFHO1lBQ2xCLE1BQU1oQixhQUFhO2dCQUNmWCxNQUFNSyxLQUFLK0IsWUFBWTtnQkFDdkJ0QyxNQUFNcEMsR0FBR29FLFFBQVEsQ0FBQ3pCLEtBQUswQixZQUFZO1lBQ3ZDO1lBQ0EsSUFBSSxDQUFDeEQsUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQzhGLFdBQVc7WUFDdEQsSUFBSSxDQUFDd0IsNEJBQTRCO1lBQ2pDLElBQUksQ0FBQ2xDLElBQUksQ0FBQyxlQUFlO2dCQUFFakQ7Z0JBQVlSLFFBQVEsSUFBSSxDQUFDQSxNQUFNO1lBQUM7UUFDL0Q7SUFDSjtJQUNBOztLQUVDLEdBQ0QyRSw2QkFBNkI7UUFDekIsTUFBTXpFLE9BQU8sSUFBSTFDLGVBQWUyQyxXQUFXO1FBQzNDLHdDQUF3QztRQUN4QyxNQUFNc0csdUJBQXVCO1lBQUNoSixZQUFZaUosVUFBVSxDQUFDQyxNQUFNO1NBQUM7UUFDNUQsNkZBQTZGO1FBQzdGLHNIQUFzSDtRQUN0SCxJQUFJLElBQUksQ0FBQzFJLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ2dHLE1BQU0sSUFBSSxJQUFJLENBQUM5SCxPQUFPLENBQUM4QixLQUFLLENBQUM2RyxRQUFRLEVBQUU7WUFDMURILHFCQUFxQkksSUFBSSxDQUFDcEosWUFBWWlKLFVBQVUsQ0FBQ0ksUUFBUTtRQUM3RDtRQUNBLHNCQUFzQjtRQUN0QixJQUFJLElBQUksQ0FBQzdJLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ2dILGtCQUFrQixLQUFLbkQsV0FBVztZQUNyRDZDLHFCQUFxQkksSUFBSSxDQUFDLElBQUksQ0FBQzVJLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ2dILGtCQUFrQjtRQUNuRTtRQUNBLHlCQUF5QjtRQUN6QjdHLEtBQUtHLFVBQVUsQ0FBQztRQUNoQkgsS0FBS0csVUFBVSxDQUFDb0cscUJBQXFCbEgsTUFBTTtRQUMzQyxLQUFLLE1BQU15SCxjQUFjUCxxQkFBc0I7WUFDM0N2RyxLQUFLRyxVQUFVLENBQUMyRztRQUNwQjtRQUNBLElBQUksQ0FBQ2pDLDRCQUE0QixHQUM3QnRILFlBQVl5SSwyQkFBMkIsQ0FBQ2UsOEJBQThCO1FBQzFFLElBQUksQ0FBQ2pILE1BQU0sQ0FBQ29HLEtBQUssQ0FBQ2xHLEtBQUtjLFFBQVE7UUFDL0IsSUFBSSxDQUFDNUMsUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQ3VHLG9CQUFvQjtJQUNuRTtJQUNBOzs7S0FHQyxHQUNESyx1Q0FBdUM7UUFDbkMsTUFBTTVELE9BQU8sSUFBSSxDQUFDa0MsYUFBYSxDQUFDekYsR0FBRyxDQUFDO1FBQ3BDLElBQUl1RCxJQUFJLENBQUMsRUFBRSxLQUFLLE1BQU07WUFDbEIsSUFBSSxDQUFDZ0QsV0FBVyxDQUFDNUcsWUFBWTZHLE1BQU0sQ0FBQzRDLHlDQUF5QztRQUNqRixPQUNLLElBQUk3RixJQUFJLENBQUMsRUFBRSxLQUFLNUQsWUFBWTBKLHlCQUF5QixFQUFFO1lBQ3hELElBQUksQ0FBQzlDLFdBQVcsQ0FBQzVHLFlBQVk2RyxNQUFNLENBQUM4QywrQ0FBK0M7UUFDdkYsT0FDSztZQUNELDZFQUE2RTtZQUM3RSxJQUFJL0YsSUFBSSxDQUFDLEVBQUUsS0FBSzVELFlBQVlpSixVQUFVLENBQUNDLE1BQU0sRUFBRTtnQkFDM0MsSUFBSSxDQUFDVSxvQkFBb0IsR0FBRzVKLFlBQVlpSixVQUFVLENBQUNDLE1BQU07Z0JBQ3pELElBQUksQ0FBQ1csd0JBQXdCO1lBQzdCLDBFQUEwRTtZQUM5RSxPQUNLLElBQUlqRyxJQUFJLENBQUMsRUFBRSxLQUFLNUQsWUFBWWlKLFVBQVUsQ0FBQ0ksUUFBUSxFQUFFO2dCQUNsRCxJQUFJLENBQUNPLG9CQUFvQixHQUFHNUosWUFBWWlKLFVBQVUsQ0FBQ0ksUUFBUTtnQkFDM0QsSUFBSSxDQUFDUyxnQ0FBZ0M7WUFDckMscUZBQXFGO1lBQ3pGLE9BQ0ssSUFBSWxHLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDcEQsT0FBTyxDQUFDOEIsS0FBSyxDQUFDZ0gsa0JBQWtCLEVBQUU7Z0JBQ3hELElBQUksQ0FBQ00sb0JBQW9CLEdBQUcsSUFBSSxDQUFDcEosT0FBTyxDQUFDOEIsS0FBSyxDQUFDZ0gsa0JBQWtCO2dCQUNqRSxJQUFJLENBQUNTLDhCQUE4QjtZQUN2QyxPQUNLO2dCQUNELElBQUksQ0FBQ25ELFdBQVcsQ0FBQzVHLFlBQVk2RyxNQUFNLENBQUNtRCw0Q0FBNEM7WUFDcEY7UUFDSjtJQUNKO0lBQ0E7Ozs7S0FJQyxHQUNERixtQ0FBbUM7UUFDL0IsTUFBTXhCLFNBQVMsSUFBSSxDQUFDOUgsT0FBTyxDQUFDOEIsS0FBSyxDQUFDZ0csTUFBTSxJQUFJO1FBQzVDLE1BQU1hLFdBQVcsSUFBSSxDQUFDM0ksT0FBTyxDQUFDOEIsS0FBSyxDQUFDNkcsUUFBUSxJQUFJO1FBQ2hELE1BQU0xRyxPQUFPLElBQUkxQyxlQUFlMkMsV0FBVztRQUMzQ0QsS0FBS0csVUFBVSxDQUFDO1FBQ2hCSCxLQUFLRyxVQUFVLENBQUNhLE9BQU9DLFVBQVUsQ0FBQzRFO1FBQ2xDN0YsS0FBS2tCLFdBQVcsQ0FBQzJFO1FBQ2pCN0YsS0FBS0csVUFBVSxDQUFDYSxPQUFPQyxVQUFVLENBQUN5RjtRQUNsQzFHLEtBQUtrQixXQUFXLENBQUN3RjtRQUNqQixJQUFJLENBQUM3Qiw0QkFBNEIsR0FDN0J0SCxZQUFZeUksMkJBQTJCLENBQUN3QixvQ0FBb0M7UUFDaEYsSUFBSSxDQUFDMUgsTUFBTSxDQUFDb0csS0FBSyxDQUFDbEcsS0FBS2MsUUFBUTtRQUMvQixJQUFJLENBQUM1QyxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDNkcsa0JBQWtCO0lBQ2pFO0lBQ0FzQyxpQ0FBaUM7UUFDN0IsT0FBTzVMLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsSUFBSSxDQUFDbUosNEJBQTRCLEdBQzdCLElBQUksQ0FBQzlHLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQzRILHlCQUF5QjtZQUNoRCxJQUFJLENBQUMzSCxNQUFNLENBQUNvRyxLQUFLLENBQUMsT0FBTSxJQUFJLENBQUNuSSxPQUFPLENBQUM4QixLQUFLLENBQUM2SCwyQkFBMkIsRUFBQztZQUN2RSxJQUFJLENBQUN4SixRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDNkcsa0JBQWtCO1FBQ2pFO0lBQ0o7SUFDQTJDLHdDQUF3Q3hHLElBQUksRUFBRTtRQUMxQyxPQUFPekYsVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxPQUFPLE1BQU0sSUFBSSxDQUFDcUMsT0FBTyxDQUFDOEIsS0FBSyxDQUFDK0gsNEJBQTRCLENBQUN6RztRQUNqRTtJQUNKO0lBQ0EwRyxrREFBa0QxRyxJQUFJLEVBQUU7UUFDcEQsT0FBT3pGLFVBQVUsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUc7WUFDbkMsT0FBT3lGLElBQUksQ0FBQyxFQUFFLEtBQUs7UUFDdkI7SUFDSjtJQUNBMkcsb0RBQW9EM0csSUFBSSxFQUFFO1FBQ3RELE9BQU96RixVQUFVLElBQUksRUFBRSxLQUFLLEdBQUcsS0FBSyxHQUFHO1lBQ25DLE9BQU95RixJQUFJLENBQUMsRUFBRSxLQUFLO1FBQ3ZCO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRDhELHFEQUFxRDtRQUNqRCxPQUFPdkosVUFBVSxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssR0FBRztZQUNuQyxJQUFJLENBQUN3QyxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDNEosOEJBQThCO1lBQ3pFLElBQUlDLGFBQWE7WUFDakIsSUFBSSxJQUFJLENBQUNiLG9CQUFvQixLQUFLNUosWUFBWWlKLFVBQVUsQ0FBQ0MsTUFBTSxFQUFFO2dCQUM3RHVCLGFBQWEsTUFBTSxJQUFJLENBQUNILGlEQUFpRCxDQUFDLElBQUksQ0FBQ3hFLGFBQWEsQ0FBQ3pGLEdBQUcsQ0FBQztZQUNyRyxPQUNLLElBQUksSUFBSSxDQUFDdUosb0JBQW9CLEtBQUs1SixZQUFZaUosVUFBVSxDQUFDSSxRQUFRLEVBQUU7Z0JBQ3BFb0IsYUFDSSxNQUFNLElBQUksQ0FBQ0YsbURBQW1ELENBQUMsSUFBSSxDQUFDekUsYUFBYSxDQUFDekYsR0FBRyxDQUFDO1lBQzlGLE9BQ0ssSUFBSSxJQUFJLENBQUN1SixvQkFBb0IsS0FBSyxJQUFJLENBQUNwSixPQUFPLENBQUM4QixLQUFLLENBQUNnSCxrQkFBa0IsRUFBRTtnQkFDMUVtQixhQUFhLE1BQU0sSUFBSSxDQUFDTCx1Q0FBdUMsQ0FBQyxJQUFJLENBQUN0RSxhQUFhLENBQUN6RixHQUFHLENBQUMsSUFBSSxDQUFDRyxPQUFPLENBQUM4QixLQUFLLENBQUM0SCx5QkFBeUI7WUFDdkk7WUFDQSxJQUFJLENBQUNPLFlBQVk7Z0JBQ2IsSUFBSSxDQUFDN0QsV0FBVyxDQUFDNUcsWUFBWTZHLE1BQU0sQ0FBQzZELDBCQUEwQjtZQUNsRSxPQUNLO2dCQUNELElBQUksQ0FBQ2Isd0JBQXdCO1lBQ2pDO1FBQ0o7SUFDSjtJQUNBOztLQUVDLEdBQ0RBLDJCQUEyQjtRQUN2QixNQUFNcEgsT0FBTyxJQUFJMUMsZUFBZTJDLFdBQVc7UUFDM0NELEtBQUtHLFVBQVUsQ0FBQztRQUNoQkgsS0FBS0csVUFBVSxDQUFDNUMsWUFBWXVJLFlBQVksQ0FBQyxJQUFJLENBQUMvSCxPQUFPLENBQUM2QixPQUFPLENBQUM7UUFDOURJLEtBQUtHLFVBQVUsQ0FBQztRQUNoQixzQkFBc0I7UUFDdEIsSUFBSS9DLElBQUlpRCxNQUFNLENBQUMsSUFBSSxDQUFDdEMsT0FBTyxDQUFDeUIsV0FBVyxDQUFDQyxJQUFJLEdBQUc7WUFDM0NPLEtBQUtHLFVBQVUsQ0FBQzVDLFlBQVlnRCxjQUFjLENBQUNDLElBQUk7WUFDL0NSLEtBQUthLFdBQVcsQ0FBQ3hELEdBQUd5RCxRQUFRLENBQUMsSUFBSSxDQUFDL0MsT0FBTyxDQUFDeUIsV0FBVyxDQUFDQyxJQUFJO1FBQzlELE9BQ0ssSUFBSXJDLElBQUl1RCxNQUFNLENBQUMsSUFBSSxDQUFDNUMsT0FBTyxDQUFDeUIsV0FBVyxDQUFDQyxJQUFJLEdBQUc7WUFDaERPLEtBQUtHLFVBQVUsQ0FBQzVDLFlBQVlnRCxjQUFjLENBQUNLLElBQUk7WUFDL0NaLEtBQUthLFdBQVcsQ0FBQ3hELEdBQUd5RCxRQUFRLENBQUMsSUFBSSxDQUFDL0MsT0FBTyxDQUFDeUIsV0FBVyxDQUFDQyxJQUFJO1FBQzlELE9BQ0s7WUFDRE8sS0FBS0csVUFBVSxDQUFDNUMsWUFBWWdELGNBQWMsQ0FBQ1EsUUFBUTtZQUNuRGYsS0FBS0csVUFBVSxDQUFDLElBQUksQ0FBQ3BDLE9BQU8sQ0FBQ3lCLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDSixNQUFNO1lBQ3BEVyxLQUFLa0IsV0FBVyxDQUFDLElBQUksQ0FBQ25ELE9BQU8sQ0FBQ3lCLFdBQVcsQ0FBQ0MsSUFBSTtRQUNsRDtRQUNBTyxLQUFLRSxhQUFhLENBQUMsSUFBSSxDQUFDbkMsT0FBTyxDQUFDeUIsV0FBVyxDQUFDRyxJQUFJO1FBQ2hELElBQUksQ0FBQ2tGLDRCQUE0QixHQUM3QnRILFlBQVl5SSwyQkFBMkIsQ0FBQ2tDLG9CQUFvQjtRQUNoRSxJQUFJLENBQUNwSSxNQUFNLENBQUNvRyxLQUFLLENBQUNsRyxLQUFLYyxRQUFRO1FBQy9CLElBQUksQ0FBQzVDLFFBQVEsQ0FBQ1gsWUFBWVksZ0JBQWdCLENBQUMrRyxrQkFBa0I7SUFDakU7SUFDQTs7O0tBR0MsR0FDREMscUNBQXFDO1FBQ2pDLCtFQUErRTtRQUMvRSxNQUFNZ0QsU0FBUyxJQUFJLENBQUM5RSxhQUFhLENBQUMrRSxJQUFJLENBQUM7UUFDdkMsSUFBSUQsTUFBTSxDQUFDLEVBQUUsS0FBSyxRQUFRQSxNQUFNLENBQUMsRUFBRSxLQUFLNUssWUFBWThLLGNBQWMsQ0FBQ2xDLE9BQU8sRUFBRTtZQUN4RSxJQUFJLENBQUNoQyxXQUFXLENBQUMsQ0FBQyxFQUFFNUcsWUFBWTZHLE1BQU0sQ0FBQ2tFLG1DQUFtQyxDQUFDLEdBQUcsRUFBRS9LLFlBQVk4SyxjQUFjLENBQUNGLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNILE9BQ0s7WUFDRCxvQkFBb0I7WUFDcEIsTUFBTUksY0FBY0osTUFBTSxDQUFDLEVBQUU7WUFDN0IsSUFBSTdIO1lBQ0osSUFBSU47WUFDSixPQUFPO1lBQ1AsSUFBSXVJLGdCQUFnQmhMLFlBQVlnRCxjQUFjLENBQUNDLElBQUksRUFBRTtnQkFDakQsOEJBQThCO2dCQUM5QixNQUFNZ0ksYUFBYWpMLFlBQVl5SSwyQkFBMkIsQ0FBQ3lDLGtCQUFrQjtnQkFDN0UsSUFBSSxJQUFJLENBQUNwRixhQUFhLENBQUNoRSxNQUFNLEdBQUdtSixZQUFZO29CQUN4QyxJQUFJLENBQUMzRCw0QkFBNEIsR0FBRzJEO29CQUNwQztnQkFDSjtnQkFDQXhJLE9BQU8xQyxlQUFlMkMsV0FBVyxDQUFDb0IsVUFBVSxDQUFDLElBQUksQ0FBQ2dDLGFBQWEsQ0FBQ3pGLEdBQUcsQ0FBQzRLLFlBQVlFLEtBQUssQ0FBQztnQkFDdEZwSSxhQUFhO29CQUNUYixNQUFNcEMsR0FBR29FLFFBQVEsQ0FBQ3pCLEtBQUswQixZQUFZO29CQUNuQy9CLE1BQU1LLEtBQUsrQixZQUFZO2dCQUMzQjtnQkFDQSw0REFBNEQ7Z0JBQzVELElBQUl6QixXQUFXYixJQUFJLEtBQUssV0FBVztvQkFDL0JhLFdBQVdiLElBQUksR0FBRyxJQUFJLENBQUMxQixPQUFPLENBQUM4QixLQUFLLENBQUNILFNBQVM7Z0JBQ2xEO1lBQ0EsV0FBVztZQUNmLE9BQ0ssSUFBSTZJLGdCQUFnQmhMLFlBQVlnRCxjQUFjLENBQUNRLFFBQVEsRUFBRTtnQkFDMUQsTUFBTTRILGFBQWFSLE1BQU0sQ0FBQyxFQUFFO2dCQUM1QixNQUFNSyxhQUFhakwsWUFBWXlJLDJCQUEyQixDQUFDNEMsc0JBQXNCLENBQUNELGFBQWEscUNBQXFDO2dCQUNwSSw4QkFBOEI7Z0JBQzlCLElBQUksSUFBSSxDQUFDdEYsYUFBYSxDQUFDaEUsTUFBTSxHQUFHbUosWUFBWTtvQkFDeEMsSUFBSSxDQUFDM0QsNEJBQTRCLEdBQUcyRDtvQkFDcEM7Z0JBQ0o7Z0JBQ0F4SSxPQUFPMUMsZUFBZTJDLFdBQVcsQ0FBQ29CLFVBQVUsQ0FBQyxJQUFJLENBQUNnQyxhQUFhLENBQUN6RixHQUFHLENBQUM0SyxZQUFZRSxLQUFLLENBQUM7Z0JBQ3RGcEksYUFBYTtvQkFDVGIsTUFBTU8sS0FBSzZCLFVBQVUsQ0FBQzhHO29CQUN0QmhKLE1BQU1LLEtBQUsrQixZQUFZO2dCQUMzQjtZQUNBLE9BQU87WUFDWCxPQUNLLElBQUl3RyxnQkFBZ0JoTCxZQUFZZ0QsY0FBYyxDQUFDSyxJQUFJLEVBQUU7Z0JBQ3RELDhCQUE4QjtnQkFDOUIsTUFBTTRILGFBQWFqTCxZQUFZeUksMkJBQTJCLENBQUM2QyxrQkFBa0I7Z0JBQzdFLElBQUksSUFBSSxDQUFDeEYsYUFBYSxDQUFDaEUsTUFBTSxHQUFHbUosWUFBWTtvQkFDeEMsSUFBSSxDQUFDM0QsNEJBQTRCLEdBQUcyRDtvQkFDcEM7Z0JBQ0o7Z0JBQ0F4SSxPQUFPMUMsZUFBZTJDLFdBQVcsQ0FBQ29CLFVBQVUsQ0FBQyxJQUFJLENBQUNnQyxhQUFhLENBQUN6RixHQUFHLENBQUM0SyxZQUFZRSxLQUFLLENBQUM7Z0JBQ3RGcEksYUFBYTtvQkFDVGIsTUFBTXBDLEdBQUdzRSxRQUFRLENBQUMzQixLQUFLNEIsVUFBVSxDQUFDO29CQUNsQ2pDLE1BQU1LLEtBQUsrQixZQUFZO2dCQUMzQjtZQUNKO1lBQ0EsNkJBQTZCO1lBQzdCLElBQUksQ0FBQzdELFFBQVEsQ0FBQ1gsWUFBWVksZ0JBQWdCLENBQUMySyxxQkFBcUI7WUFDaEUsZ0VBQWdFO1lBQ2hFLElBQUl2TCxZQUFZdUksWUFBWSxDQUFDLElBQUksQ0FBQy9ILE9BQU8sQ0FBQzZCLE9BQU8sQ0FBQyxLQUFLckMsWUFBWXVJLFlBQVksQ0FBQ3JILE9BQU8sRUFBRTtnQkFDckYsSUFBSSxDQUFDUCxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDOEYsV0FBVztnQkFDdEQsSUFBSSxDQUFDd0IsNEJBQTRCO2dCQUNqQyxJQUFJLENBQUNsQyxJQUFJLENBQUMsZUFBZTtvQkFBRWpEO29CQUFZUixRQUFRLElBQUksQ0FBQ0EsTUFBTTtnQkFBQztZQUMvRCxPQUNLLElBQUl2QyxZQUFZdUksWUFBWSxDQUFDLElBQUksQ0FBQy9ILE9BQU8sQ0FBQzZCLE9BQU8sQ0FBQyxLQUFLckMsWUFBWXVJLFlBQVksQ0FBQ08sSUFBSSxFQUFFO2dCQUN2RjtpSEFDaUcsR0FDakcsSUFBSSxDQUFDbkksUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQytGLHlCQUF5QjtnQkFDcEUsSUFBSSxDQUFDVyw0QkFBNEIsR0FDN0J0SCxZQUFZeUksMkJBQTJCLENBQUNrQyxvQkFBb0I7Z0JBQ2hFLElBQUksQ0FBQzNFLElBQUksQ0FBQyxTQUFTO29CQUFFakQ7b0JBQVlSLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUFDO1lBQ3JEOzs7Z0JBR0EsR0FDSixPQUNLLElBQUl2QyxZQUFZdUksWUFBWSxDQUFDLElBQUksQ0FBQy9ILE9BQU8sQ0FBQzZCLE9BQU8sQ0FBQyxLQUFLckMsWUFBWXVJLFlBQVksQ0FBQ2lELFNBQVMsRUFBRTtnQkFDNUYsSUFBSSxDQUFDN0ssUUFBUSxDQUFDWCxZQUFZWSxnQkFBZ0IsQ0FBQzhGLFdBQVc7Z0JBQ3RELElBQUksQ0FBQ3dCLDRCQUE0QjtnQkFDakMsSUFBSSxDQUFDbEMsSUFBSSxDQUFDLGVBQWU7b0JBQ3JCakQ7b0JBQ0FSLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUN2QjtZQUNKO1FBQ0o7SUFDSjtJQUNBOztLQUVDLEdBQ0R1Rix5Q0FBeUM7UUFDckMsK0VBQStFO1FBQy9FLE1BQU04QyxTQUFTLElBQUksQ0FBQzlFLGFBQWEsQ0FBQytFLElBQUksQ0FBQztRQUN2QyxJQUFJRCxNQUFNLENBQUMsRUFBRSxLQUFLLFFBQVFBLE1BQU0sQ0FBQyxFQUFFLEtBQUs1SyxZQUFZOEssY0FBYyxDQUFDbEMsT0FBTyxFQUFFO1lBQ3hFLElBQUksQ0FBQ2hDLFdBQVcsQ0FBQyxDQUFDLEVBQUU1RyxZQUFZNkcsTUFBTSxDQUFDNEUsMENBQTBDLENBQUMsR0FBRyxFQUFFekwsWUFBWThLLGNBQWMsQ0FBQ0YsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbEksT0FDSztZQUNELG9CQUFvQjtZQUNwQixNQUFNSSxjQUFjSixNQUFNLENBQUMsRUFBRTtZQUM3QixJQUFJN0g7WUFDSixJQUFJTjtZQUNKLE9BQU87WUFDUCxJQUFJdUksZ0JBQWdCaEwsWUFBWWdELGNBQWMsQ0FBQ0MsSUFBSSxFQUFFO2dCQUNqRCw4QkFBOEI7Z0JBQzlCLE1BQU1nSSxhQUFhakwsWUFBWXlJLDJCQUEyQixDQUFDeUMsa0JBQWtCO2dCQUM3RSxJQUFJLElBQUksQ0FBQ3BGLGFBQWEsQ0FBQ2hFLE1BQU0sR0FBR21KLFlBQVk7b0JBQ3hDLElBQUksQ0FBQzNELDRCQUE0QixHQUFHMkQ7b0JBQ3BDO2dCQUNKO2dCQUNBeEksT0FBTzFDLGVBQWUyQyxXQUFXLENBQUNvQixVQUFVLENBQUMsSUFBSSxDQUFDZ0MsYUFBYSxDQUFDekYsR0FBRyxDQUFDNEssWUFBWUUsS0FBSyxDQUFDO2dCQUN0RnBJLGFBQWE7b0JBQ1RiLE1BQU1wQyxHQUFHb0UsUUFBUSxDQUFDekIsS0FBSzBCLFlBQVk7b0JBQ25DL0IsTUFBTUssS0FBSytCLFlBQVk7Z0JBQzNCO2dCQUNBLDREQUE0RDtnQkFDNUQsSUFBSXpCLFdBQVdiLElBQUksS0FBSyxXQUFXO29CQUMvQmEsV0FBV2IsSUFBSSxHQUFHLElBQUksQ0FBQzFCLE9BQU8sQ0FBQzhCLEtBQUssQ0FBQ0gsU0FBUztnQkFDbEQ7WUFDQSxXQUFXO1lBQ2YsT0FDSyxJQUFJNkksZ0JBQWdCaEwsWUFBWWdELGNBQWMsQ0FBQ1EsUUFBUSxFQUFFO2dCQUMxRCxNQUFNNEgsYUFBYVIsTUFBTSxDQUFDLEVBQUU7Z0JBQzVCLE1BQU1LLGFBQWFqTCxZQUFZeUksMkJBQTJCLENBQUM0QyxzQkFBc0IsQ0FBQ0QsYUFBYSw4QkFBOEI7Z0JBQzdILDhCQUE4QjtnQkFDOUIsSUFBSSxJQUFJLENBQUN0RixhQUFhLENBQUNoRSxNQUFNLEdBQUdtSixZQUFZO29CQUN4QyxJQUFJLENBQUMzRCw0QkFBNEIsR0FBRzJEO29CQUNwQztnQkFDSjtnQkFDQXhJLE9BQU8xQyxlQUFlMkMsV0FBVyxDQUFDb0IsVUFBVSxDQUFDLElBQUksQ0FBQ2dDLGFBQWEsQ0FBQ3pGLEdBQUcsQ0FBQzRLLFlBQVlFLEtBQUssQ0FBQztnQkFDdEZwSSxhQUFhO29CQUNUYixNQUFNTyxLQUFLNkIsVUFBVSxDQUFDOEc7b0JBQ3RCaEosTUFBTUssS0FBSytCLFlBQVk7Z0JBQzNCO1lBQ0EsT0FBTztZQUNYLE9BQ0ssSUFBSXdHLGdCQUFnQmhMLFlBQVlnRCxjQUFjLENBQUNLLElBQUksRUFBRTtnQkFDdEQsOEJBQThCO2dCQUM5QixNQUFNNEgsYUFBYWpMLFlBQVl5SSwyQkFBMkIsQ0FBQzZDLGtCQUFrQjtnQkFDN0UsSUFBSSxJQUFJLENBQUN4RixhQUFhLENBQUNoRSxNQUFNLEdBQUdtSixZQUFZO29CQUN4QyxJQUFJLENBQUMzRCw0QkFBNEIsR0FBRzJEO29CQUNwQztnQkFDSjtnQkFDQXhJLE9BQU8xQyxlQUFlMkMsV0FBVyxDQUFDb0IsVUFBVSxDQUFDLElBQUksQ0FBQ2dDLGFBQWEsQ0FBQ3pGLEdBQUcsQ0FBQzRLLFlBQVlFLEtBQUssQ0FBQztnQkFDdEZwSSxhQUFhO29CQUNUYixNQUFNcEMsR0FBR3NFLFFBQVEsQ0FBQzNCLEtBQUs0QixVQUFVLENBQUM7b0JBQ2xDakMsTUFBTUssS0FBSytCLFlBQVk7Z0JBQzNCO1lBQ0o7WUFDQSxJQUFJLENBQUM3RCxRQUFRLENBQUNYLFlBQVlZLGdCQUFnQixDQUFDOEYsV0FBVztZQUN0RCxJQUFJLENBQUN3Qiw0QkFBNEI7WUFDakMsSUFBSSxDQUFDbEMsSUFBSSxDQUFDLGVBQWU7Z0JBQUVqRDtnQkFBWVIsUUFBUSxJQUFJLENBQUNBLE1BQU07WUFBQztRQUMvRDtJQUNKO0lBQ0EsSUFBSW1KLHFCQUFxQjtRQUNyQixPQUFPcE0sT0FBT21CLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDRCxPQUFPO0lBQ3pDO0FBQ0o7QUFDQWhCLG1CQUFtQixHQUFHRSxhQUN0Qix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtcmVnaXN0ZXIvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY2xpZW50L3NvY2tzY2xpZW50LmpzPzlkZDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU29ja3NDbGllbnRFcnJvciA9IGV4cG9ydHMuU29ja3NDbGllbnQgPSB2b2lkIDA7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBuZXQgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgaXAgPSByZXF1aXJlKFwiaXBcIik7XG5jb25zdCBzbWFydF9idWZmZXJfMSA9IHJlcXVpcmUoXCJzbWFydC1idWZmZXJcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuLi9jb21tb24vY29uc3RhbnRzXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9oZWxwZXJzXCIpO1xuY29uc3QgcmVjZWl2ZWJ1ZmZlcl8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi9yZWNlaXZlYnVmZmVyXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL2NvbW1vbi91dGlsXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU29ja3NDbGllbnRFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3I7IH0gfSk7XG5jbGFzcyBTb2Nrc0NsaWVudCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgLy8gVmFsaWRhdGUgU29ja3NDbGllbnRPcHRpb25zXG4gICAgICAgICgwLCBoZWxwZXJzXzEudmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMpKG9wdGlvbnMpO1xuICAgICAgICAvLyBEZWZhdWx0IHN0YXRlXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5DcmVhdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBTT0NLUyBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogTm90ZTogU3VwcG9ydHMgY2FsbGJhY2tzIGFuZCBwcm9taXNlcy4gT25seSBzdXBwb3J0cyB0aGUgY29ubmVjdCBjb21tYW5kLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIHsgU29ja3NDbGllbnRPcHRpb25zIH0gT3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgeyBGdW5jdGlvbiB9IEFuIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHsgUHJvbWlzZSB9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUNvbm5lY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIFNvY2tzQ2xpZW50T3B0aW9uc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoMCwgaGVscGVyc18xLnZhbGlkYXRlU29ja3NDbGllbnRPcHRpb25zKShvcHRpb25zLCBbJ2Nvbm5lY3QnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShlcnIpOyAvLyBSZXNvbHZlcyBwZW5kaW5nIHByb21pc2UgKHByZXZlbnRzIG1lbW9yeSBsZWFrcykuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2xpZW50ID0gbmV3IFNvY2tzQ2xpZW50KG9wdGlvbnMpO1xuICAgICAgICAgICAgY2xpZW50LmNvbm5lY3Qob3B0aW9ucy5leGlzdGluZ19zb2NrZXQpO1xuICAgICAgICAgICAgY2xpZW50Lm9uY2UoJ2VzdGFibGlzaGVkJywgKGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBjbGllbnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpbmZvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEVycm9yIG9jY3VycmVkLCBmYWlsZWQgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24uXG4gICAgICAgICAgICBjbGllbnQub25jZSgnZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShlcnIpOyAvLyBSZXNvbHZlcyBwZW5kaW5nIHByb21pc2UgKHByZXZlbnRzIG1lbW9yeSBsZWFrcykuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU09DS1MgY29ubmVjdGlvbiBjaGFpbiB0byBhIGRlc3RpbmF0aW9uIGhvc3QgdGhyb3VnaCAyIG9yIG1vcmUgU09DS1MgcHJveGllcy5cbiAgICAgKlxuICAgICAqIE5vdGU6IFN1cHBvcnRzIGNhbGxiYWNrcyBhbmQgcHJvbWlzZXMuIE9ubHkgc3VwcG9ydHMgdGhlIGNvbm5lY3QgbWV0aG9kLlxuICAgICAqIE5vdGU6IEltcGxlbWVudGVkIHZpYSBjcmVhdGVDb25uZWN0aW9uKCkgZmFjdG9yeSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7IFNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zIH0gT3B0aW9uc1xuICAgICAqIEBwYXJhbSBjYWxsYmFjayB7IEZ1bmN0aW9uIH0gQW4gb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMgeyBQcm9taXNlIH1cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlQ29ubmVjdGlvbkNoYWluKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hc3luYy1wcm9taXNlLWV4ZWN1dG9yXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBTb2Nrc0NsaWVudENoYWluT3B0aW9uc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoMCwgaGVscGVyc18xLnZhbGlkYXRlU29ja3NDbGllbnRDaGFpbk9wdGlvbnMpKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZXJyKTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNodWZmbGUgcHJveGllc1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmFuZG9taXplQ2hhaW4pIHtcbiAgICAgICAgICAgICAgICAoMCwgdXRpbF8xLnNodWZmbGVBcnJheSkob3B0aW9ucy5wcm94aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvY2s7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLnByb3hpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFByb3h5ID0gb3B0aW9ucy5wcm94aWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoZSBsYXN0IHByb3h5IGluIHRoZSBjaGFpbiwgdGhlIGRlc3RpbmF0aW9uIGlzIHRoZSBhY3R1YWwgZGVzdGluYXRpb24sIG90aGVyd2lzZSBpdCdzIHRoZSBuZXh0IHByb3h5LlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0RGVzdGluYXRpb24gPSBpID09PSBvcHRpb25zLnByb3hpZXMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmRlc3RpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBvcHRpb25zLnByb3hpZXNbaSArIDFdLmhvc3QgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wcm94aWVzW2kgKyAxXS5pcGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogb3B0aW9ucy5wcm94aWVzW2kgKyAxXS5wb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlcyB0aGUgbmV4dCBjb25uZWN0aW9uIGluIHRoZSBjaGFpbi5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgU29ja3NDbGllbnQuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29ubmVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eTogbmV4dFByb3h5LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IG5leHREZXN0aW5hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nX3NvY2tldDogc29jayxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNvY2sgaXMgdW5kZWZpbmVkLCBhc3NpZ24gaXQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgc29jayA9IHNvY2sgfHwgcmVzdWx0LnNvY2tldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7IHNvY2tldDogc29jayB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHNvY2tldDogc29jayB9KTsgLy8gUmVzb2x2ZXMgcGVuZGluZyBwcm9taXNlIChwcmV2ZW50cyBtZW1vcnkgbGVha3MpLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHNvY2tldDogc29jayB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGVycik7IC8vIFJlc29sdmVzIHBlbmRpbmcgcHJvbWlzZSAocHJldmVudHMgbWVtb3J5IGxlYWtzKS5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgU09DS1MgVURQIEZyYW1lLlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVVEUEZyYW1lKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IG5ldyBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlcigpO1xuICAgICAgICBidWZmLndyaXRlVUludDE2QkUoMCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OChvcHRpb25zLmZyYW1lTnVtYmVyIHx8IDApO1xuICAgICAgICAvLyBJUHY0L0lQdjYvSG9zdG5hbWVcbiAgICAgICAgaWYgKG5ldC5pc0lQdjQob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKSB7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoY29uc3RhbnRzXzEuU29ja3M1SG9zdFR5cGUuSVB2NCk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDMyQkUoaXAudG9Mb25nKG9wdGlvbnMucmVtb3RlSG9zdC5ob3N0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV0LmlzSVB2NihvcHRpb25zLnJlbW90ZUhvc3QuaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoQnVmZmVyLmJ5dGVMZW5ndGgob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcob3B0aW9ucy5yZW1vdGVIb3N0Lmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvcnRcbiAgICAgICAgYnVmZi53cml0ZVVJbnQxNkJFKG9wdGlvbnMucmVtb3RlSG9zdC5wb3J0KTtcbiAgICAgICAgLy8gRGF0YVxuICAgICAgICBidWZmLndyaXRlQnVmZmVyKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIHJldHVybiBidWZmLnRvQnVmZmVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFNPQ0tTIFVEUCBmcmFtZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZVVEUEZyYW1lKGRhdGEpIHtcbiAgICAgICAgY29uc3QgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIoZGF0YSk7XG4gICAgICAgIGJ1ZmYucmVhZE9mZnNldCA9IDI7XG4gICAgICAgIGNvbnN0IGZyYW1lTnVtYmVyID0gYnVmZi5yZWFkVUludDgoKTtcbiAgICAgICAgY29uc3QgaG9zdFR5cGUgPSBidWZmLnJlYWRVSW50OCgpO1xuICAgICAgICBsZXQgcmVtb3RlSG9zdDtcbiAgICAgICAgaWYgKGhvc3RUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY0KSB7XG4gICAgICAgICAgICByZW1vdGVIb3N0ID0gaXAuZnJvbUxvbmcoYnVmZi5yZWFkVUludDMyQkUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaG9zdFR5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjYpIHtcbiAgICAgICAgICAgIHJlbW90ZUhvc3QgPSBpcC50b1N0cmluZyhidWZmLnJlYWRCdWZmZXIoMTYpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW90ZUhvc3QgPSBidWZmLnJlYWRTdHJpbmcoYnVmZi5yZWFkVUludDgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtb3RlUG9ydCA9IGJ1ZmYucmVhZFVJbnQxNkJFKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcmFtZU51bWJlcixcbiAgICAgICAgICAgIHJlbW90ZUhvc3Q6IHtcbiAgICAgICAgICAgICAgICBob3N0OiByZW1vdGVIb3N0LFxuICAgICAgICAgICAgICAgIHBvcnQ6IHJlbW90ZVBvcnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YTogYnVmZi5yZWFkQnVmZmVyKCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHN0YXRlIHNldHRlci4gSWYgdGhlIFNvY2tzQ2xpZW50IGlzIGluIGFuIGVycm9yIHN0YXRlLCBpdCBjYW5ub3QgYmUgY2hhbmdlZCB0byBhIG5vbiBlcnJvciBzdGF0ZS5cbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50IHRvIHRoZSBwcm94eSBhbmQgZGVzdGluYXRpb24uXG4gICAgICogQHBhcmFtIGV4aXN0aW5nU29ja2V0IENvbm5lY3RlZCBzb2NrZXQgdG8gdXNlIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb25lIChpbnRlcm5hbCB1c2UpLlxuICAgICAqL1xuICAgIGNvbm5lY3QoZXhpc3RpbmdTb2NrZXQpIHtcbiAgICAgICAgdGhpcy5vbkRhdGFSZWNlaXZlZCA9IChkYXRhKSA9PiB0aGlzLm9uRGF0YVJlY2VpdmVkSGFuZGxlcihkYXRhKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gKCkgPT4gdGhpcy5vbkNsb3NlSGFuZGxlcigpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSAoZXJyKSA9PiB0aGlzLm9uRXJyb3JIYW5kbGVyKGVycik7XG4gICAgICAgIHRoaXMub25Db25uZWN0ID0gKCkgPT4gdGhpcy5vbkNvbm5lY3RIYW5kbGVyKCk7XG4gICAgICAgIC8vIFN0YXJ0IHRpbWVvdXQgdGltZXIgKGRlZmF1bHRzIHRvIDMwIHNlY29uZHMpXG4gICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLm9uRXN0YWJsaXNoZWRUaW1lb3V0KCksIHRoaXMub3B0aW9ucy50aW1lb3V0IHx8IGNvbnN0YW50c18xLkRFRkFVTFRfVElNRU9VVCk7XG4gICAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdW5yZWYgaXMgYXZhaWxhYmxlIGFzIGl0IGRpZmZlcnMgZnJvbSBicm93c2VyIHRvIE5vZGVKUyAoIzMzKVxuICAgICAgICBpZiAodGltZXIudW5yZWYgJiYgdHlwZW9mIHRpbWVyLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGFuIGV4aXN0aW5nIHNvY2tldCBpcyBwcm92aWRlZCwgdXNlIGl0IHRvIG5lZ290aWF0ZSBTT0NLUyBoYW5kc2hha2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgU29ja2V0LlxuICAgICAgICBpZiAoZXhpc3RpbmdTb2NrZXQpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gZXhpc3RpbmdTb2NrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldCA9IG5ldyBuZXQuU29ja2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0YWNoIFNvY2tldCBlcnJvciBoYW5kbGVycy5cbiAgICAgICAgdGhpcy5zb2NrZXQub25jZSgnY2xvc2UnLCB0aGlzLm9uQ2xvc2UpO1xuICAgICAgICB0aGlzLnNvY2tldC5vbmNlKCdlcnJvcicsIHRoaXMub25FcnJvcik7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uY2UoJ2Nvbm5lY3QnLCB0aGlzLm9uQ29ubmVjdCk7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdkYXRhJywgdGhpcy5vbkRhdGFSZWNlaXZlZCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Db25uZWN0aW5nKTtcbiAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyID0gbmV3IHJlY2VpdmVidWZmZXJfMS5SZWNlaXZlQnVmZmVyKCk7XG4gICAgICAgIGlmIChleGlzdGluZ1NvY2tldCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgnY29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY29ubmVjdCh0aGlzLmdldFNvY2tldE9wdGlvbnMoKSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNldF90Y3Bfbm9kZWxheSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldF90Y3Bfbm9kZWxheSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnNldE5vRGVsYXkoISF0aGlzLm9wdGlvbnMuc2V0X3RjcF9ub2RlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMaXN0ZW4gZm9yIGVzdGFibGlzaGVkIGV2ZW50IHNvIHdlIGNhbiByZS1lbWl0IGFueSBleGNlc3MgZGF0YSByZWNlaXZlZCBkdXJpbmcgaGFuZHNoYWtlcy5cbiAgICAgICAgdGhpcy5wcmVwZW5kT25jZUxpc3RlbmVyKCdlc3RhYmxpc2hlZCcsIChpbmZvKSA9PiB7XG4gICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBleGNlc3NEYXRhID0gdGhpcy5yZWNlaXZlQnVmZmVyLmdldCh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5zb2NrZXQuZW1pdCgnZGF0YScsIGV4Y2Vzc0RhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmZvLnNvY2tldC5yZXN1bWUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gU29ja2V0IG9wdGlvbnMgKGRlZmF1bHRzIGhvc3QvcG9ydCB0byBvcHRpb25zLnByb3h5Lmhvc3Qvb3B0aW9ucy5wcm94eS5wb3J0KVxuICAgIGdldFNvY2tldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucy5zb2NrZXRfb3B0aW9ucyksIHsgaG9zdDogdGhpcy5vcHRpb25zLnByb3h5Lmhvc3QgfHwgdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcywgcG9ydDogdGhpcy5vcHRpb25zLnByb3h5LnBvcnQgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgaW50ZXJuYWwgU29ja3MgdGltZW91dCBjYWxsYmFjay5cbiAgICAgKiBOb3RlOiBJZiB0aGUgU29ja3MgY2xpZW50IGlzIG5vdCBCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uIG9yIEVzdGFibGlzaGVkLCB0aGUgY29ubmVjdGlvbiB3aWxsIGJlIGNsb3NlZC5cbiAgICAgKi9cbiAgICBvbkVzdGFibGlzaGVkVGltZW91dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgIT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuQm91bmRXYWl0aW5nRm9yQ29ubmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuUHJveHlDb25uZWN0aW9uVGltZWRPdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGNvbm5lY3QgZXZlbnQuXG4gICAgICovXG4gICAgb25Db25uZWN0SGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkNvbm5lY3RlZCk7XG4gICAgICAgIC8vIFNlbmQgaW5pdGlhbCBoYW5kc2hha2UuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkudHlwZSA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M0SW5pdGlhbEhhbmRzaGFrZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M1SW5pdGlhbEhhbmRzaGFrZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50SW5pdGlhbEhhbmRzaGFrZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGRhdGEgZXZlbnQuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBvbkRhdGFSZWNlaXZlZEhhbmRsZXIoZGF0YSkge1xuICAgICAgICAvKlxuICAgICAgICAgIEFsbCByZWNlaXZlZCBkYXRhIGlzIGFwcGVuZGVkIHRvIGEgUmVjZWl2ZUJ1ZmZlci5cbiAgICAgICAgICBUaGlzIG1ha2VzIHN1cmUgdGhhdCBhbGwgdGhlIGRhdGEgd2UgbmVlZCBpcyByZWNlaXZlZCBiZWZvcmUgd2UgYXR0ZW1wdCB0byBwcm9jZXNzIGl0LlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY2VpdmVCdWZmZXIuYXBwZW5kKGRhdGEpO1xuICAgICAgICAvLyBQcm9jZXNzIGRhdGEgdGhhdCB3ZSBoYXZlLlxuICAgICAgICB0aGlzLnByb2Nlc3NEYXRhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgcHJvY2Vzc2luZyBvZiB0aGUgZGF0YSB3ZSBoYXZlIHJlY2VpdmVkLlxuICAgICAqL1xuICAgIHByb2Nlc3NEYXRhKCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGVub3VnaCBkYXRhIHRvIHByb2Nlc3MgdGhlIG5leHQgc3RlcCBpbiB0aGUgU09DS1MgaGFuZHNoYWtlLCBwcm9jZWVkLlxuICAgICAgICB3aGlsZSAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Fc3RhYmxpc2hlZCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvciAmJlxuICAgICAgICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA+PSB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUpIHtcbiAgICAgICAgICAgIC8vIFNlbnQgaW5pdGlhbCBoYW5kc2hha2UsIHdhaXRpbmcgZm9yIHJlc3BvbnNlLlxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuU2VudEluaXRpYWxIYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb3h5LnR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29ja3MgdjQgb25seSBoYXMgb25lIGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczRGaW5hbEhhbmRzaGFrZVJlc3BvbnNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBTb2NrcyB2NSBoYXMgdHdvIGhhbmRzaGFrZXMsIGhhbmRsZSBpbml0aWFsIG9uZSBoZXJlLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxTb2NrczVIYW5kc2hha2VSZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZW50IGF1dGggcmVxdWVzdCBmb3IgU29ja3MgdjUsIHdhaXRpbmcgZm9yIHJlc3BvbnNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50QXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUluaXRpYWxTb2NrczVBdXRoZW50aWNhdGlvbkhhbmRzaGFrZVJlc3BvbnNlKCk7XG4gICAgICAgICAgICAgICAgLy8gU2VudCBmaW5hbCBTb2NrcyB2NSBoYW5kc2hha2UsIHdhaXRpbmcgZm9yIGZpbmFsIHJlc3BvbnNlLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50RmluYWxIYW5kc2hha2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBTb2NrcyBCSU5EIGVzdGFibGlzaGVkLiBXYWl0aW5nIGZvciByZW1vdGUgY29ubmVjdGlvbiB2aWEgcHJveHkuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb3h5LnR5cGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczRJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTb2NrczVJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTb2NrZXQoY29uc3RhbnRzXzEuRVJST1JTLkludGVybmFsRXJyb3IpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja2V0IGNsb3NlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBoYWRfZXJyb3JcbiAgICAgKi9cbiAgICBvbkNsb3NlSGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuU29ja2V0Q2xvc2VkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBTb2NrZXQgZXJyb3IgZXZlbnQuXG4gICAgICogQHBhcmFtIGVyclxuICAgICAqL1xuICAgIG9uRXJyb3JIYW5kbGVyKGVycikge1xuICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGVyci5tZXNzYWdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBpbnRlcm5hbCBldmVudCBsaXN0ZW5lcnMgb24gdGhlIHVuZGVybHlpbmcgU29ja2V0LlxuICAgICAqL1xuICAgIHJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKSB7XG4gICAgICAgIC8vIFBhdXNlcyBkYXRhIGZsb3cgb2YgdGhlIHNvY2tldCAodGhpcyBpcyBpbnRlcm5hbGx5IHJlc3VtZWQgYWZ0ZXIgJ2VzdGFibGlzaGVkJyBpcyBlbWl0dGVkKVxuICAgICAgICB0aGlzLnNvY2tldC5wYXVzZSgpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZGF0YScsIHRoaXMub25EYXRhUmVjZWl2ZWQpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCB0aGlzLm9uQ2xvc2UpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uRXJyb3IpO1xuICAgICAgICB0aGlzLnNvY2tldC5yZW1vdmVMaXN0ZW5lcignY29ubmVjdCcsIHRoaXMub25Db25uZWN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIGFuZCBkZXN0cm95cyB0aGUgdW5kZXJseWluZyBTb2NrZXQuIEVtaXRzIGFuIGVycm9yIGV2ZW50LlxuICAgICAqIEBwYXJhbSBlcnIgeyBTdHJpbmcgfSBBbiBlcnJvciBzdHJpbmcgdG8gaW5jbHVkZSBpbiBlcnJvciBldmVudC5cbiAgICAgKi9cbiAgICBjbG9zZVNvY2tldChlcnIpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIG9ubHkgb25lICdlcnJvcicgZXZlbnQgaXMgZmlyZWQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGlzIFNvY2tzQ2xpZW50IGluc3RhbmNlLlxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5FcnJvcikge1xuICAgICAgICAgICAgLy8gU2V0IGludGVybmFsIHN0YXRlIHRvIEVycm9yLlxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVycm9yKTtcbiAgICAgICAgICAgIC8vIERlc3Ryb3kgU29ja2V0XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5kZXN0cm95KCk7XG4gICAgICAgICAgICAvLyBSZW1vdmUgaW50ZXJuYWwgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIC8vIEZpcmUgJ2Vycm9yJyBldmVudC5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoZXJyLCB0aGlzLm9wdGlvbnMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBpbml0aWFsIFNvY2tzIHY0IGhhbmRzaGFrZSByZXF1ZXN0LlxuICAgICAqL1xuICAgIHNlbmRTb2NrczRJbml0aWFsSGFuZHNoYWtlKCkge1xuICAgICAgICBjb25zdCB1c2VySWQgPSB0aGlzLm9wdGlvbnMucHJveHkudXNlcklkIHx8ICcnO1xuICAgICAgICBjb25zdCBidWZmID0gbmV3IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyKCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OCgweDA0KTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0pO1xuICAgICAgICBidWZmLndyaXRlVUludDE2QkUodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLnBvcnQpO1xuICAgICAgICAvLyBTb2NrcyA0IChJUHY0KVxuICAgICAgICBpZiAobmV0LmlzSVB2NCh0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24uaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmdOVCh1c2VySWQpO1xuICAgICAgICAgICAgLy8gU29ja3MgNGEgKGhvc3RuYW1lKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDApO1xuICAgICAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDEpO1xuICAgICAgICAgICAgYnVmZi53cml0ZVN0cmluZ05UKHVzZXJJZCk7XG4gICAgICAgICAgICBidWZmLndyaXRlU3RyaW5nTlQodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M0UmVzcG9uc2U7XG4gICAgICAgIHRoaXMuc29ja2V0LndyaXRlKGJ1ZmYudG9CdWZmZXIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjQgaGFuZHNoYWtlIHJlc3BvbnNlLlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgaGFuZGxlU29ja3M0RmluYWxIYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoOCk7XG4gICAgICAgIGlmIChkYXRhWzFdICE9PSBjb25zdGFudHNfMS5Tb2NrczRSZXNwb25zZS5HcmFudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGAke2NvbnN0YW50c18xLkVSUk9SUy5Tb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbn0gLSAoJHtjb25zdGFudHNfMS5Tb2NrczRSZXNwb25zZVtkYXRhWzFdXX0pYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBCaW5kIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoY29uc3RhbnRzXzEuU29ja3NDb21tYW5kW3RoaXMub3B0aW9ucy5jb21tYW5kXSA9PT0gY29uc3RhbnRzXzEuU29ja3NDb21tYW5kLmJpbmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcihkYXRhKTtcbiAgICAgICAgICAgICAgICBidWZmLnJlYWRPZmZzZXQgPSAyO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IGlwLmZyb21Mb25nKGJ1ZmYucmVhZFVJbnQzMkJFKCkpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gSWYgaG9zdCBpcyAwLjAuMC4wLCBzZXQgdG8gcHJveHkgaG9zdC5cbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlSG9zdC5ob3N0ID09PSAnMC4wLjAuMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSG9zdC5ob3N0ID0gdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnYm91bmQnLCB7IHJlbW90ZUhvc3QsIHNvY2tldDogdGhpcy5zb2NrZXQgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ29ubmVjdCByZXNwb25zZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVzdGFibGlzaGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjQgaW5jb21pbmcgY29ubmVjdGlvbiByZXF1ZXN0IChCSU5EKVxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgaGFuZGxlU29ja3M0SW5jb21pbmdDb25uZWN0aW9uUmVzcG9uc2UoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KDgpO1xuICAgICAgICBpZiAoZGF0YVsxXSAhPT0gY29uc3RhbnRzXzEuU29ja3M0UmVzcG9uc2UuR3JhbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChgJHtjb25zdGFudHNfMS5FUlJPUlMuU29ja3M0UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9ufSAtICgke2NvbnN0YW50c18xLlNvY2tzNFJlc3BvbnNlW2RhdGFbMV1dfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmYgPSBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlci5mcm9tQnVmZmVyKGRhdGEpO1xuICAgICAgICAgICAgYnVmZi5yZWFkT2Zmc2V0ID0gMjtcbiAgICAgICAgICAgIGNvbnN0IHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICBob3N0OiBpcC5mcm9tTG9uZyhidWZmLnJlYWRVSW50MzJCRSgpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVJbnRlcm5hbFNvY2tldEhhbmRsZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyByZW1vdGVIb3N0LCBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGluaXRpYWwgU29ja3MgdjUgaGFuZHNoYWtlIHJlcXVlc3QuXG4gICAgICovXG4gICAgc2VuZFNvY2tzNUluaXRpYWxIYW5kc2hha2UoKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBuZXcgc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIoKTtcbiAgICAgICAgLy8gQnkgZGVmYXVsdCB3ZSBhbHdheXMgc3VwcG9ydCBubyBhdXRoLlxuICAgICAgICBjb25zdCBzdXBwb3J0ZWRBdXRoTWV0aG9kcyA9IFtjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aF07XG4gICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IHRlbGwgdGhlIHByb3h5IHdlIHN1cHBvcnQgdXNlci9wYXNzIGF1dGggaWYgYXV0aCBpbmZvIGlzIGFjdHVhbGx5IHByb3ZpZGVkLlxuICAgICAgICAvLyBOb3RlOiBBcyBvZiBUb3IgdjAuMy41LjcrLCBpZiB1c2VyL3Bhc3MgYXV0aCBpcyBhbiBvcHRpb24gZnJvbSB0aGUgY2xpZW50LCBieSBkZWZhdWx0IGl0IHdpbGwgYWx3YXlzIHRha2UgcHJpb3JpdHkuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkudXNlcklkIHx8IHRoaXMub3B0aW9ucy5wcm94eS5wYXNzd29yZCkge1xuICAgICAgICAgICAgc3VwcG9ydGVkQXV0aE1ldGhvZHMucHVzaChjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDdXN0b20gYXV0aCBtZXRob2Q/XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucHJveHkuY3VzdG9tX2F1dGhfbWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEF1dGhNZXRob2RzLnB1c2godGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVpbGQgaGFuZHNoYWtlIHBhY2tldFxuICAgICAgICBidWZmLndyaXRlVUludDgoMHgwNSk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OChzdXBwb3J0ZWRBdXRoTWV0aG9kcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGNvbnN0IGF1dGhNZXRob2Qgb2Ygc3VwcG9ydGVkQXV0aE1ldGhvZHMpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChhdXRoTWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNUluaXRpYWxIYW5kc2hha2VSZXNwb25zZTtcbiAgICAgICAgdGhpcy5zb2NrZXQud3JpdGUoYnVmZi50b0J1ZmZlcigpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRJbml0aWFsSGFuZHNoYWtlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBpbml0aWFsIFNvY2tzIHY1IGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIGhhbmRsZUluaXRpYWxTb2NrczVIYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoMik7XG4gICAgICAgIGlmIChkYXRhWzBdICE9PSAweDA1KSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YVsxXSA9PT0gY29uc3RhbnRzXzEuU09DS1M1X05PX0FDQ0VQVEFCTEVfQVVUSCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VOb0FjY2VwdGVkQXV0aFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgc2VsZWN0ZWQgU29ja3MgdjUgYXV0aCBtZXRob2QgaXMgbm8gYXV0aCwgc2VuZCBmaW5hbCBoYW5kc2hha2UgcmVxdWVzdC5cbiAgICAgICAgICAgIGlmIChkYXRhWzFdID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja3M1Q2hvc2VuQXV0aFR5cGUgPSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDb21tYW5kUmVxdWVzdCgpO1xuICAgICAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkIFNvY2tzIHY1IGF1dGggbWV0aG9kIGlzIHVzZXIvcGFzc3dvcmQsIHNlbmQgYXV0aCBoYW5kc2hha2UuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhWzFdID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrczVDaG9zZW5BdXRoVHlwZSA9IGNvbnN0YW50c18xLlNvY2tzNUF1dGguVXNlclBhc3M7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvbigpO1xuICAgICAgICAgICAgICAgIC8vIElmIHNlbGVjdGVkIFNvY2tzIHY1IGF1dGggbWV0aG9kIGlzIHRoZSBjdXN0b21fYXV0aF9tZXRob2QsIHNlbmQgY3VzdG9tIGhhbmRzaGFrZS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFbMV0gPT09IHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID0gdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDdXN0b21BdXRoZW50aWNhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VVbmtub3duQXV0aFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIFNvY2tzIHY1IHVzZXIgJiBwYXNzd29yZCBhdXRoIGhhbmRzaGFrZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IE5vIGF1dGggYW5kIHVzZXIvcGFzcyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZC5cbiAgICAgKi9cbiAgICBzZW5kU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gdGhpcy5vcHRpb25zLnByb3h5LnVzZXJJZCB8fCAnJztcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSB0aGlzLm9wdGlvbnMucHJveHkucGFzc3dvcmQgfHwgJyc7XG4gICAgICAgIGNvbnN0IGJ1ZmYgPSBuZXcgc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIoKTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KDB4MDEpO1xuICAgICAgICBidWZmLndyaXRlVUludDgoQnVmZmVyLmJ5dGVMZW5ndGgodXNlcklkKSk7XG4gICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcodXNlcklkKTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KEJ1ZmZlci5ieXRlTGVuZ3RoKHBhc3N3b3JkKSk7XG4gICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcocGFzc3dvcmQpO1xuICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb25SZXNwb25zZTtcbiAgICAgICAgdGhpcy5zb2NrZXQud3JpdGUoYnVmZi50b0J1ZmZlcigpKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRBdXRoZW50aWNhdGlvbik7XG4gICAgfVxuICAgIHNlbmRTb2NrczVDdXN0b21BdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemU7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC53cml0ZSh5aWVsZCB0aGlzLm9wdGlvbnMucHJveHkuY3VzdG9tX2F1dGhfcmVxdWVzdF9oYW5kbGVyKCkpO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLlNlbnRBdXRoZW50aWNhdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBoYW5kbGVTb2NrczVDdXN0b21BdXRoSGFuZHNoYWtlUmVzcG9uc2UoZGF0YSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Ob0F1dGhIYW5kc2hha2VSZXNwb25zZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVsxXSA9PT0gMHgwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uVXNlclBhc3NIYW5kc2hha2VSZXNwb25zZShkYXRhKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVsxXSA9PT0gMHgwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgU29ja3MgdjUgYXV0aCBoYW5kc2hha2UgcmVzcG9uc2UuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKi9cbiAgICBoYW5kbGVJbml0aWFsU29ja3M1QXV0aGVudGljYXRpb25IYW5kc2hha2VSZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5SZWNlaXZlZEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgbGV0IGF1dGhSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLk5vQXV0aCkge1xuICAgICAgICAgICAgICAgIGF1dGhSZXN1bHQgPSB5aWVsZCB0aGlzLmhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uTm9BdXRoSGFuZHNoYWtlUmVzcG9uc2UodGhpcy5yZWNlaXZlQnVmZmVyLmdldCgyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNvY2tzNUNob3NlbkF1dGhUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVBdXRoLlVzZXJQYXNzKSB7XG4gICAgICAgICAgICAgICAgYXV0aFJlc3VsdCA9XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMuaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Vc2VyUGFzc0hhbmRzaGFrZVJlc3BvbnNlKHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoMikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zb2NrczVDaG9zZW5BdXRoVHlwZSA9PT0gdGhpcy5vcHRpb25zLnByb3h5LmN1c3RvbV9hdXRoX21ldGhvZCkge1xuICAgICAgICAgICAgICAgIGF1dGhSZXN1bHQgPSB5aWVsZCB0aGlzLmhhbmRsZVNvY2tzNUN1c3RvbUF1dGhIYW5kc2hha2VSZXNwb25zZSh0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KHRoaXMub3B0aW9ucy5wcm94eS5jdXN0b21fYXV0aF9yZXNwb25zZV9zaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWF1dGhSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGNvbnN0YW50c18xLkVSUk9SUy5Tb2NrczVBdXRoZW50aWNhdGlvbkZhaWxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTb2NrczVDb21tYW5kUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgU29ja3MgdjUgZmluYWwgaGFuZHNoYWtlIHJlcXVlc3QuXG4gICAgICovXG4gICAgc2VuZFNvY2tzNUNvbW1hbmRSZXF1ZXN0KCkge1xuICAgICAgICBjb25zdCBidWZmID0gbmV3IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyKCk7XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50OCgweDA1KTtcbiAgICAgICAgYnVmZi53cml0ZVVJbnQ4KGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0pO1xuICAgICAgICBidWZmLndyaXRlVUludDgoMHgwMCk7XG4gICAgICAgIC8vIGlwdjQsIGlwdjYsIGRvbWFpbj9cbiAgICAgICAgaWYgKG5ldC5pc0lQdjQodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKSB7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgoY29uc3RhbnRzXzEuU29ja3M1SG9zdFR5cGUuSVB2NCk7XG4gICAgICAgICAgICBidWZmLndyaXRlQnVmZmVyKGlwLnRvQnVmZmVyKHRoaXMub3B0aW9ucy5kZXN0aW5hdGlvbi5ob3N0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV0LmlzSVB2Nih0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24uaG9zdCkpIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVCdWZmZXIoaXAudG9CdWZmZXIodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVVSW50OChjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSk7XG4gICAgICAgICAgICBidWZmLndyaXRlVUludDgodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QubGVuZ3RoKTtcbiAgICAgICAgICAgIGJ1ZmYud3JpdGVTdHJpbmcodGhpcy5vcHRpb25zLmRlc3RpbmF0aW9uLmhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmYud3JpdGVVSW50MTZCRSh0aGlzLm9wdGlvbnMuZGVzdGluYXRpb24ucG9ydCk7XG4gICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9XG4gICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M1UmVzcG9uc2VIZWFkZXI7XG4gICAgICAgIHRoaXMuc29ja2V0LndyaXRlKGJ1ZmYudG9CdWZmZXIoKSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5TZW50RmluYWxIYW5kc2hha2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIFNvY2tzIHY1IGZpbmFsIGhhbmRzaGFrZSByZXNwb25zZS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIGhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UoKSB7XG4gICAgICAgIC8vIFBlZWsgYXQgYXZhaWxhYmxlIGRhdGEgKHdlIG5lZWQgYXQgbGVhc3QgNSBieXRlcyB0byBnZXQgdGhlIGhvc3RuYW1lIGxlbmd0aClcbiAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5yZWNlaXZlQnVmZmVyLnBlZWsoNSk7XG4gICAgICAgIGlmIChoZWFkZXJbMF0gIT09IDB4MDUgfHwgaGVhZGVyWzFdICE9PSBjb25zdGFudHNfMS5Tb2NrczVSZXNwb25zZS5HcmFudGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU29ja2V0KGAke2NvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3M1RmluYWxIYW5kc2hha2VSZWplY3RlZH0gLSAke2NvbnN0YW50c18xLlNvY2tzNVJlc3BvbnNlW2hlYWRlclsxXV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZWFkIGFkZHJlc3MgdHlwZVxuICAgICAgICAgICAgY29uc3QgYWRkcmVzc1R5cGUgPSBoZWFkZXJbM107XG4gICAgICAgICAgICBsZXQgcmVtb3RlSG9zdDtcbiAgICAgICAgICAgIGxldCBidWZmO1xuICAgICAgICAgICAgLy8gSVB2NFxuICAgICAgICAgICAgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY0KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUlQdjQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg0KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogaXAuZnJvbUxvbmcoYnVmZi5yZWFkVUludDMyQkUoKSksXG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBJZiBnaXZlbiBob3N0IGlzIDAuMC4wLjAsIGFzc3VtZSByZW1vdGUgcHJveHkgaXAgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICBpZiAocmVtb3RlSG9zdC5ob3N0ID09PSAnMC4wLjAuMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlSG9zdC5ob3N0ID0gdGhpcy5vcHRpb25zLnByb3h5LmlwYWRkcmVzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSG9zdG5hbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5Ib3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhvc3RMZW5ndGggPSBoZWFkZXJbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUhvc3RuYW1lKGhvc3RMZW5ndGgpOyAvLyBoZWFkZXIgKyBob3N0IGxlbmd0aCArIGhvc3QgKyBwb3J0XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg1KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogYnVmZi5yZWFkU3RyaW5nKGhvc3RMZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICBwb3J0OiBidWZmLnJlYWRVSW50MTZCRSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gSVB2NlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjYpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSVB2NjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA8IGRhdGFOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVxdWlyZWRQYWNrZXRCdWZmZXJTaXplID0gZGF0YU5lZWRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcih0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KGRhdGFOZWVkZWQpLnNsaWNlKDQpKTtcbiAgICAgICAgICAgICAgICByZW1vdGVIb3N0ID0ge1xuICAgICAgICAgICAgICAgICAgICBob3N0OiBpcC50b1N0cmluZyhidWZmLnJlYWRCdWZmZXIoMTYpKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgaGF2ZSBldmVyeXRoaW5nIHdlIG5lZWRcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5SZWNlaXZlZEZpbmFsUmVzcG9uc2UpO1xuICAgICAgICAgICAgLy8gSWYgdXNpbmcgQ09OTkVDVCwgdGhlIGNsaWVudCBpcyBub3cgaW4gdGhlIGVzdGFibGlzaGVkIHN0YXRlLlxuICAgICAgICAgICAgaWYgKGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0gPT09IGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZC5jb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShjb25zdGFudHNfMS5Tb2Nrc0NsaWVudFN0YXRlLkVzdGFibGlzaGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2VzdGFibGlzaGVkJywgeyByZW1vdGVIb3N0LCBzb2NrZXQ6IHRoaXMuc29ja2V0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uc3RhbnRzXzEuU29ja3NDb21tYW5kW3RoaXMub3B0aW9ucy5jb21tYW5kXSA9PT0gY29uc3RhbnRzXzEuU29ja3NDb21tYW5kLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAvKiBJZiB1c2luZyBCSU5ELCB0aGUgU29ja3MgY2xpZW50IGlzIG5vdyBpbiBCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgIFRoaXMgbWVhbnMgdGhhdCB0aGUgcmVtb3RlIHByb3h5IHNlcnZlciBpcyB3YWl0aW5nIGZvciBhIHJlbW90ZSBjb25uZWN0aW9uIHRvIHRoZSBib3VuZCBwb3J0LiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Cb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPVxuICAgICAgICAgICAgICAgICAgICBjb25zdGFudHNfMS5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMuU29ja3M1UmVzcG9uc2VIZWFkZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdib3VuZCcsIHsgcmVtb3RlSG9zdCwgc29ja2V0OiB0aGlzLnNvY2tldCB9KTtcbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgSWYgdXNpbmcgQXNzb2NpYXRlLCB0aGUgU29ja3MgY2xpZW50IGlzIG5vdyBFc3RhYmxpc2hlZC4gQW5kIHRoZSBwcm94eSBzZXJ2ZXIgaXMgbm93IGFjY2VwdGluZyBVRFAgcGFja2V0cyBhdCB0aGVcbiAgICAgICAgICAgICAgICAgIGdpdmVuIGJvdW5kIHBvcnQuIFRoaXMgaW5pdGlhbCBTb2NrcyBUQ1AgY29ubmVjdGlvbiBtdXN0IHJlbWFpbiBvcGVuIGZvciB0aGUgVURQIHJlbGF5IHRvIGNvbnRpbnVlIHRvIHdvcmsuXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFt0aGlzLm9wdGlvbnMuY29tbWFuZF0gPT09IGNvbnN0YW50c18xLlNvY2tzQ29tbWFuZC5hc3NvY2lhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKGNvbnN0YW50c18xLlNvY2tzQ2xpZW50U3RhdGUuRXN0YWJsaXNoZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSW50ZXJuYWxTb2NrZXRIYW5kbGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnZXN0YWJsaXNoZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZUhvc3QsXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldDogdGhpcy5zb2NrZXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBTb2NrcyB2NSBpbmNvbWluZyBjb25uZWN0aW9uIHJlcXVlc3QgKEJJTkQpLlxuICAgICAqL1xuICAgIGhhbmRsZVNvY2tzNUluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlKCkge1xuICAgICAgICAvLyBQZWVrIGF0IGF2YWlsYWJsZSBkYXRhICh3ZSBuZWVkIGF0IGxlYXN0IDUgYnl0ZXMgdG8gZ2V0IHRoZSBob3N0bmFtZSBsZW5ndGgpXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IHRoaXMucmVjZWl2ZUJ1ZmZlci5wZWVrKDUpO1xuICAgICAgICBpZiAoaGVhZGVyWzBdICE9PSAweDA1IHx8IGhlYWRlclsxXSAhPT0gY29uc3RhbnRzXzEuU29ja3M1UmVzcG9uc2UuR3JhbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNvY2tldChgJHtjb25zdGFudHNfMS5FUlJPUlMuU29ja3M1UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9ufSAtICR7Y29uc3RhbnRzXzEuU29ja3M1UmVzcG9uc2VbaGVhZGVyWzFdXX1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlYWQgYWRkcmVzcyB0eXBlXG4gICAgICAgICAgICBjb25zdCBhZGRyZXNzVHlwZSA9IGhlYWRlclszXTtcbiAgICAgICAgICAgIGxldCByZW1vdGVIb3N0O1xuICAgICAgICAgICAgbGV0IGJ1ZmY7XG4gICAgICAgICAgICAvLyBJUHY0XG4gICAgICAgICAgICBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLklQdjQpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBkYXRhIGlzIGF2YWlsYWJsZS5cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSVB2NDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWNlaXZlQnVmZmVyLmxlbmd0aCA8IGRhdGFOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UmVxdWlyZWRQYWNrZXRCdWZmZXJTaXplID0gZGF0YU5lZWRlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmID0gc21hcnRfYnVmZmVyXzEuU21hcnRCdWZmZXIuZnJvbUJ1ZmZlcih0aGlzLnJlY2VpdmVCdWZmZXIuZ2V0KGRhdGFOZWVkZWQpLnNsaWNlKDQpKTtcbiAgICAgICAgICAgICAgICByZW1vdGVIb3N0ID0ge1xuICAgICAgICAgICAgICAgICAgICBob3N0OiBpcC5mcm9tTG9uZyhidWZmLnJlYWRVSW50MzJCRSgpKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElmIGdpdmVuIGhvc3QgaXMgMC4wLjAuMCwgYXNzdW1lIHJlbW90ZSBwcm94eSBpcCBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIGlmIChyZW1vdGVIb3N0Lmhvc3QgPT09ICcwLjAuMC4wJykge1xuICAgICAgICAgICAgICAgICAgICByZW1vdGVIb3N0Lmhvc3QgPSB0aGlzLm9wdGlvbnMucHJveHkuaXBhZGRyZXNzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBIb3N0bmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYWRkcmVzc1R5cGUgPT09IGNvbnN0YW50c18xLlNvY2tzNUhvc3RUeXBlLkhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaG9zdExlbmd0aCA9IGhlYWRlcls0XTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhTmVlZGVkID0gY29uc3RhbnRzXzEuU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTLlNvY2tzNVJlc3BvbnNlSG9zdG5hbWUoaG9zdExlbmd0aCk7IC8vIGhlYWRlciArIGhvc3QgbGVuZ3RoICsgcG9ydFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGRhdGEgaXMgYXZhaWxhYmxlLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoIDwgZGF0YU5lZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRSZXF1aXJlZFBhY2tldEJ1ZmZlclNpemUgPSBkYXRhTmVlZGVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmYgPSBzbWFydF9idWZmZXJfMS5TbWFydEJ1ZmZlci5mcm9tQnVmZmVyKHRoaXMucmVjZWl2ZUJ1ZmZlci5nZXQoZGF0YU5lZWRlZCkuc2xpY2UoNSkpO1xuICAgICAgICAgICAgICAgIHJlbW90ZUhvc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IGJ1ZmYucmVhZFN0cmluZyhob3N0TGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogYnVmZi5yZWFkVUludDE2QkUoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIElQdjZcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFkZHJlc3NUeXBlID09PSBjb25zdGFudHNfMS5Tb2NrczVIb3N0VHlwZS5JUHY2KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YSBpcyBhdmFpbGFibGUuXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YU5lZWRlZCA9IGNvbnN0YW50c18xLlNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUy5Tb2NrczVSZXNwb25zZUlQdjY7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGggPCBkYXRhTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSA9IGRhdGFOZWVkZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnVmZiA9IHNtYXJ0X2J1ZmZlcl8xLlNtYXJ0QnVmZmVyLmZyb21CdWZmZXIodGhpcy5yZWNlaXZlQnVmZmVyLmdldChkYXRhTmVlZGVkKS5zbGljZSg0KSk7XG4gICAgICAgICAgICAgICAgcmVtb3RlSG9zdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdDogaXAudG9TdHJpbmcoYnVmZi5yZWFkQnVmZmVyKDE2KSksXG4gICAgICAgICAgICAgICAgICAgIHBvcnQ6IGJ1ZmYucmVhZFVJbnQxNkJFKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoY29uc3RhbnRzXzEuU29ja3NDbGllbnRTdGF0ZS5Fc3RhYmxpc2hlZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUludGVybmFsU29ja2V0SGFuZGxlcnMoKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXN0YWJsaXNoZWQnLCB7IHJlbW90ZUhvc3QsIHNvY2tldDogdGhpcy5zb2NrZXQgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNvY2tzQ2xpZW50T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyk7XG4gICAgfVxufVxuZXhwb3J0cy5Tb2Nrc0NsaWVudCA9IFNvY2tzQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ja3NjbGllbnQuanMubWFwIl0sIm5hbWVzIjpbIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsImFkb3B0IiwidmFsdWUiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIlNvY2tzQ2xpZW50RXJyb3IiLCJTb2Nrc0NsaWVudCIsImV2ZW50c18xIiwicmVxdWlyZSIsIm5ldCIsImlwIiwic21hcnRfYnVmZmVyXzEiLCJjb25zdGFudHNfMSIsImhlbHBlcnNfMSIsInJlY2VpdmVidWZmZXJfMSIsInV0aWxfMSIsImVudW1lcmFibGUiLCJnZXQiLCJFdmVudEVtaXR0ZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJhc3NpZ24iLCJ2YWxpZGF0ZVNvY2tzQ2xpZW50T3B0aW9ucyIsInNldFN0YXRlIiwiU29ja3NDbGllbnRTdGF0ZSIsIkNyZWF0ZWQiLCJjcmVhdGVDb25uZWN0aW9uIiwiY2FsbGJhY2siLCJlcnIiLCJjbGllbnQiLCJjb25uZWN0IiwiZXhpc3Rpbmdfc29ja2V0Iiwib25jZSIsImluZm8iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJjcmVhdGVDb25uZWN0aW9uQ2hhaW4iLCJ2YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zIiwicmFuZG9taXplQ2hhaW4iLCJzaHVmZmxlQXJyYXkiLCJwcm94aWVzIiwic29jayIsImkiLCJsZW5ndGgiLCJuZXh0UHJveHkiLCJuZXh0RGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImhvc3QiLCJpcGFkZHJlc3MiLCJwb3J0IiwiY29tbWFuZCIsInByb3h5Iiwic29ja2V0IiwiY3JlYXRlVURQRnJhbWUiLCJidWZmIiwiU21hcnRCdWZmZXIiLCJ3cml0ZVVJbnQxNkJFIiwid3JpdGVVSW50OCIsImZyYW1lTnVtYmVyIiwiaXNJUHY0IiwicmVtb3RlSG9zdCIsIlNvY2tzNUhvc3RUeXBlIiwiSVB2NCIsIndyaXRlVUludDMyQkUiLCJ0b0xvbmciLCJpc0lQdjYiLCJJUHY2Iiwid3JpdGVCdWZmZXIiLCJ0b0J1ZmZlciIsIkhvc3RuYW1lIiwiQnVmZmVyIiwiYnl0ZUxlbmd0aCIsIndyaXRlU3RyaW5nIiwiZGF0YSIsInBhcnNlVURQRnJhbWUiLCJmcm9tQnVmZmVyIiwicmVhZE9mZnNldCIsInJlYWRVSW50OCIsImhvc3RUeXBlIiwiZnJvbUxvbmciLCJyZWFkVUludDMyQkUiLCJ0b1N0cmluZyIsInJlYWRCdWZmZXIiLCJyZWFkU3RyaW5nIiwicmVtb3RlUG9ydCIsInJlYWRVSW50MTZCRSIsIm5ld1N0YXRlIiwic3RhdGUiLCJFcnJvciIsImV4aXN0aW5nU29ja2V0Iiwib25EYXRhUmVjZWl2ZWQiLCJvbkRhdGFSZWNlaXZlZEhhbmRsZXIiLCJvbkNsb3NlIiwib25DbG9zZUhhbmRsZXIiLCJvbkVycm9yIiwib25FcnJvckhhbmRsZXIiLCJvbkNvbm5lY3QiLCJvbkNvbm5lY3RIYW5kbGVyIiwidGltZXIiLCJzZXRUaW1lb3V0Iiwib25Fc3RhYmxpc2hlZFRpbWVvdXQiLCJ0aW1lb3V0IiwiREVGQVVMVF9USU1FT1VUIiwidW5yZWYiLCJTb2NrZXQiLCJvbiIsIkNvbm5lY3RpbmciLCJyZWNlaXZlQnVmZmVyIiwiUmVjZWl2ZUJ1ZmZlciIsImVtaXQiLCJnZXRTb2NrZXRPcHRpb25zIiwic2V0X3RjcF9ub2RlbGF5IiwidW5kZWZpbmVkIiwic2V0Tm9EZWxheSIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJzZXRJbW1lZGlhdGUiLCJleGNlc3NEYXRhIiwicmVzdW1lIiwic29ja2V0X29wdGlvbnMiLCJFc3RhYmxpc2hlZCIsIkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb24iLCJjbG9zZVNvY2tldCIsIkVSUk9SUyIsIlByb3h5Q29ubmVjdGlvblRpbWVkT3V0IiwiQ29ubmVjdGVkIiwidHlwZSIsInNlbmRTb2NrczRJbml0aWFsSGFuZHNoYWtlIiwic2VuZFNvY2tzNUluaXRpYWxIYW5kc2hha2UiLCJTZW50SW5pdGlhbEhhbmRzaGFrZSIsImFwcGVuZCIsInByb2Nlc3NEYXRhIiwibmV4dFJlcXVpcmVkUGFja2V0QnVmZmVyU2l6ZSIsImhhbmRsZVNvY2tzNEZpbmFsSGFuZHNoYWtlUmVzcG9uc2UiLCJoYW5kbGVJbml0aWFsU29ja3M1SGFuZHNoYWtlUmVzcG9uc2UiLCJTZW50QXV0aGVudGljYXRpb24iLCJoYW5kbGVJbml0aWFsU29ja3M1QXV0aGVudGljYXRpb25IYW5kc2hha2VSZXNwb25zZSIsIlNlbnRGaW5hbEhhbmRzaGFrZSIsImhhbmRsZVNvY2tzNUZpbmFsSGFuZHNoYWtlUmVzcG9uc2UiLCJoYW5kbGVTb2NrczRJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZSIsImhhbmRsZVNvY2tzNUluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlIiwiSW50ZXJuYWxFcnJvciIsIlNvY2tldENsb3NlZCIsIm1lc3NhZ2UiLCJyZW1vdmVJbnRlcm5hbFNvY2tldEhhbmRsZXJzIiwicGF1c2UiLCJyZW1vdmVMaXN0ZW5lciIsImRlc3Ryb3kiLCJ1c2VySWQiLCJTb2Nrc0NvbW1hbmQiLCJ3cml0ZVN0cmluZ05UIiwiU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTIiwiU29ja3M0UmVzcG9uc2UiLCJ3cml0ZSIsIkdyYW50ZWQiLCJTb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbiIsImJpbmQiLCJTb2NrczRQcm94eVJlamVjdGVkSW5jb21pbmdCb3VuZENvbm5lY3Rpb24iLCJzdXBwb3J0ZWRBdXRoTWV0aG9kcyIsIlNvY2tzNUF1dGgiLCJOb0F1dGgiLCJwYXNzd29yZCIsInB1c2giLCJVc2VyUGFzcyIsImN1c3RvbV9hdXRoX21ldGhvZCIsImF1dGhNZXRob2QiLCJTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2UiLCJJbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbiIsIlNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEgiLCJJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZU5vQWNjZXB0ZWRBdXRoVHlwZSIsInNvY2tzNUNob3NlbkF1dGhUeXBlIiwic2VuZFNvY2tzNUNvbW1hbmRSZXF1ZXN0Iiwic2VuZFNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb24iLCJzZW5kU29ja3M1Q3VzdG9tQXV0aGVudGljYXRpb24iLCJJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZVVua25vd25BdXRoVHlwZSIsIlNvY2tzNVVzZXJQYXNzQXV0aGVudGljYXRpb25SZXNwb25zZSIsImN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemUiLCJjdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIiLCJoYW5kbGVTb2NrczVDdXN0b21BdXRoSGFuZHNoYWtlUmVzcG9uc2UiLCJjdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyIiwiaGFuZGxlU29ja3M1QXV0aGVudGljYXRpb25Ob0F1dGhIYW5kc2hha2VSZXNwb25zZSIsImhhbmRsZVNvY2tzNUF1dGhlbnRpY2F0aW9uVXNlclBhc3NIYW5kc2hha2VSZXNwb25zZSIsIlJlY2VpdmVkQXV0aGVudGljYXRpb25SZXNwb25zZSIsImF1dGhSZXN1bHQiLCJTb2NrczVBdXRoZW50aWNhdGlvbkZhaWxlZCIsIlNvY2tzNVJlc3BvbnNlSGVhZGVyIiwiaGVhZGVyIiwicGVlayIsIlNvY2tzNVJlc3BvbnNlIiwiSW52YWxpZFNvY2tzNUZpbmFsSGFuZHNoYWtlUmVqZWN0ZWQiLCJhZGRyZXNzVHlwZSIsImRhdGFOZWVkZWQiLCJTb2NrczVSZXNwb25zZUlQdjQiLCJzbGljZSIsImhvc3RMZW5ndGgiLCJTb2NrczVSZXNwb25zZUhvc3RuYW1lIiwiU29ja3M1UmVzcG9uc2VJUHY2IiwiUmVjZWl2ZWRGaW5hbFJlc3BvbnNlIiwiYXNzb2NpYXRlIiwiU29ja3M1UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9uIiwic29ja3NDbGllbnRPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/client/socksclient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/socks/build/common/constants.js":
/*!******************************************************!*\
  !*** ./node_modules/socks/build/common/constants.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.SOCKS5_NO_ACCEPTABLE_AUTH = exports.SOCKS5_CUSTOM_AUTH_END = exports.SOCKS5_CUSTOM_AUTH_START = exports.SOCKS_INCOMING_PACKET_SIZES = exports.SocksClientState = exports.Socks5Response = exports.Socks5HostType = exports.Socks5Auth = exports.Socks4Response = exports.SocksCommand = exports.ERRORS = exports.DEFAULT_TIMEOUT = void 0;\nconst DEFAULT_TIMEOUT = 30000;\nexports.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\n// prettier-ignore\nconst ERRORS = {\n    InvalidSocksCommand: \"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.\",\n    InvalidSocksCommandForOperation: \"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.\",\n    InvalidSocksCommandChain: \"An invalid SOCKS command was provided. Chaining currently only supports the connect command.\",\n    InvalidSocksClientOptionsDestination: \"An invalid destination host was provided.\",\n    InvalidSocksClientOptionsExistingSocket: \"An invalid existing socket was provided. This should be an instance of stream.Duplex.\",\n    InvalidSocksClientOptionsProxy: \"Invalid SOCKS proxy details were provided.\",\n    InvalidSocksClientOptionsTimeout: \"An invalid timeout value was provided. Please enter a value above 0 (in ms).\",\n    InvalidSocksClientOptionsProxiesLength: \"At least two socks proxies must be provided for chaining.\",\n    InvalidSocksClientOptionsCustomAuthRange: \"Custom auth must be a value between 0x80 and 0xFE.\",\n    InvalidSocksClientOptionsCustomAuthOptions: \"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.\",\n    NegotiationError: \"Negotiation error\",\n    SocketClosed: \"Socket closed\",\n    ProxyConnectionTimedOut: \"Proxy connection timed out\",\n    InternalError: \"SocksClient internal error (this should not happen)\",\n    InvalidSocks4HandshakeResponse: \"Received invalid Socks4 handshake response\",\n    Socks4ProxyRejectedConnection: \"Socks4 Proxy rejected connection\",\n    InvalidSocks4IncomingConnectionResponse: \"Socks4 invalid incoming connection response\",\n    Socks4ProxyRejectedIncomingBoundConnection: \"Socks4 Proxy rejected incoming bound connection\",\n    InvalidSocks5InitialHandshakeResponse: \"Received invalid Socks5 initial handshake response\",\n    InvalidSocks5IntiailHandshakeSocksVersion: \"Received invalid Socks5 initial handshake (invalid socks version)\",\n    InvalidSocks5InitialHandshakeNoAcceptedAuthType: \"Received invalid Socks5 initial handshake (no accepted authentication type)\",\n    InvalidSocks5InitialHandshakeUnknownAuthType: \"Received invalid Socks5 initial handshake (unknown authentication type)\",\n    Socks5AuthenticationFailed: \"Socks5 Authentication failed\",\n    InvalidSocks5FinalHandshake: \"Received invalid Socks5 final handshake response\",\n    InvalidSocks5FinalHandshakeRejected: \"Socks5 proxy rejected connection\",\n    InvalidSocks5IncomingConnectionResponse: \"Received invalid Socks5 incoming connection response\",\n    Socks5ProxyRejectedIncomingBoundConnection: \"Socks5 Proxy rejected incoming bound connection\"\n};\nexports.ERRORS = ERRORS;\nconst SOCKS_INCOMING_PACKET_SIZES = {\n    Socks5InitialHandshakeResponse: 2,\n    Socks5UserPassAuthenticationResponse: 2,\n    // Command response + incoming connection (bind)\n    Socks5ResponseHeader: 5,\n    Socks5ResponseIPv4: 10,\n    Socks5ResponseIPv6: 22,\n    Socks5ResponseHostname: (hostNameLength)=>hostNameLength + 7,\n    // Command response + incoming connection (bind)\n    Socks4Response: 8\n};\nexports.SOCKS_INCOMING_PACKET_SIZES = SOCKS_INCOMING_PACKET_SIZES;\nvar SocksCommand;\n(function(SocksCommand) {\n    SocksCommand[SocksCommand[\"connect\"] = 1] = \"connect\";\n    SocksCommand[SocksCommand[\"bind\"] = 2] = \"bind\";\n    SocksCommand[SocksCommand[\"associate\"] = 3] = \"associate\";\n})(SocksCommand || (SocksCommand = {}));\nexports.SocksCommand = SocksCommand;\nvar Socks4Response;\n(function(Socks4Response) {\n    Socks4Response[Socks4Response[\"Granted\"] = 90] = \"Granted\";\n    Socks4Response[Socks4Response[\"Failed\"] = 91] = \"Failed\";\n    Socks4Response[Socks4Response[\"Rejected\"] = 92] = \"Rejected\";\n    Socks4Response[Socks4Response[\"RejectedIdent\"] = 93] = \"RejectedIdent\";\n})(Socks4Response || (Socks4Response = {}));\nexports.Socks4Response = Socks4Response;\nvar Socks5Auth;\n(function(Socks5Auth) {\n    Socks5Auth[Socks5Auth[\"NoAuth\"] = 0] = \"NoAuth\";\n    Socks5Auth[Socks5Auth[\"GSSApi\"] = 1] = \"GSSApi\";\n    Socks5Auth[Socks5Auth[\"UserPass\"] = 2] = \"UserPass\";\n})(Socks5Auth || (Socks5Auth = {}));\nexports.Socks5Auth = Socks5Auth;\nconst SOCKS5_CUSTOM_AUTH_START = 0x80;\nexports.SOCKS5_CUSTOM_AUTH_START = SOCKS5_CUSTOM_AUTH_START;\nconst SOCKS5_CUSTOM_AUTH_END = 0xfe;\nexports.SOCKS5_CUSTOM_AUTH_END = SOCKS5_CUSTOM_AUTH_END;\nconst SOCKS5_NO_ACCEPTABLE_AUTH = 0xff;\nexports.SOCKS5_NO_ACCEPTABLE_AUTH = SOCKS5_NO_ACCEPTABLE_AUTH;\nvar Socks5Response;\n(function(Socks5Response) {\n    Socks5Response[Socks5Response[\"Granted\"] = 0] = \"Granted\";\n    Socks5Response[Socks5Response[\"Failure\"] = 1] = \"Failure\";\n    Socks5Response[Socks5Response[\"NotAllowed\"] = 2] = \"NotAllowed\";\n    Socks5Response[Socks5Response[\"NetworkUnreachable\"] = 3] = \"NetworkUnreachable\";\n    Socks5Response[Socks5Response[\"HostUnreachable\"] = 4] = \"HostUnreachable\";\n    Socks5Response[Socks5Response[\"ConnectionRefused\"] = 5] = \"ConnectionRefused\";\n    Socks5Response[Socks5Response[\"TTLExpired\"] = 6] = \"TTLExpired\";\n    Socks5Response[Socks5Response[\"CommandNotSupported\"] = 7] = \"CommandNotSupported\";\n    Socks5Response[Socks5Response[\"AddressNotSupported\"] = 8] = \"AddressNotSupported\";\n})(Socks5Response || (Socks5Response = {}));\nexports.Socks5Response = Socks5Response;\nvar Socks5HostType;\n(function(Socks5HostType) {\n    Socks5HostType[Socks5HostType[\"IPv4\"] = 1] = \"IPv4\";\n    Socks5HostType[Socks5HostType[\"Hostname\"] = 3] = \"Hostname\";\n    Socks5HostType[Socks5HostType[\"IPv6\"] = 4] = \"IPv6\";\n})(Socks5HostType || (Socks5HostType = {}));\nexports.Socks5HostType = Socks5HostType;\nvar SocksClientState;\n(function(SocksClientState) {\n    SocksClientState[SocksClientState[\"Created\"] = 0] = \"Created\";\n    SocksClientState[SocksClientState[\"Connecting\"] = 1] = \"Connecting\";\n    SocksClientState[SocksClientState[\"Connected\"] = 2] = \"Connected\";\n    SocksClientState[SocksClientState[\"SentInitialHandshake\"] = 3] = \"SentInitialHandshake\";\n    SocksClientState[SocksClientState[\"ReceivedInitialHandshakeResponse\"] = 4] = \"ReceivedInitialHandshakeResponse\";\n    SocksClientState[SocksClientState[\"SentAuthentication\"] = 5] = \"SentAuthentication\";\n    SocksClientState[SocksClientState[\"ReceivedAuthenticationResponse\"] = 6] = \"ReceivedAuthenticationResponse\";\n    SocksClientState[SocksClientState[\"SentFinalHandshake\"] = 7] = \"SentFinalHandshake\";\n    SocksClientState[SocksClientState[\"ReceivedFinalResponse\"] = 8] = \"ReceivedFinalResponse\";\n    SocksClientState[SocksClientState[\"BoundWaitingForConnection\"] = 9] = \"BoundWaitingForConnection\";\n    SocksClientState[SocksClientState[\"Established\"] = 10] = \"Established\";\n    SocksClientState[SocksClientState[\"Disconnected\"] = 11] = \"Disconnected\";\n    SocksClientState[SocksClientState[\"Error\"] = 99] = \"Error\";\n})(SocksClientState || (SocksClientState = {}));\nexports.SocksClientState = SocksClientState; //# sourceMappingURL=constants.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiQSw4Q0FBNkM7SUFBRUcsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsaUNBQWlDLEdBQUdBLDhCQUE4QixHQUFHQSxnQ0FBZ0MsR0FBR0EsbUNBQW1DLEdBQUdBLHdCQUF3QixHQUFHQSxzQkFBc0IsR0FBR0Esc0JBQXNCLEdBQUdBLGtCQUFrQixHQUFHQSxzQkFBc0IsR0FBR0Esb0JBQW9CLEdBQUdBLGNBQWMsR0FBR0EsdUJBQXVCLEdBQUcsS0FBSztBQUNoVixNQUFNYSxrQkFBa0I7QUFDeEJiLHVCQUF1QixHQUFHYTtBQUMxQixrQkFBa0I7QUFDbEIsTUFBTUQsU0FBUztJQUNYRSxxQkFBcUI7SUFDckJDLGlDQUFpQztJQUNqQ0MsMEJBQTBCO0lBQzFCQyxzQ0FBc0M7SUFDdENDLHlDQUF5QztJQUN6Q0MsZ0NBQWdDO0lBQ2hDQyxrQ0FBa0M7SUFDbENDLHdDQUF3QztJQUN4Q0MsMENBQTBDO0lBQzFDQyw0Q0FBNEM7SUFDNUNDLGtCQUFrQjtJQUNsQkMsY0FBYztJQUNkQyx5QkFBeUI7SUFDekJDLGVBQWU7SUFDZkMsZ0NBQWdDO0lBQ2hDQywrQkFBK0I7SUFDL0JDLHlDQUF5QztJQUN6Q0MsNENBQTRDO0lBQzVDQyx1Q0FBdUM7SUFDdkNDLDJDQUEyQztJQUMzQ0MsaURBQWlEO0lBQ2pEQyw4Q0FBOEM7SUFDOUNDLDRCQUE0QjtJQUM1QkMsNkJBQTZCO0lBQzdCQyxxQ0FBcUM7SUFDckNDLHlDQUF5QztJQUN6Q0MsNENBQTRDO0FBQ2hEO0FBQ0F4QyxjQUFjLEdBQUdZO0FBQ2pCLE1BQU1QLDhCQUE4QjtJQUNoQ29DLGdDQUFnQztJQUNoQ0Msc0NBQXNDO0lBQ3RDLGdEQUFnRDtJQUNoREMsc0JBQXNCO0lBQ3RCQyxvQkFBb0I7SUFDcEJDLG9CQUFvQjtJQUNwQkMsd0JBQXdCLENBQUNDLGlCQUFtQkEsaUJBQWlCO0lB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LGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHO0lBQ3REQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsdUJBQXVCLEdBQUcsRUFBRSxHQUFHO0lBQ2pFQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsbUNBQW1DLEdBQUcsRUFBRSxHQUFHO0lBQzdFQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMscUJBQXFCLEdBQUcsRUFBRSxHQUFHO0lBQy9EQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsaUNBQWlDLEdBQUcsRUFBRSxHQUFHO0lBQzNFQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMscUJBQXFCLEdBQUcsRUFBRSxHQUFHO0lBQy9EQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxHQUFHO0lBQ2xFQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsNEJBQTRCLEdBQUcsRUFBRSxHQUFHO0lBQ3RFQSxnQkFBZ0IsQ0FBQ0EsZ0JBQWdCLENBQUMsY0FBYyxHQUFHLEdBQUcsR0FBRztJQUN6REEsZ0JBQWdCLENBQUNBLGdCQUFnQixDQUFDLGVBQWUsR0FBRyxHQUFHLEdBQUc7SUFDMURBLGdCQUFnQixDQUFDQSxnQkFBZ0IsQ0FBQyxRQUFRLEdBQUcsR0FBRyxHQUFHO0FBQ3ZELEdBQUdBLG9CQUFxQkEsQ0FBQUEsbUJBQW1CLENBQUM7QUFDNUNOLHdCQUF3QixHQUFHTSxrQkFDM0IscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1hdXRoLXJlZ2lzdGVyLy4vbm9kZV9tb2R1bGVzL3NvY2tzL2J1aWxkL2NvbW1vbi9jb25zdGFudHMuanM/ZTA3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU09DS1M1X05PX0FDQ0VQVEFCTEVfQVVUSCA9IGV4cG9ydHMuU09DS1M1X0NVU1RPTV9BVVRIX0VORCA9IGV4cG9ydHMuU09DS1M1X0NVU1RPTV9BVVRIX1NUQVJUID0gZXhwb3J0cy5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMgPSBleHBvcnRzLlNvY2tzQ2xpZW50U3RhdGUgPSBleHBvcnRzLlNvY2tzNVJlc3BvbnNlID0gZXhwb3J0cy5Tb2NrczVIb3N0VHlwZSA9IGV4cG9ydHMuU29ja3M1QXV0aCA9IGV4cG9ydHMuU29ja3M0UmVzcG9uc2UgPSBleHBvcnRzLlNvY2tzQ29tbWFuZCA9IGV4cG9ydHMuRVJST1JTID0gZXhwb3J0cy5ERUZBVUxUX1RJTUVPVVQgPSB2b2lkIDA7XG5jb25zdCBERUZBVUxUX1RJTUVPVVQgPSAzMDAwMDtcbmV4cG9ydHMuREVGQVVMVF9USU1FT1VUID0gREVGQVVMVF9USU1FT1VUO1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBFUlJPUlMgPSB7XG4gICAgSW52YWxpZFNvY2tzQ29tbWFuZDogJ0FuIGludmFsaWQgU09DS1MgY29tbWFuZCB3YXMgcHJvdmlkZWQuIFZhbGlkIG9wdGlvbnMgYXJlIGNvbm5lY3QsIGJpbmQsIGFuZCBhc3NvY2lhdGUuJyxcbiAgICBJbnZhbGlkU29ja3NDb21tYW5kRm9yT3BlcmF0aW9uOiAnQW4gaW52YWxpZCBTT0NLUyBjb21tYW5kIHdhcyBwcm92aWRlZC4gT25seSBhIHN1YnNldCBvZiBjb21tYW5kcyBhcmUgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4nLFxuICAgIEludmFsaWRTb2Nrc0NvbW1hbmRDaGFpbjogJ0FuIGludmFsaWQgU09DS1MgY29tbWFuZCB3YXMgcHJvdmlkZWQuIENoYWluaW5nIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIHRoZSBjb25uZWN0IGNvbW1hbmQuJyxcbiAgICBJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRGVzdGluYXRpb246ICdBbiBpbnZhbGlkIGRlc3RpbmF0aW9uIGhvc3Qgd2FzIHByb3ZpZGVkLicsXG4gICAgSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0V4aXN0aW5nU29ja2V0OiAnQW4gaW52YWxpZCBleGlzdGluZyBzb2NrZXQgd2FzIHByb3ZpZGVkLiBUaGlzIHNob3VsZCBiZSBhbiBpbnN0YW5jZSBvZiBzdHJlYW0uRHVwbGV4LicsXG4gICAgSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3h5OiAnSW52YWxpZCBTT0NLUyBwcm94eSBkZXRhaWxzIHdlcmUgcHJvdmlkZWQuJyxcbiAgICBJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zVGltZW91dDogJ0FuIGludmFsaWQgdGltZW91dCB2YWx1ZSB3YXMgcHJvdmlkZWQuIFBsZWFzZSBlbnRlciBhIHZhbHVlIGFib3ZlIDAgKGluIG1zKS4nLFxuICAgIEludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94aWVzTGVuZ3RoOiAnQXQgbGVhc3QgdHdvIHNvY2tzIHByb3hpZXMgbXVzdCBiZSBwcm92aWRlZCBmb3IgY2hhaW5pbmcuJyxcbiAgICBJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aFJhbmdlOiAnQ3VzdG9tIGF1dGggbXVzdCBiZSBhIHZhbHVlIGJldHdlZW4gMHg4MCBhbmQgMHhGRS4nLFxuICAgIEludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoT3B0aW9uczogJ1doZW4gYSBjdXN0b21fYXV0aF9tZXRob2QgaXMgcHJvdmlkZWQsIGN1c3RvbV9hdXRoX3JlcXVlc3RfaGFuZGxlciwgY3VzdG9tX2F1dGhfcmVzcG9uc2Vfc2l6ZSwgYW5kIGN1c3RvbV9hdXRoX3Jlc3BvbnNlX2hhbmRsZXIgbXVzdCBhbHNvIGJlIHByb3ZpZGVkIGFuZCB2YWxpZC4nLFxuICAgIE5lZ290aWF0aW9uRXJyb3I6ICdOZWdvdGlhdGlvbiBlcnJvcicsXG4gICAgU29ja2V0Q2xvc2VkOiAnU29ja2V0IGNsb3NlZCcsXG4gICAgUHJveHlDb25uZWN0aW9uVGltZWRPdXQ6ICdQcm94eSBjb25uZWN0aW9uIHRpbWVkIG91dCcsXG4gICAgSW50ZXJuYWxFcnJvcjogJ1NvY2tzQ2xpZW50IGludGVybmFsIGVycm9yICh0aGlzIHNob3VsZCBub3QgaGFwcGVuKScsXG4gICAgSW52YWxpZFNvY2tzNEhhbmRzaGFrZVJlc3BvbnNlOiAnUmVjZWl2ZWQgaW52YWxpZCBTb2NrczQgaGFuZHNoYWtlIHJlc3BvbnNlJyxcbiAgICBTb2NrczRQcm94eVJlamVjdGVkQ29ubmVjdGlvbjogJ1NvY2tzNCBQcm94eSByZWplY3RlZCBjb25uZWN0aW9uJyxcbiAgICBJbnZhbGlkU29ja3M0SW5jb21pbmdDb25uZWN0aW9uUmVzcG9uc2U6ICdTb2NrczQgaW52YWxpZCBpbmNvbWluZyBjb25uZWN0aW9uIHJlc3BvbnNlJyxcbiAgICBTb2NrczRQcm94eVJlamVjdGVkSW5jb21pbmdCb3VuZENvbm5lY3Rpb246ICdTb2NrczQgUHJveHkgcmVqZWN0ZWQgaW5jb21pbmcgYm91bmQgY29ubmVjdGlvbicsXG4gICAgSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VSZXNwb25zZTogJ1JlY2VpdmVkIGludmFsaWQgU29ja3M1IGluaXRpYWwgaGFuZHNoYWtlIHJlc3BvbnNlJyxcbiAgICBJbnZhbGlkU29ja3M1SW50aWFpbEhhbmRzaGFrZVNvY2tzVmVyc2lvbjogJ1JlY2VpdmVkIGludmFsaWQgU29ja3M1IGluaXRpYWwgaGFuZHNoYWtlIChpbnZhbGlkIHNvY2tzIHZlcnNpb24pJyxcbiAgICBJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZU5vQWNjZXB0ZWRBdXRoVHlwZTogJ1JlY2VpdmVkIGludmFsaWQgU29ja3M1IGluaXRpYWwgaGFuZHNoYWtlIChubyBhY2NlcHRlZCBhdXRoZW50aWNhdGlvbiB0eXBlKScsXG4gICAgSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VVbmtub3duQXV0aFR5cGU6ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBpbml0aWFsIGhhbmRzaGFrZSAodW5rbm93biBhdXRoZW50aWNhdGlvbiB0eXBlKScsXG4gICAgU29ja3M1QXV0aGVudGljYXRpb25GYWlsZWQ6ICdTb2NrczUgQXV0aGVudGljYXRpb24gZmFpbGVkJyxcbiAgICBJbnZhbGlkU29ja3M1RmluYWxIYW5kc2hha2U6ICdSZWNlaXZlZCBpbnZhbGlkIFNvY2tzNSBmaW5hbCBoYW5kc2hha2UgcmVzcG9uc2UnLFxuICAgIEludmFsaWRTb2NrczVGaW5hbEhhbmRzaGFrZVJlamVjdGVkOiAnU29ja3M1IHByb3h5IHJlamVjdGVkIGNvbm5lY3Rpb24nLFxuICAgIEludmFsaWRTb2NrczVJbmNvbWluZ0Nvbm5lY3Rpb25SZXNwb25zZTogJ1JlY2VpdmVkIGludmFsaWQgU29ja3M1IGluY29taW5nIGNvbm5lY3Rpb24gcmVzcG9uc2UnLFxuICAgIFNvY2tzNVByb3h5UmVqZWN0ZWRJbmNvbWluZ0JvdW5kQ29ubmVjdGlvbjogJ1NvY2tzNSBQcm94eSByZWplY3RlZCBpbmNvbWluZyBib3VuZCBjb25uZWN0aW9uJyxcbn07XG5leHBvcnRzLkVSUk9SUyA9IEVSUk9SUztcbmNvbnN0IFNPQ0tTX0lOQ09NSU5HX1BBQ0tFVF9TSVpFUyA9IHtcbiAgICBTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2U6IDIsXG4gICAgU29ja3M1VXNlclBhc3NBdXRoZW50aWNhdGlvblJlc3BvbnNlOiAyLFxuICAgIC8vIENvbW1hbmQgcmVzcG9uc2UgKyBpbmNvbWluZyBjb25uZWN0aW9uIChiaW5kKVxuICAgIFNvY2tzNVJlc3BvbnNlSGVhZGVyOiA1LFxuICAgIFNvY2tzNVJlc3BvbnNlSVB2NDogMTAsXG4gICAgU29ja3M1UmVzcG9uc2VJUHY2OiAyMixcbiAgICBTb2NrczVSZXNwb25zZUhvc3RuYW1lOiAoaG9zdE5hbWVMZW5ndGgpID0+IGhvc3ROYW1lTGVuZ3RoICsgNyxcbiAgICAvLyBDb21tYW5kIHJlc3BvbnNlICsgaW5jb21pbmcgY29ubmVjdGlvbiAoYmluZClcbiAgICBTb2NrczRSZXNwb25zZTogOCwgLy8gMiBoZWFkZXIgKyAyIHBvcnQgKyA0IGlwXG59O1xuZXhwb3J0cy5TT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVMgPSBTT0NLU19JTkNPTUlOR19QQUNLRVRfU0laRVM7XG52YXIgU29ja3NDb21tYW5kO1xuKGZ1bmN0aW9uIChTb2Nrc0NvbW1hbmQpIHtcbiAgICBTb2Nrc0NvbW1hbmRbU29ja3NDb21tYW5kW1wiY29ubmVjdFwiXSA9IDFdID0gXCJjb25uZWN0XCI7XG4gICAgU29ja3NDb21tYW5kW1NvY2tzQ29tbWFuZFtcImJpbmRcIl0gPSAyXSA9IFwiYmluZFwiO1xuICAgIFNvY2tzQ29tbWFuZFtTb2Nrc0NvbW1hbmRbXCJhc3NvY2lhdGVcIl0gPSAzXSA9IFwiYXNzb2NpYXRlXCI7XG59KShTb2Nrc0NvbW1hbmQgfHwgKFNvY2tzQ29tbWFuZCA9IHt9KSk7XG5leHBvcnRzLlNvY2tzQ29tbWFuZCA9IFNvY2tzQ29tbWFuZDtcbnZhciBTb2NrczRSZXNwb25zZTtcbihmdW5jdGlvbiAoU29ja3M0UmVzcG9uc2UpIHtcbiAgICBTb2NrczRSZXNwb25zZVtTb2NrczRSZXNwb25zZVtcIkdyYW50ZWRcIl0gPSA5MF0gPSBcIkdyYW50ZWRcIjtcbiAgICBTb2NrczRSZXNwb25zZVtTb2NrczRSZXNwb25zZVtcIkZhaWxlZFwiXSA9IDkxXSA9IFwiRmFpbGVkXCI7XG4gICAgU29ja3M0UmVzcG9uc2VbU29ja3M0UmVzcG9uc2VbXCJSZWplY3RlZFwiXSA9IDkyXSA9IFwiUmVqZWN0ZWRcIjtcbiAgICBTb2NrczRSZXNwb25zZVtTb2NrczRSZXNwb25zZVtcIlJlamVjdGVkSWRlbnRcIl0gPSA5M10gPSBcIlJlamVjdGVkSWRlbnRcIjtcbn0pKFNvY2tzNFJlc3BvbnNlIHx8IChTb2NrczRSZXNwb25zZSA9IHt9KSk7XG5leHBvcnRzLlNvY2tzNFJlc3BvbnNlID0gU29ja3M0UmVzcG9uc2U7XG52YXIgU29ja3M1QXV0aDtcbihmdW5jdGlvbiAoU29ja3M1QXV0aCkge1xuICAgIFNvY2tzNUF1dGhbU29ja3M1QXV0aFtcIk5vQXV0aFwiXSA9IDBdID0gXCJOb0F1dGhcIjtcbiAgICBTb2NrczVBdXRoW1NvY2tzNUF1dGhbXCJHU1NBcGlcIl0gPSAxXSA9IFwiR1NTQXBpXCI7XG4gICAgU29ja3M1QXV0aFtTb2NrczVBdXRoW1wiVXNlclBhc3NcIl0gPSAyXSA9IFwiVXNlclBhc3NcIjtcbn0pKFNvY2tzNUF1dGggfHwgKFNvY2tzNUF1dGggPSB7fSkpO1xuZXhwb3J0cy5Tb2NrczVBdXRoID0gU29ja3M1QXV0aDtcbmNvbnN0IFNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVCA9IDB4ODA7XG5leHBvcnRzLlNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVCA9IFNPQ0tTNV9DVVNUT01fQVVUSF9TVEFSVDtcbmNvbnN0IFNPQ0tTNV9DVVNUT01fQVVUSF9FTkQgPSAweGZlO1xuZXhwb3J0cy5TT0NLUzVfQ1VTVE9NX0FVVEhfRU5EID0gU09DS1M1X0NVU1RPTV9BVVRIX0VORDtcbmNvbnN0IFNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEggPSAweGZmO1xuZXhwb3J0cy5TT0NLUzVfTk9fQUNDRVBUQUJMRV9BVVRIID0gU09DS1M1X05PX0FDQ0VQVEFCTEVfQVVUSDtcbnZhciBTb2NrczVSZXNwb25zZTtcbihmdW5jdGlvbiAoU29ja3M1UmVzcG9uc2UpIHtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkdyYW50ZWRcIl0gPSAwXSA9IFwiR3JhbnRlZFwiO1xuICAgIFNvY2tzNVJlc3BvbnNlW1NvY2tzNVJlc3BvbnNlW1wiRmFpbHVyZVwiXSA9IDFdID0gXCJGYWlsdXJlXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJOb3RBbGxvd2VkXCJdID0gMl0gPSBcIk5vdEFsbG93ZWRcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIk5ldHdvcmtVbnJlYWNoYWJsZVwiXSA9IDNdID0gXCJOZXR3b3JrVW5yZWFjaGFibGVcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkhvc3RVbnJlYWNoYWJsZVwiXSA9IDRdID0gXCJIb3N0VW5yZWFjaGFibGVcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkNvbm5lY3Rpb25SZWZ1c2VkXCJdID0gNV0gPSBcIkNvbm5lY3Rpb25SZWZ1c2VkXCI7XG4gICAgU29ja3M1UmVzcG9uc2VbU29ja3M1UmVzcG9uc2VbXCJUVExFeHBpcmVkXCJdID0gNl0gPSBcIlRUTEV4cGlyZWRcIjtcbiAgICBTb2NrczVSZXNwb25zZVtTb2NrczVSZXNwb25zZVtcIkNvbW1hbmROb3RTdXBwb3J0ZWRcIl0gPSA3XSA9IFwiQ29tbWFuZE5vdFN1cHBvcnRlZFwiO1xuICAgIFNvY2tzNVJlc3BvbnNlW1NvY2tzNVJlc3BvbnNlW1wiQWRkcmVzc05vdFN1cHBvcnRlZFwiXSA9IDhdID0gXCJBZGRyZXNzTm90U3VwcG9ydGVkXCI7XG59KShTb2NrczVSZXNwb25zZSB8fCAoU29ja3M1UmVzcG9uc2UgPSB7fSkpO1xuZXhwb3J0cy5Tb2NrczVSZXNwb25zZSA9IFNvY2tzNVJlc3BvbnNlO1xudmFyIFNvY2tzNUhvc3RUeXBlO1xuKGZ1bmN0aW9uIChTb2NrczVIb3N0VHlwZSkge1xuICAgIFNvY2tzNUhvc3RUeXBlW1NvY2tzNUhvc3RUeXBlW1wiSVB2NFwiXSA9IDFdID0gXCJJUHY0XCI7XG4gICAgU29ja3M1SG9zdFR5cGVbU29ja3M1SG9zdFR5cGVbXCJIb3N0bmFtZVwiXSA9IDNdID0gXCJIb3N0bmFtZVwiO1xuICAgIFNvY2tzNUhvc3RUeXBlW1NvY2tzNUhvc3RUeXBlW1wiSVB2NlwiXSA9IDRdID0gXCJJUHY2XCI7XG59KShTb2NrczVIb3N0VHlwZSB8fCAoU29ja3M1SG9zdFR5cGUgPSB7fSkpO1xuZXhwb3J0cy5Tb2NrczVIb3N0VHlwZSA9IFNvY2tzNUhvc3RUeXBlO1xudmFyIFNvY2tzQ2xpZW50U3RhdGU7XG4oZnVuY3Rpb24gKFNvY2tzQ2xpZW50U3RhdGUpIHtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJDcmVhdGVkXCJdID0gMF0gPSBcIkNyZWF0ZWRcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJDb25uZWN0aW5nXCJdID0gMV0gPSBcIkNvbm5lY3RpbmdcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJDb25uZWN0ZWRcIl0gPSAyXSA9IFwiQ29ubmVjdGVkXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiU2VudEluaXRpYWxIYW5kc2hha2VcIl0gPSAzXSA9IFwiU2VudEluaXRpYWxIYW5kc2hha2VcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJSZWNlaXZlZEluaXRpYWxIYW5kc2hha2VSZXNwb25zZVwiXSA9IDRdID0gXCJSZWNlaXZlZEluaXRpYWxIYW5kc2hha2VSZXNwb25zZVwiO1xuICAgIFNvY2tzQ2xpZW50U3RhdGVbU29ja3NDbGllbnRTdGF0ZVtcIlNlbnRBdXRoZW50aWNhdGlvblwiXSA9IDVdID0gXCJTZW50QXV0aGVudGljYXRpb25cIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJSZWNlaXZlZEF1dGhlbnRpY2F0aW9uUmVzcG9uc2VcIl0gPSA2XSA9IFwiUmVjZWl2ZWRBdXRoZW50aWNhdGlvblJlc3BvbnNlXCI7XG4gICAgU29ja3NDbGllbnRTdGF0ZVtTb2Nrc0NsaWVudFN0YXRlW1wiU2VudEZpbmFsSGFuZHNoYWtlXCJdID0gN10gPSBcIlNlbnRGaW5hbEhhbmRzaGFrZVwiO1xuICAgIFNvY2tzQ2xpZW50U3RhdGVbU29ja3NDbGllbnRTdGF0ZVtcIlJlY2VpdmVkRmluYWxSZXNwb25zZVwiXSA9IDhdID0gXCJSZWNlaXZlZEZpbmFsUmVzcG9uc2VcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJCb3VuZFdhaXRpbmdGb3JDb25uZWN0aW9uXCJdID0gOV0gPSBcIkJvdW5kV2FpdGluZ0ZvckNvbm5lY3Rpb25cIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJFc3RhYmxpc2hlZFwiXSA9IDEwXSA9IFwiRXN0YWJsaXNoZWRcIjtcbiAgICBTb2Nrc0NsaWVudFN0YXRlW1NvY2tzQ2xpZW50U3RhdGVbXCJEaXNjb25uZWN0ZWRcIl0gPSAxMV0gPSBcIkRpc2Nvbm5lY3RlZFwiO1xuICAgIFNvY2tzQ2xpZW50U3RhdGVbU29ja3NDbGllbnRTdGF0ZVtcIkVycm9yXCJdID0gOTldID0gXCJFcnJvclwiO1xufSkoU29ja3NDbGllbnRTdGF0ZSB8fCAoU29ja3NDbGllbnRTdGF0ZSA9IHt9KSk7XG5leHBvcnRzLlNvY2tzQ2xpZW50U3RhdGUgPSBTb2Nrc0NsaWVudFN0YXRlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlNPQ0tTNV9OT19BQ0NFUFRBQkxFX0FVVEgiLCJTT0NLUzVfQ1VTVE9NX0FVVEhfRU5EIiwiU09DS1M1X0NVU1RPTV9BVVRIX1NUQVJUIiwiU09DS1NfSU5DT01JTkdfUEFDS0VUX1NJWkVTIiwiU29ja3NDbGllbnRTdGF0ZSIsIlNvY2tzNVJlc3BvbnNlIiwiU29ja3M1SG9zdFR5cGUiLCJTb2NrczVBdXRoIiwiU29ja3M0UmVzcG9uc2UiLCJTb2Nrc0NvbW1hbmQiLCJFUlJPUlMiLCJERUZBVUxUX1RJTUVPVVQiLCJJbnZhbGlkU29ja3NDb21tYW5kIiwiSW52YWxpZFNvY2tzQ29tbWFuZEZvck9wZXJhdGlvbiIsIkludmFsaWRTb2Nrc0NvbW1hbmRDaGFpbiIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNEZXN0aW5hdGlvbiIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNFeGlzdGluZ1NvY2tldCIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94eSIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNUaW1lb3V0IiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3hpZXNMZW5ndGgiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aFJhbmdlIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhPcHRpb25zIiwiTmVnb3RpYXRpb25FcnJvciIsIlNvY2tldENsb3NlZCIsIlByb3h5Q29ubmVjdGlvblRpbWVkT3V0IiwiSW50ZXJuYWxFcnJvciIsIkludmFsaWRTb2NrczRIYW5kc2hha2VSZXNwb25zZSIsIlNvY2tzNFByb3h5UmVqZWN0ZWRDb25uZWN0aW9uIiwiSW52YWxpZFNvY2tzNEluY29taW5nQ29ubmVjdGlvblJlc3BvbnNlIiwiU29ja3M0UHJveHlSZWplY3RlZEluY29taW5nQm91bmRDb25uZWN0aW9uIiwiSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VSZXNwb25zZSIsIkludmFsaWRTb2NrczVJbnRpYWlsSGFuZHNoYWtlU29ja3NWZXJzaW9uIiwiSW52YWxpZFNvY2tzNUluaXRpYWxIYW5kc2hha2VOb0FjY2VwdGVkQXV0aFR5cGUiLCJJbnZhbGlkU29ja3M1SW5pdGlhbEhhbmRzaGFrZVVua25vd25BdXRoVHlwZSIsIlNvY2tzNUF1dGhlbnRpY2F0aW9uRmFpbGVkIiwiSW52YWxpZFNvY2tzNUZpbmFsSGFuZHNoYWtlIiwiSW52YWxpZFNvY2tzNUZpbmFsSGFuZHNoYWtlUmVqZWN0ZWQiLCJJbnZhbGlkU29ja3M1SW5jb21pbmdDb25uZWN0aW9uUmVzcG9uc2UiLCJTb2NrczVQcm94eVJlamVjdGVkSW5jb21pbmdCb3VuZENvbm5lY3Rpb24iLCJTb2NrczVJbml0aWFsSGFuZHNoYWtlUmVzcG9uc2UiLCJTb2NrczVVc2VyUGFzc0F1dGhlbnRpY2F0aW9uUmVzcG9uc2UiLCJTb2NrczVSZXNwb25zZUhlYWRlciIsIlNvY2tzNVJlc3BvbnNlSVB2NCIsIlNvY2tzNVJlc3BvbnNlSVB2NiIsIlNvY2tzNVJlc3BvbnNlSG9zdG5hbWUiLCJob3N0TmFtZUxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/common/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/socks/build/common/helpers.js":
/*!****************************************************!*\
  !*** ./node_modules/socks/build/common/helpers.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.validateSocksClientChainOptions = exports.validateSocksClientOptions = void 0;\nconst util_1 = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/socks/build/common/util.js\");\nconst constants_1 = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/socks/build/common/constants.js\");\nconst stream = __webpack_require__(/*! stream */ \"stream\");\n/**\n * Validates the provided SocksClientOptions\n * @param options { SocksClientOptions }\n * @param acceptedCommands { string[] } A list of accepted SocksProxy commands.\n */ function validateSocksClientOptions(options, acceptedCommands = [\n    \"connect\",\n    \"bind\",\n    \"associate\"\n]) {\n    // Check SOCKs command option.\n    if (!constants_1.SocksCommand[options.command]) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommand, options);\n    }\n    // Check SocksCommand for acceptable command.\n    if (acceptedCommands.indexOf(options.command) === -1) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommandForOperation, options);\n    }\n    // Check destination\n    if (!isValidSocksRemoteHost(options.destination)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsDestination, options);\n    }\n    // Check SOCKS proxy to use\n    if (!isValidSocksProxy(options.proxy)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxy, options);\n    }\n    // Validate custom auth (if set)\n    validateCustomProxyAuth(options.proxy, options);\n    // Check timeout\n    if (options.timeout && !isValidTimeoutValue(options.timeout)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsTimeout, options);\n    }\n    // Check existing_socket (if provided)\n    if (options.existing_socket && !(options.existing_socket instanceof stream.Duplex)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsExistingSocket, options);\n    }\n}\nexports.validateSocksClientOptions = validateSocksClientOptions;\n/**\n * Validates the SocksClientChainOptions\n * @param options { SocksClientChainOptions }\n */ function validateSocksClientChainOptions(options) {\n    // Only connect is supported when chaining.\n    if (options.command !== \"connect\") {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksCommandChain, options);\n    }\n    // Check destination\n    if (!isValidSocksRemoteHost(options.destination)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsDestination, options);\n    }\n    // Validate proxies (length)\n    if (!(options.proxies && Array.isArray(options.proxies) && options.proxies.length >= 2)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxiesLength, options);\n    }\n    // Validate proxies\n    options.proxies.forEach((proxy)=>{\n        if (!isValidSocksProxy(proxy)) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsProxy, options);\n        }\n        // Validate custom auth (if set)\n        validateCustomProxyAuth(proxy, options);\n    });\n    // Check timeout\n    if (options.timeout && !isValidTimeoutValue(options.timeout)) {\n        throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsTimeout, options);\n    }\n}\nexports.validateSocksClientChainOptions = validateSocksClientChainOptions;\nfunction validateCustomProxyAuth(proxy, options) {\n    if (proxy.custom_auth_method !== undefined) {\n        // Invalid auth method range\n        if (proxy.custom_auth_method < constants_1.SOCKS5_CUSTOM_AUTH_START || proxy.custom_auth_method > constants_1.SOCKS5_CUSTOM_AUTH_END) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthRange, options);\n        }\n        // Missing custom_auth_request_handler\n        if (proxy.custom_auth_request_handler === undefined || typeof proxy.custom_auth_request_handler !== \"function\") {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n        // Missing custom_auth_response_size\n        if (proxy.custom_auth_response_size === undefined) {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n        // Missing/invalid custom_auth_response_handler\n        if (proxy.custom_auth_response_handler === undefined || typeof proxy.custom_auth_response_handler !== \"function\") {\n            throw new util_1.SocksClientError(constants_1.ERRORS.InvalidSocksClientOptionsCustomAuthOptions, options);\n        }\n    }\n}\n/**\n * Validates a SocksRemoteHost\n * @param remoteHost { SocksRemoteHost }\n */ function isValidSocksRemoteHost(remoteHost) {\n    return remoteHost && typeof remoteHost.host === \"string\" && typeof remoteHost.port === \"number\" && remoteHost.port >= 0 && remoteHost.port <= 65535;\n}\n/**\n * Validates a SocksProxy\n * @param proxy { SocksProxy }\n */ function isValidSocksProxy(proxy) {\n    return proxy && (typeof proxy.host === \"string\" || typeof proxy.ipaddress === \"string\") && typeof proxy.port === \"number\" && proxy.port >= 0 && proxy.port <= 65535 && (proxy.type === 4 || proxy.type === 5);\n}\n/**\n * Validates a timeout value.\n * @param value { Number }\n */ function isValidTimeoutValue(value) {\n    return typeof value === \"number\" && value > 0;\n} //# sourceMappingURL=helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL2hlbHBlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELHVDQUF1QyxHQUFHQSxrQ0FBa0MsR0FBRyxLQUFLO0FBQ3BGLE1BQU1JLFNBQVNDLG1CQUFPQSxDQUFDLCtEQUFRO0FBQy9CLE1BQU1DLGNBQWNELG1CQUFPQSxDQUFDLHlFQUFhO0FBQ3pDLE1BQU1FLFNBQVNGLG1CQUFPQSxDQUFDLHNCQUFRO0FBQy9COzs7O0NBSUMsR0FDRCxTQUFTRiwyQkFBMkJLLE9BQU8sRUFBRUMsbUJBQW1CO0lBQUM7SUFBVztJQUFRO0NBQVk7SUFDNUYsOEJBQThCO0lBQzlCLElBQUksQ0FBQ0gsWUFBWUksWUFBWSxDQUFDRixRQUFRRyxPQUFPLENBQUMsRUFBRTtRQUM1QyxNQUFNLElBQUlQLE9BQU9RLGdCQUFnQixDQUFDTixZQUFZTyxNQUFNLENBQUNDLG1CQUFtQixFQUFFTjtJQUM5RTtJQUNBLDZDQUE2QztJQUM3QyxJQUFJQyxpQkFBaUJNLE9BQU8sQ0FBQ1AsUUFBUUcsT0FBTyxNQUFNLENBQUMsR0FBRztRQUNsRCxNQUFNLElBQUlQLE9BQU9RLGdCQUFnQixDQUFDTixZQUFZTyxNQUFNLENBQUNHLCtCQUErQixFQUFFUjtJQUMxRjtJQUNBLG9CQUFvQjtJQUNwQixJQUFJLENBQUNTLHVCQUF1QlQsUUFBUVUsV0FBVyxHQUFHO1FBQzlDLE1BQU0sSUFBSWQsT0FBT1EsZ0JBQWdCLENBQUNOLFlBQVlPLE1BQU0sQ0FBQ00sb0NBQW9DLEVBQUVYO0lBQy9GO0lBQ0EsMkJBQTJCO0lBQzNCLElBQUksQ0FBQ1ksa0JBQWtCWixRQUFRYSxLQUFLLEdBQUc7UUFDbkMsTUFBTSxJQUFJakIsT0FBT1EsZ0JBQWdCLENBQUNOLFlBQVlPLE1BQU0sQ0FBQ1MsOEJBQThCLEVBQUVkO0lBQ3pGO0lBQ0EsZ0NBQWdDO0lBQ2hDZSx3QkFB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QixNQUFNd0IsNEJBQTRCLEtBQUssWUFBWTtZQUMxRCxNQUFNLElBQUl6QyxPQUFPUSxnQkFBZ0IsQ0FBQ04sWUFBWU8sTUFBTSxDQUFDOEIsMENBQTBDLEVBQUVuQztRQUNyRztJQUNKO0FBQ0o7QUFDQTs7O0NBR0MsR0FDRCxTQUFTUyx1QkFBdUI2QixVQUFVO0lBQ3RDLE9BQVFBLGNBQ0osT0FBT0EsV0FBV0MsSUFBSSxLQUFLLFlBQzNCLE9BQU9ELFdBQVdFLElBQUksS0FBSyxZQUMzQkYsV0FBV0UsSUFBSSxJQUFJLEtBQ25CRixXQUFXRSxJQUFJLElBQUk7QUFDM0I7QUFDQTs7O0NBR0MsR0FDRCxTQUFTNUIsa0JBQWtCQyxLQUFLO0lBQzVCLE9BQVFBLFNBQ0gsUUFBT0EsTUFBTTBCLElBQUksS0FBSyxZQUFZLE9BQU8xQixNQUFNNEIsU0FBUyxLQUFLLFFBQU8sS0FDckUsT0FBTzVCLE1BQU0yQixJQUFJLEtBQUssWUFDdEIzQixNQUFNMkIsSUFBSSxJQUFJLEtBQ2QzQixNQUFNMkIsSUFBSSxJQUFJLFNBQ2IzQixDQUFBQSxNQUFNNkIsSUFBSSxLQUFLLEtBQUs3QixNQUFNNkIsSUFBSSxLQUFLO0FBQzVDO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU3pCLG9CQUFvQnhCLEtBQUs7SUFDOUIsT0FBTyxPQUFPQSxVQUFVLFlBQVlBLFFBQVE7QUFDaEQsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtcmVnaXN0ZXIvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL2hlbHBlcnMuanM/YTRhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmFsaWRhdGVTb2Nrc0NsaWVudENoYWluT3B0aW9ucyA9IGV4cG9ydHMudmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMgPSB2b2lkIDA7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBzdHJlYW0gPSByZXF1aXJlKFwic3RyZWFtXCIpO1xuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIHByb3ZpZGVkIFNvY2tzQ2xpZW50T3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMgeyBTb2Nrc0NsaWVudE9wdGlvbnMgfVxuICogQHBhcmFtIGFjY2VwdGVkQ29tbWFuZHMgeyBzdHJpbmdbXSB9IEEgbGlzdCBvZiBhY2NlcHRlZCBTb2Nrc1Byb3h5IGNvbW1hbmRzLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNvY2tzQ2xpZW50T3B0aW9ucyhvcHRpb25zLCBhY2NlcHRlZENvbW1hbmRzID0gWydjb25uZWN0JywgJ2JpbmQnLCAnYXNzb2NpYXRlJ10pIHtcbiAgICAvLyBDaGVjayBTT0NLcyBjb21tYW5kIG9wdGlvbi5cbiAgICBpZiAoIWNvbnN0YW50c18xLlNvY2tzQ29tbWFuZFtvcHRpb25zLmNvbW1hbmRdKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ29tbWFuZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIENoZWNrIFNvY2tzQ29tbWFuZCBmb3IgYWNjZXB0YWJsZSBjb21tYW5kLlxuICAgIGlmIChhY2NlcHRlZENvbW1hbmRzLmluZGV4T2Yob3B0aW9ucy5jb21tYW5kKSA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDb21tYW5kRm9yT3BlcmF0aW9uLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgZGVzdGluYXRpb25cbiAgICBpZiAoIWlzVmFsaWRTb2Nrc1JlbW90ZUhvc3Qob3B0aW9ucy5kZXN0aW5hdGlvbikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRGVzdGluYXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBDaGVjayBTT0NLUyBwcm94eSB0byB1c2VcbiAgICBpZiAoIWlzVmFsaWRTb2Nrc1Byb3h5KG9wdGlvbnMucHJveHkpKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3h5LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIGF1dGggKGlmIHNldClcbiAgICB2YWxpZGF0ZUN1c3RvbVByb3h5QXV0aChvcHRpb25zLnByb3h5LCBvcHRpb25zKTtcbiAgICAvLyBDaGVjayB0aW1lb3V0XG4gICAgaWYgKG9wdGlvbnMudGltZW91dCAmJiAhaXNWYWxpZFRpbWVvdXRWYWx1ZShvcHRpb25zLnRpbWVvdXQpKSB7XG4gICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1RpbWVvdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBDaGVjayBleGlzdGluZ19zb2NrZXQgKGlmIHByb3ZpZGVkKVxuICAgIGlmIChvcHRpb25zLmV4aXN0aW5nX3NvY2tldCAmJlxuICAgICAgICAhKG9wdGlvbnMuZXhpc3Rpbmdfc29ja2V0IGluc3RhbmNlb2Ygc3RyZWFtLkR1cGxleCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zRXhpc3RpbmdTb2NrZXQsIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMgPSB2YWxpZGF0ZVNvY2tzQ2xpZW50T3B0aW9ucztcbi8qKlxuICogVmFsaWRhdGVzIHRoZSBTb2Nrc0NsaWVudENoYWluT3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMgeyBTb2Nrc0NsaWVudENoYWluT3B0aW9ucyB9XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlU29ja3NDbGllbnRDaGFpbk9wdGlvbnMob3B0aW9ucykge1xuICAgIC8vIE9ubHkgY29ubmVjdCBpcyBzdXBwb3J0ZWQgd2hlbiBjaGFpbmluZy5cbiAgICBpZiAob3B0aW9ucy5jb21tYW5kICE9PSAnY29ubmVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDb21tYW5kQ2hhaW4sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyBDaGVjayBkZXN0aW5hdGlvblxuICAgIGlmICghaXNWYWxpZFNvY2tzUmVtb3RlSG9zdChvcHRpb25zLmRlc3RpbmF0aW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNEZXN0aW5hdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHByb3hpZXMgKGxlbmd0aClcbiAgICBpZiAoIShvcHRpb25zLnByb3hpZXMgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheShvcHRpb25zLnByb3hpZXMpICYmXG4gICAgICAgIG9wdGlvbnMucHJveGllcy5sZW5ndGggPj0gMikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zUHJveGllc0xlbmd0aCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHByb3hpZXNcbiAgICBvcHRpb25zLnByb3hpZXMuZm9yRWFjaCgocHJveHkpID0+IHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkU29ja3NQcm94eShwcm94eSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc1Byb3h5LCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWYWxpZGF0ZSBjdXN0b20gYXV0aCAoaWYgc2V0KVxuICAgICAgICB2YWxpZGF0ZUN1c3RvbVByb3h5QXV0aChwcm94eSwgb3B0aW9ucyk7XG4gICAgfSk7XG4gICAgLy8gQ2hlY2sgdGltZW91dFxuICAgIGlmIChvcHRpb25zLnRpbWVvdXQgJiYgIWlzVmFsaWRUaW1lb3V0VmFsdWUob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNUaW1lb3V0LCBvcHRpb25zKTtcbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlU29ja3NDbGllbnRDaGFpbk9wdGlvbnMgPSB2YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zO1xuZnVuY3Rpb24gdmFsaWRhdGVDdXN0b21Qcm94eUF1dGgocHJveHksIG9wdGlvbnMpIHtcbiAgICBpZiAocHJveHkuY3VzdG9tX2F1dGhfbWV0aG9kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSW52YWxpZCBhdXRoIG1ldGhvZCByYW5nZVxuICAgICAgICBpZiAocHJveHkuY3VzdG9tX2F1dGhfbWV0aG9kIDwgY29uc3RhbnRzXzEuU09DS1M1X0NVU1RPTV9BVVRIX1NUQVJUIHx8XG4gICAgICAgICAgICBwcm94eS5jdXN0b21fYXV0aF9tZXRob2QgPiBjb25zdGFudHNfMS5TT0NLUzVfQ1VTVE9NX0FVVEhfRU5EKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoUmFuZ2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1pc3NpbmcgY3VzdG9tX2F1dGhfcmVxdWVzdF9oYW5kbGVyXG4gICAgICAgIGlmIChwcm94eS5jdXN0b21fYXV0aF9yZXF1ZXN0X2hhbmRsZXIgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgdHlwZW9mIHByb3h5LmN1c3RvbV9hdXRoX3JlcXVlc3RfaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IHV0aWxfMS5Tb2Nrc0NsaWVudEVycm9yKGNvbnN0YW50c18xLkVSUk9SUy5JbnZhbGlkU29ja3NDbGllbnRPcHRpb25zQ3VzdG9tQXV0aE9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1pc3NpbmcgY3VzdG9tX2F1dGhfcmVzcG9uc2Vfc2l6ZVxuICAgICAgICBpZiAocHJveHkuY3VzdG9tX2F1dGhfcmVzcG9uc2Vfc2l6ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgdXRpbF8xLlNvY2tzQ2xpZW50RXJyb3IoY29uc3RhbnRzXzEuRVJST1JTLkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWlzc2luZy9pbnZhbGlkIGN1c3RvbV9hdXRoX3Jlc3BvbnNlX2hhbmRsZXJcbiAgICAgICAgaWYgKHByb3h5LmN1c3RvbV9hdXRoX3Jlc3BvbnNlX2hhbmRsZXIgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgdHlwZW9mIHByb3h5LmN1c3RvbV9hdXRoX3Jlc3BvbnNlX2hhbmRsZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyB1dGlsXzEuU29ja3NDbGllbnRFcnJvcihjb25zdGFudHNfMS5FUlJPUlMuSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVmFsaWRhdGVzIGEgU29ja3NSZW1vdGVIb3N0XG4gKiBAcGFyYW0gcmVtb3RlSG9zdCB7IFNvY2tzUmVtb3RlSG9zdCB9XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRTb2Nrc1JlbW90ZUhvc3QocmVtb3RlSG9zdCkge1xuICAgIHJldHVybiAocmVtb3RlSG9zdCAmJlxuICAgICAgICB0eXBlb2YgcmVtb3RlSG9zdC5ob3N0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0eXBlb2YgcmVtb3RlSG9zdC5wb3J0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICByZW1vdGVIb3N0LnBvcnQgPj0gMCAmJlxuICAgICAgICByZW1vdGVIb3N0LnBvcnQgPD0gNjU1MzUpO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBTb2Nrc1Byb3h5XG4gKiBAcGFyYW0gcHJveHkgeyBTb2Nrc1Byb3h5IH1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZFNvY2tzUHJveHkocHJveHkpIHtcbiAgICByZXR1cm4gKHByb3h5ICYmXG4gICAgICAgICh0eXBlb2YgcHJveHkuaG9zdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHByb3h5LmlwYWRkcmVzcyA9PT0gJ3N0cmluZycpICYmXG4gICAgICAgIHR5cGVvZiBwcm94eS5wb3J0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBwcm94eS5wb3J0ID49IDAgJiZcbiAgICAgICAgcHJveHkucG9ydCA8PSA2NTUzNSAmJlxuICAgICAgICAocHJveHkudHlwZSA9PT0gNCB8fCBwcm94eS50eXBlID09PSA1KSk7XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHRpbWVvdXQgdmFsdWUuXG4gKiBAcGFyYW0gdmFsdWUgeyBOdW1iZXIgfVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkVGltZW91dFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgPiAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJ2YWxpZGF0ZVNvY2tzQ2xpZW50Q2hhaW5PcHRpb25zIiwidmFsaWRhdGVTb2Nrc0NsaWVudE9wdGlvbnMiLCJ1dGlsXzEiLCJyZXF1aXJlIiwiY29uc3RhbnRzXzEiLCJzdHJlYW0iLCJvcHRpb25zIiwiYWNjZXB0ZWRDb21tYW5kcyIsIlNvY2tzQ29tbWFuZCIsImNvbW1hbmQiLCJTb2Nrc0NsaWVudEVycm9yIiwiRVJST1JTIiwiSW52YWxpZFNvY2tzQ29tbWFuZCIsImluZGV4T2YiLCJJbnZhbGlkU29ja3NDb21tYW5kRm9yT3BlcmF0aW9uIiwiaXNWYWxpZFNvY2tzUmVtb3RlSG9zdCIsImRlc3RpbmF0aW9uIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0Rlc3RpbmF0aW9uIiwiaXNWYWxpZFNvY2tzUHJveHkiLCJwcm94eSIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNQcm94eSIsInZhbGlkYXRlQ3VzdG9tUHJveHlBdXRoIiwidGltZW91dCIsImlzVmFsaWRUaW1lb3V0VmFsdWUiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zVGltZW91dCIsImV4aXN0aW5nX3NvY2tldCIsIkR1cGxleCIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNFeGlzdGluZ1NvY2tldCIsIkludmFsaWRTb2Nrc0NvbW1hbmRDaGFpbiIsInByb3hpZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJJbnZhbGlkU29ja3NDbGllbnRPcHRpb25zUHJveGllc0xlbmd0aCIsImZvckVhY2giLCJjdXN0b21fYXV0aF9tZXRob2QiLCJ1bmRlZmluZWQiLCJTT0NLUzVfQ1VTVE9NX0FVVEhfU1RBUlQiLCJTT0NLUzVfQ1VTVE9NX0FVVEhfRU5EIiwiSW52YWxpZFNvY2tzQ2xpZW50T3B0aW9uc0N1c3RvbUF1dGhSYW5nZSIsImN1c3RvbV9hdXRoX3JlcXVlc3RfaGFuZGxlciIsIkludmFsaWRTb2Nrc0NsaWVudE9wdGlvbnNDdXN0b21BdXRoT3B0aW9ucyIsImN1c3RvbV9hdXRoX3Jlc3BvbnNlX3NpemUiLCJjdXN0b21fYXV0aF9yZXNwb25zZV9oYW5kbGVyIiwicmVtb3RlSG9zdCIsImhvc3QiLCJwb3J0IiwiaXBhZGRyZXNzIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/common/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/socks/build/common/receivebuffer.js":
/*!**********************************************************!*\
  !*** ./node_modules/socks/build/common/receivebuffer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ReceiveBuffer = void 0;\nclass ReceiveBuffer {\n    constructor(size = 4096){\n        this.buffer = Buffer.allocUnsafe(size);\n        this.offset = 0;\n        this.originalSize = size;\n    }\n    get length() {\n        return this.offset;\n    }\n    append(data) {\n        if (!Buffer.isBuffer(data)) {\n            throw new Error(\"Attempted to append a non-buffer instance to ReceiveBuffer.\");\n        }\n        if (this.offset + data.length >= this.buffer.length) {\n            const tmp = this.buffer;\n            this.buffer = Buffer.allocUnsafe(Math.max(this.buffer.length + this.originalSize, this.buffer.length + data.length));\n            tmp.copy(this.buffer);\n        }\n        data.copy(this.buffer, this.offset);\n        return this.offset += data.length;\n    }\n    peek(length) {\n        if (length > this.offset) {\n            throw new Error(\"Attempted to read beyond the bounds of the managed internal data.\");\n        }\n        return this.buffer.slice(0, length);\n    }\n    get(length) {\n        if (length > this.offset) {\n            throw new Error(\"Attempted to read beyond the bounds of the managed internal data.\");\n        }\n        const value = Buffer.allocUnsafe(length);\n        this.buffer.slice(0, length).copy(value);\n        this.buffer.copyWithin(0, length, length + this.offset - length);\n        this.offset -= length;\n        return value;\n    }\n}\nexports.ReceiveBuffer = ReceiveBuffer; //# sourceMappingURL=receivebuffer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL3JlY2VpdmVidWZmZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELHFCQUFxQixHQUFHLEtBQUs7QUFDN0IsTUFBTUU7SUFDRkMsWUFBWUMsT0FBTyxJQUFJLENBQUU7UUFDckIsSUFBSSxDQUFDQyxNQUFNLEdBQUdDLE9BQU9DLFdBQVcsQ0FBQ0g7UUFDakMsSUFBSSxDQUFDSSxNQUFNLEdBQUc7UUFDZCxJQUFJLENBQUNDLFlBQVksR0FBR0w7SUFDeEI7SUFDQSxJQUFJTSxTQUFTO1FBQ1QsT0FBTyxJQUFJLENBQUNGLE1BQU07SUFDdEI7SUFDQUcsT0FBT0MsSUFBSSxFQUFFO1FBQ1QsSUFBSSxDQUFDTixPQUFPTyxRQUFRLENBQUNELE9BQU87WUFDeEIsTUFBTSxJQUFJRSxNQUFNO1FBQ3BCO1FBQ0EsSUFBSSxJQUFJLENBQUNOLE1BQU0sR0FBR0ksS0FBS0YsTUFBTSxJQUFJLElBQUksQ0FBQ0wsTUFBTSxDQUFDSyxNQUFNLEVBQUU7WUFDakQsTUFBTUssTUFBTSxJQUFJLENBQUNWLE1BQU07WUFDdkIsSUFBSSxDQUFDQSxNQUFNLEdBQUdDLE9BQU9DLFdBQVcsQ0FBQ1MsS0FBS0MsR0FBRyxDQUFDLElBQUksQ0FBQ1osTUFBTSxDQUFDSyxNQUFNLEdBQUcsSUFBSSxDQUFDRCxZQUFZLEVBQUUsSUFBSSxDQUFDSixNQUFNLENBQUNLLE1BQU0sR0FBR0UsS0FBS0YsTUFBTTtZQUNsSEssSUFBSUcsSUFBSSxDQUFDLElBQUksQ0FBQ2IsTUFBTTtRQUN4QjtRQUNBTyxLQUFLTSxJQUFJLENBQUMsSUFBSSxDQUFDYixNQUFNLEVBQUUsSUFBSSxDQUFDRyxNQUFNO1FBQ2xDLE9BQVEsSUFBSSxDQUFDQSxNQUFNLElBQUlJLEtBQUtGLE1BQU07SUFDdEM7SUFDQVMsS0FBS1QsTUFBTSxFQUFFO1FBQ1QsSUFBSUEsU0FBUyxJQUFJLENBQUNGLE1BQU0sRUFBRTtZQUN0QixNQUFNLElBQUlNLE1BQU07UUFDcEI7UUFDQSxPQUFPLElBQUksQ0FBQ1QsTUFBTSxDQUFDZSxLQUFLLENBQUMsR0FBR1Y7SUFDaEM7SUFDQVcsSUFBSVgsTUFBTSxFQUFFO1FBQ1IsSUFBSUEsU0FBUyxJQUFJLENBQUNGLE1BQU0sRUFBRTtZQUN0QixNQUFNLElBQUlNLE1BQU07UUFDcEI7UUFDQSxNQUFNYixRQUFRSyxPQUFPQyxXQUFXLENBQUNHO1FBQ2pDLElBQUksQ0FBQ0wsTUFBTSxDQUFDZSxLQUFLLENBQUMsR0FBR1YsUUFBUVEsSUFBSSxDQUFDakI7UUFDbEMsSUFBSSxDQUFDSSxNQUFNLENBQUNpQixVQUFVLENBQUMsR0FBR1osUUFBUUEsU0FBUyxJQUFJLENBQUNGLE1BQU0sR0FBR0U7UUFDekQsSUFBSSxDQUFDRixNQUFNLElBQUlFO1FBQ2YsT0FBT1Q7SUFDWDtBQUNKO0FBQ0FELHFCQUFxQixHQUFHRSxlQUN4Qix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtcmVnaXN0ZXIvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL3JlY2VpdmVidWZmZXIuanM/ZGQ5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVjZWl2ZUJ1ZmZlciA9IHZvaWQgMDtcbmNsYXNzIFJlY2VpdmVCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKHNpemUgPSA0MDk2KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKHNpemUpO1xuICAgICAgICB0aGlzLm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMub3JpZ2luYWxTaXplID0gc2l6ZTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0O1xuICAgIH1cbiAgICBhcHBlbmQoZGF0YSkge1xuICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0ZWQgdG8gYXBwZW5kIGEgbm9uLWJ1ZmZlciBpbnN0YW5jZSB0byBSZWNlaXZlQnVmZmVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9mZnNldCArIGRhdGEubGVuZ3RoID49IHRoaXMuYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gdGhpcy5idWZmZXI7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShNYXRoLm1heCh0aGlzLmJ1ZmZlci5sZW5ndGggKyB0aGlzLm9yaWdpbmFsU2l6ZSwgdGhpcy5idWZmZXIubGVuZ3RoICsgZGF0YS5sZW5ndGgpKTtcbiAgICAgICAgICAgIHRtcC5jb3B5KHRoaXMuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmNvcHkodGhpcy5idWZmZXIsIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9mZnNldCArPSBkYXRhLmxlbmd0aCk7XG4gICAgfVxuICAgIHBlZWsobGVuZ3RoKSB7XG4gICAgICAgIGlmIChsZW5ndGggPiB0aGlzLm9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0ZWQgdG8gcmVhZCBiZXlvbmQgdGhlIGJvdW5kcyBvZiB0aGUgbWFuYWdlZCBpbnRlcm5hbCBkYXRhLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cbiAgICBnZXQobGVuZ3RoKSB7XG4gICAgICAgIGlmIChsZW5ndGggPiB0aGlzLm9mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0ZWQgdG8gcmVhZCBiZXlvbmQgdGhlIGJvdW5kcyBvZiB0aGUgbWFuYWdlZCBpbnRlcm5hbCBkYXRhLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnVmZmVyLnNsaWNlKDAsIGxlbmd0aCkuY29weSh2YWx1ZSk7XG4gICAgICAgIHRoaXMuYnVmZmVyLmNvcHlXaXRoaW4oMCwgbGVuZ3RoLCBsZW5ndGggKyB0aGlzLm9mZnNldCAtIGxlbmd0aCk7XG4gICAgICAgIHRoaXMub2Zmc2V0IC09IGxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVjZWl2ZUJ1ZmZlciA9IFJlY2VpdmVCdWZmZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNlaXZlYnVmZmVyLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIlJlY2VpdmVCdWZmZXIiLCJjb25zdHJ1Y3RvciIsInNpemUiLCJidWZmZXIiLCJCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsIm9mZnNldCIsIm9yaWdpbmFsU2l6ZSIsImxlbmd0aCIsImFwcGVuZCIsImRhdGEiLCJpc0J1ZmZlciIsIkVycm9yIiwidG1wIiwiTWF0aCIsIm1heCIsImNvcHkiLCJwZWVrIiwic2xpY2UiLCJnZXQiLCJjb3B5V2l0aGluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/common/receivebuffer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/socks/build/common/util.js":
/*!*************************************************!*\
  !*** ./node_modules/socks/build/common/util.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.shuffleArray = exports.SocksClientError = void 0;\n/**\n * Error wrapper for SocksClient\n */ class SocksClientError extends Error {\n    constructor(message, options){\n        super(message);\n        this.options = options;\n    }\n}\nexports.SocksClientError = SocksClientError;\n/**\n * Shuffles a given array.\n * @param array The array to shuffle.\n */ function shuffleArray(array) {\n    for(let i = array.length - 1; i > 0; i--){\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [\n            array[j],\n            array[i]\n        ];\n    }\n}\nexports.shuffleArray = shuffleArray; //# sourceMappingURL=util.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvY29tbW9uL3V0aWwuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYkEsOENBQTZDO0lBQUVHLE9BQU87QUFBSyxDQUFDLEVBQUM7QUFDN0RELG9CQUFvQixHQUFHQSx3QkFBd0IsR0FBRyxLQUFLO0FBQ3ZEOztDQUVDLEdBQ0QsTUFBTUcseUJBQXlCQztJQUMzQkMsWUFBWUMsT0FBTyxFQUFFQyxPQUFPLENBQUU7UUFDMUIsS0FBSyxDQUFDRDtRQUNOLElBQUksQ0FBQ0MsT0FBTyxHQUFHQTtJQUNuQjtBQUNKO0FBQ0FQLHdCQUF3QixHQUFHRztBQUMzQjs7O0NBR0MsR0FDRCxTQUFTRCxhQUFhTSxLQUFLO0lBQ3ZCLElBQUssSUFBSUMsSUFBSUQsTUFBTUUsTUFBTSxHQUFHLEdBQUdELElBQUksR0FBR0EsSUFBSztRQUN2QyxNQUFNRSxJQUFJQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBTUwsQ0FBQUEsSUFBSTtRQUMxQyxDQUFDRCxLQUFLLENBQUNDLEVBQUUsRUFBRUQsS0FBSyxDQUFDRyxFQUFFLENBQUMsR0FBRztZQUFDSCxLQUFLLENBQUNHLEVBQUU7WUFBRUgsS0FBSyxDQUFDQyxFQUFFO1NBQUM7SUFDL0M7QUFDSjtBQUNBVCxvQkFBb0IsR0FBR0UsY0FDdkIsZ0NBQWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1hdXRoLXJlZ2lzdGVyLy4vbm9kZV9tb2R1bGVzL3NvY2tzL2J1aWxkL2NvbW1vbi91dGlsLmpzPzZjOTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNodWZmbGVBcnJheSA9IGV4cG9ydHMuU29ja3NDbGllbnRFcnJvciA9IHZvaWQgMDtcbi8qKlxuICogRXJyb3Igd3JhcHBlciBmb3IgU29ja3NDbGllbnRcbiAqL1xuY2xhc3MgU29ja3NDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbn1cbmV4cG9ydHMuU29ja3NDbGllbnRFcnJvciA9IFNvY2tzQ2xpZW50RXJyb3I7XG4vKipcbiAqIFNodWZmbGVzIGEgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gKi9cbmZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICAgICAgW2FycmF5W2ldLCBhcnJheVtqXV0gPSBbYXJyYXlbal0sIGFycmF5W2ldXTtcbiAgICB9XG59XG5leHBvcnRzLnNodWZmbGVBcnJheSA9IHNodWZmbGVBcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic2h1ZmZsZUFycmF5IiwiU29ja3NDbGllbnRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwib3B0aW9ucyIsImFycmF5IiwiaSIsImxlbmd0aCIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/common/util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/socks/build/index.js":
/*!*******************************************!*\
  !*** ./node_modules/socks/build/index.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = this && this.__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n        desc = {\n            enumerable: true,\n            get: function() {\n                return m[k];\n            }\n        };\n    }\n    Object.defineProperty(o, k2, desc);\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __exportStar = this && this.__exportStar || function(m, exports1) {\n    for(var p in m)if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports1, p)) __createBinding(exports1, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\n__exportStar(__webpack_require__(/*! ./client/socksclient */ \"(ssr)/./node_modules/socks/build/client/socksclient.js\"), exports); //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc29ja3MvYnVpbGQvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsSUFBSyxJQUFJLElBQUksQ0FBQ0EsZUFBZSxJQUFNQyxDQUFBQSxPQUFPQyxNQUFNLEdBQUksU0FBU0MsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtJQUMxRixJQUFJQSxPQUFPQyxXQUFXRCxLQUFLRDtJQUMzQixJQUFJRyxPQUFPUCxPQUFPUSx3QkFBd0IsQ0FBQ0wsR0FBR0M7SUFDOUMsSUFBSSxDQUFDRyxRQUFTLFVBQVNBLE9BQU8sQ0FBQ0osRUFBRU0sVUFBVSxHQUFHRixLQUFLRyxRQUFRLElBQUlILEtBQUtJLFlBQVksR0FBRztRQUNqRkosT0FBTztZQUFFSyxZQUFZO1lBQU1DLEtBQUs7Z0JBQWEsT0FBT1YsQ0FBQyxDQUFDQyxFQUFFO1lBQUU7UUFBRTtJQUM5RDtJQUNBSixPQUFPYyxjQUFjLENBQUNaLEdBQUdHLElBQUlFO0FBQ2pDLElBQU0sU0FBU0wsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtJQUN0QixJQUFJQSxPQUFPQyxXQUFXRCxLQUFLRDtJQUMzQkYsQ0FBQyxDQUFDRyxHQUFHLEdBQUdGLENBQUMsQ0FBQ0MsRUFBRTtBQUNoQixDQUFDO0FBQ0QsSUFBSVcsZUFBZSxJQUFLLElBQUksSUFBSSxDQUFDQSxZQUFZLElBQUssU0FBU1osQ0FBQyxFQUFFYSxRQUFPO0lBQ2pFLElBQUssSUFBSUMsS0FBS2QsRUFBRyxJQUFJYyxNQUFNLGFBQWEsQ0FBQ2pCLE9BQU9rQixTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSixVQUFTQyxJQUFJbEIsZ0JBQWdCaUIsVUFBU2IsR0FBR2M7QUFDM0g7QUFDQWpCLDhDQUE2QztJQUFFcUIsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3RE4sYUFBYU8sbUJBQU9BLENBQUMsb0ZBQXNCLEdBQUdOLFVBQzlDLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtYXV0aC1yZWdpc3Rlci8uL25vZGVfbW9kdWxlcy9zb2Nrcy9idWlsZC9pbmRleC5qcz9hNzkwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIG9bazJdID0gbVtrXTtcbn0pKTtcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vY2xpZW50L3NvY2tzY2xpZW50XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6WyJfX2NyZWF0ZUJpbmRpbmciLCJPYmplY3QiLCJjcmVhdGUiLCJvIiwibSIsImsiLCJrMiIsInVuZGVmaW5lZCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2VzTW9kdWxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2V4cG9ydFN0YXIiLCJleHBvcnRzIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInZhbHVlIiwicmVxdWlyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/socks/build/index.js\n");

/***/ })

};
;